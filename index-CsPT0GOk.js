(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var Lc={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd;function Ny(){if(Zd)return we;Zd=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),D=Symbol.iterator;function U(N){return N===null||typeof N!="object"?null:(N=D&&N[D]||N["@@iterator"],typeof N=="function"?N:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,Y={};function Q(N,j,oe){this.props=N,this.context=j,this.refs=Y,this.updater=oe||b}Q.prototype.isReactComponent={},Q.prototype.setState=function(N,j){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,j,"setState")},Q.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ve(){}ve.prototype=Q.prototype;function ge(N,j,oe){this.props=N,this.context=j,this.refs=Y,this.updater=oe||b}var ye=ge.prototype=new ve;ye.constructor=ge,X(ye,Q.prototype),ye.isPureReactComponent=!0;var Ie=Array.isArray,Ye=Object.prototype.hasOwnProperty,Ve={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(N,j,oe){var _e,Ee={},Re=null,xe=null;if(j!=null)for(_e in j.ref!==void 0&&(xe=j.ref),j.key!==void 0&&(Re=""+j.key),j)Ye.call(j,_e)&&!k.hasOwnProperty(_e)&&(Ee[_e]=j[_e]);var Le=arguments.length-2;if(Le===1)Ee.children=oe;else if(1<Le){for(var ze=Array(Le),dt=0;dt<Le;dt++)ze[dt]=arguments[dt+2];Ee.children=ze}if(N&&N.defaultProps)for(_e in Le=N.defaultProps,Le)Ee[_e]===void 0&&(Ee[_e]=Le[_e]);return{$$typeof:i,type:N,key:Re,ref:xe,props:Ee,_owner:Ve.current}}function A(N,j){return{$$typeof:i,type:N.type,key:j,ref:N.ref,props:N.props,_owner:N._owner}}function P(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function V(N){var j={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(oe){return j[oe]})}var x=/\/+/g;function S(N,j){return typeof N=="object"&&N!==null&&N.key!=null?V(""+N.key):j.toString(36)}function Je(N,j,oe,_e,Ee){var Re=typeof N;(Re==="undefined"||Re==="boolean")&&(N=null);var xe=!1;if(N===null)xe=!0;else switch(Re){case"string":case"number":xe=!0;break;case"object":switch(N.$$typeof){case i:case e:xe=!0}}if(xe)return xe=N,Ee=Ee(xe),N=_e===""?"."+S(xe,0):_e,Ie(Ee)?(oe="",N!=null&&(oe=N.replace(x,"$&/")+"/"),Je(Ee,j,oe,"",function(dt){return dt})):Ee!=null&&(P(Ee)&&(Ee=A(Ee,oe+(!Ee.key||xe&&xe.key===Ee.key?"":(""+Ee.key).replace(x,"$&/")+"/")+N)),j.push(Ee)),1;if(xe=0,_e=_e===""?".":_e+":",Ie(N))for(var Le=0;Le<N.length;Le++){Re=N[Le];var ze=_e+S(Re,Le);xe+=Je(Re,j,oe,ze,Ee)}else if(ze=U(N),typeof ze=="function")for(N=ze.call(N),Le=0;!(Re=N.next()).done;)Re=Re.value,ze=_e+S(Re,Le++),xe+=Je(Re,j,oe,ze,Ee);else if(Re==="object")throw j=String(N),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return xe}function Rt(N,j,oe){if(N==null)return N;var _e=[],Ee=0;return Je(N,_e,"","",function(Re){return j.call(oe,Re,Ee++)}),_e}function Ct(N){if(N._status===-1){var j=N._result;j=j(),j.then(function(oe){(N._status===0||N._status===-1)&&(N._status=1,N._result=oe)},function(oe){(N._status===0||N._status===-1)&&(N._status=2,N._result=oe)}),N._status===-1&&(N._status=0,N._result=j)}if(N._status===1)return N._result.default;throw N._result}var Fe={current:null},J={transition:null},le={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:J,ReactCurrentOwner:Ve};function ee(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:Rt,forEach:function(N,j,oe){Rt(N,function(){j.apply(this,arguments)},oe)},count:function(N){var j=0;return Rt(N,function(){j++}),j},toArray:function(N){return Rt(N,function(j){return j})||[]},only:function(N){if(!P(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},we.Component=Q,we.Fragment=n,we.Profiler=a,we.PureComponent=ge,we.StrictMode=s,we.Suspense=_,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,we.act=ee,we.cloneElement=function(N,j,oe){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var _e=X({},N.props),Ee=N.key,Re=N.ref,xe=N._owner;if(j!=null){if(j.ref!==void 0&&(Re=j.ref,xe=Ve.current),j.key!==void 0&&(Ee=""+j.key),N.type&&N.type.defaultProps)var Le=N.type.defaultProps;for(ze in j)Ye.call(j,ze)&&!k.hasOwnProperty(ze)&&(_e[ze]=j[ze]===void 0&&Le!==void 0?Le[ze]:j[ze])}var ze=arguments.length-2;if(ze===1)_e.children=oe;else if(1<ze){Le=Array(ze);for(var dt=0;dt<ze;dt++)Le[dt]=arguments[dt+2];_e.children=Le}return{$$typeof:i,type:N.type,key:Ee,ref:Re,props:_e,_owner:xe}},we.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:c,_context:N},N.Consumer=N},we.createElement=T,we.createFactory=function(N){var j=T.bind(null,N);return j.type=N,j},we.createRef=function(){return{current:null}},we.forwardRef=function(N){return{$$typeof:g,render:N}},we.isValidElement=P,we.lazy=function(N){return{$$typeof:I,_payload:{_status:-1,_result:N},_init:Ct}},we.memo=function(N,j){return{$$typeof:E,type:N,compare:j===void 0?null:j}},we.startTransition=function(N){var j=J.transition;J.transition={};try{N()}finally{J.transition=j}},we.unstable_act=ee,we.useCallback=function(N,j){return Fe.current.useCallback(N,j)},we.useContext=function(N){return Fe.current.useContext(N)},we.useDebugValue=function(){},we.useDeferredValue=function(N){return Fe.current.useDeferredValue(N)},we.useEffect=function(N,j){return Fe.current.useEffect(N,j)},we.useId=function(){return Fe.current.useId()},we.useImperativeHandle=function(N,j,oe){return Fe.current.useImperativeHandle(N,j,oe)},we.useInsertionEffect=function(N,j){return Fe.current.useInsertionEffect(N,j)},we.useLayoutEffect=function(N,j){return Fe.current.useLayoutEffect(N,j)},we.useMemo=function(N,j){return Fe.current.useMemo(N,j)},we.useReducer=function(N,j,oe){return Fe.current.useReducer(N,j,oe)},we.useRef=function(N){return Fe.current.useRef(N)},we.useState=function(N){return Fe.current.useState(N)},we.useSyncExternalStore=function(N,j,oe){return Fe.current.useSyncExternalStore(N,j,oe)},we.useTransition=function(){return Fe.current.useTransition()},we.version="18.3.1",we}var ep;function nm(){return ep||(ep=1,Lc.exports=Ny()),Lc.exports}var Uo=nm(),vl={},Mc={exports:{}},Qt={},Oc={exports:{}},Fc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function xy(){return tp||(tp=1,function(i){function e(J,le){var ee=J.length;J.push(le);e:for(;0<ee;){var N=ee-1>>>1,j=J[N];if(0<a(j,le))J[N]=le,J[ee]=j,ee=N;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var le=J[0],ee=J.pop();if(ee!==le){J[0]=ee;e:for(var N=0,j=J.length,oe=j>>>1;N<oe;){var _e=2*(N+1)-1,Ee=J[_e],Re=_e+1,xe=J[Re];if(0>a(Ee,ee))Re<j&&0>a(xe,Ee)?(J[N]=xe,J[Re]=ee,N=Re):(J[N]=Ee,J[_e]=ee,N=_e);else if(Re<j&&0>a(xe,ee))J[N]=xe,J[Re]=ee,N=Re;else break e}}return le}function a(J,le){var ee=J.sortIndex-le.sortIndex;return ee!==0?ee:J.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var _=[],E=[],I=1,D=null,U=3,b=!1,X=!1,Y=!1,Q=typeof setTimeout=="function"?setTimeout:null,ve=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ye(J){for(var le=n(E);le!==null;){if(le.callback===null)s(E);else if(le.startTime<=J)s(E),le.sortIndex=le.expirationTime,e(_,le);else break;le=n(E)}}function Ie(J){if(Y=!1,ye(J),!X)if(n(_)!==null)X=!0,Ct(Ye);else{var le=n(E);le!==null&&Fe(Ie,le.startTime-J)}}function Ye(J,le){X=!1,Y&&(Y=!1,ve(T),T=-1),b=!0;var ee=U;try{for(ye(le),D=n(_);D!==null&&(!(D.expirationTime>le)||J&&!V());){var N=D.callback;if(typeof N=="function"){D.callback=null,U=D.priorityLevel;var j=N(D.expirationTime<=le);le=i.unstable_now(),typeof j=="function"?D.callback=j:D===n(_)&&s(_),ye(le)}else s(_);D=n(_)}if(D!==null)var oe=!0;else{var _e=n(E);_e!==null&&Fe(Ie,_e.startTime-le),oe=!1}return oe}finally{D=null,U=ee,b=!1}}var Ve=!1,k=null,T=-1,A=5,P=-1;function V(){return!(i.unstable_now()-P<A)}function x(){if(k!==null){var J=i.unstable_now();P=J;var le=!0;try{le=k(!0,J)}finally{le?S():(Ve=!1,k=null)}}else Ve=!1}var S;if(typeof ge=="function")S=function(){ge(x)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,Rt=Je.port2;Je.port1.onmessage=x,S=function(){Rt.postMessage(null)}}else S=function(){Q(x,0)};function Ct(J){k=J,Ve||(Ve=!0,S())}function Fe(J,le){T=Q(function(){J(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){X||b||(X=!0,Ct(Ye))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return U},i.unstable_getFirstCallbackNode=function(){return n(_)},i.unstable_next=function(J){switch(U){case 1:case 2:case 3:var le=3;break;default:le=U}var ee=U;U=le;try{return J()}finally{U=ee}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ee=U;U=J;try{return le()}finally{U=ee}},i.unstable_scheduleCallback=function(J,le,ee){var N=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?N+ee:N):ee=N,J){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ee+j,J={id:I++,callback:le,priorityLevel:J,startTime:ee,expirationTime:j,sortIndex:-1},ee>N?(J.sortIndex=ee,e(E,J),n(_)===null&&J===n(E)&&(Y?(ve(T),T=-1):Y=!0,Fe(Ie,ee-N))):(J.sortIndex=j,e(_,J),X||b||(X=!0,Ct(Ye))),J},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(J){var le=U;return function(){var ee=U;U=le;try{return J.apply(this,arguments)}finally{U=ee}}}}(Fc)),Fc}var np;function Ly(){return np||(np=1,Oc.exports=xy()),Oc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function My(){if(rp)return Qt;rp=1;var i=nm(),e=Ly();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},D={};function U(t){return _.call(D,t)?!0:_.call(I,t)?!1:E.test(t)?D[t]=!0:(I[t]=!0,!1)}function b(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function X(t,r,o,u){if(r===null||typeof r>"u"||b(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Y(t,r,o,u,h,p,y){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=y}var Q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Q[t]=new Y(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];Q[r]=new Y(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){Q[t]=new Y(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Q[t]=new Y(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Q[t]=new Y(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){Q[t]=new Y(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){Q[t]=new Y(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){Q[t]=new Y(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){Q[t]=new Y(t,5,!1,t.toLowerCase(),null,!1,!1)});var ve=/[\-:]([a-z])/g;function ge(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(ve,ge);Q[r]=new Y(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(ve,ge);Q[r]=new Y(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(ve,ge);Q[r]=new Y(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){Q[t]=new Y(t,1,!1,t.toLowerCase(),null,!1,!1)}),Q.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){Q[t]=new Y(t,1,!1,t.toLowerCase(),null,!0,!0)});function ye(t,r,o,u){var h=Q.hasOwnProperty(r)?Q[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(X(r,o,h,u)&&(o=null),u||h===null?U(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var Ie=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ye=Symbol.for("react.element"),Ve=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),V=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),Rt=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),J=Symbol.iterator;function le(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,N;function j(t){if(N===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);N=r&&r[1]||""}return`
`+N+t}var oe=!1;function _e(t,r){if(!t||oe)return"";oe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(F){var u=F}Reflect.construct(t,[],r)}else{try{r.call()}catch(F){u=F}t.call(r.prototype)}else{try{throw Error()}catch(F){u=F}t()}}catch(F){if(F&&u&&typeof F.stack=="string"){for(var h=F.stack.split(`
`),p=u.stack.split(`
`),y=h.length-1,w=p.length-1;1<=y&&0<=w&&h[y]!==p[w];)w--;for(;1<=y&&0<=w;y--,w--)if(h[y]!==p[w]){if(y!==1||w!==1)do if(y--,w--,0>w||h[y]!==p[w]){var R=`
`+h[y].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=y&&0<=w);break}}}finally{oe=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?j(t):""}function Ee(t){switch(t.tag){case 5:return j(t.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return t=_e(t.type,!1),t;case 11:return t=_e(t.type.render,!1),t;case 1:return t=_e(t.type,!0),t;default:return""}}function Re(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case Ve:return"Portal";case A:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case Je:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case x:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rt:return r=t.displayName||null,r!==null?r:Re(t.type)||"Memo";case Ct:r=t._payload,t=t._init;try{return Re(t(r))}catch{}}return null}function xe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Le(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ze(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function dt(t){var r=ze(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,p.call(this,y)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Wn(t){t._valueTracker||(t._valueTracker=dt(t))}function xi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=ze(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function pr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zr(t,r){var o=r.checked;return ee({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Li(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Le(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function $s(t,r){r=r.checked,r!=null&&ye(t,"checked",r,!1)}function qs(t,r){$s(t,r);var o=Le(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Mi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Mi(t,r.type,Le(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function ia(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Mi(t,r,o){(r!=="number"||pr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Kn=Array.isArray;function Gn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Le(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Hs(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Oi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Kn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Le(o)}}function Fi(t,r){var o=Le(r.value),u=Le(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Qs(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ot(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?st(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xn,Ws=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Xn=Xn||document.createElement("div"),Xn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Xn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function mr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ti=["Webkit","ms","Moz","O"];Object.keys(ei).forEach(function(t){ti.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ei[r]=ei[t]})});function Ks(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ei.hasOwnProperty(t)&&ei[t]?(""+r).trim():r+"px"}function Gs(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=Ks(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var Xs=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ys(t,r){if(r){if(Xs[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function Js(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ni=null;function Ui(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zi=null,rn=null,Dn=null;function Bi(t){if(t=Io(t)){if(typeof zi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=La(r),zi(t.stateNode,t.type,r))}}function Nn(t){rn?Dn?Dn.push(t):Dn=[t]:rn=t}function Zs(){if(rn){var t=rn,r=Dn;if(Dn=rn=null,Bi(t),r)for(t=0;t<r.length;t++)Bi(r[t])}}function ri(t,r){return t(r)}function eo(){}var Yn=!1;function to(t,r,o){if(Yn)return t(r,o);Yn=!0;try{return ri(t,r,o)}finally{Yn=!1,(rn!==null||Dn!==null)&&(eo(),Zs())}}function Ze(t,r){var o=t.stateNode;if(o===null)return null;var u=La(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var ji=!1;if(g)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){ji=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{ji=!1}function ii(t,r,o,u,h,p,y,w,R){var F=Array.prototype.slice.call(arguments,3);try{r.apply(o,F)}catch(q){this.onError(q)}}var si=!1,bi=null,gn=!1,no=null,lu={onError:function(t){si=!0,bi=t}};function $i(t,r,o,u,h,p,y,w,R){si=!1,bi=null,ii.apply(lu,arguments)}function sa(t,r,o,u,h,p,y,w,R){if($i.apply(this,arguments),si){if(si){var F=bi;si=!1,bi=null}else throw Error(n(198));gn||(gn=!0,no=F)}}function yn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function oi(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function _n(t){if(yn(t)!==t)throw Error(n(188))}function oa(t){var r=t.alternate;if(!r){if(r=yn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return _n(h),t;if(p===u)return _n(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var y=!1,w=h.child;w;){if(w===o){y=!0,o=h,u=p;break}if(w===u){y=!0,u=h,o=p;break}w=w.sibling}if(!y){for(w=p.child;w;){if(w===o){y=!0,o=p,u=h;break}if(w===u){y=!0,u=p,o=h;break}w=w.sibling}if(!y)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function ro(t){return t=oa(t),t!==null?qi(t):null}function qi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=qi(t);if(r!==null)return r;t=t.sibling}return null}var Hi=e.unstable_scheduleCallback,io=e.unstable_cancelCallback,aa=e.unstable_shouldYield,uu=e.unstable_requestPaint,Be=e.unstable_now,la=e.unstable_getCurrentPriorityLevel,ai=e.unstable_ImmediatePriority,gr=e.unstable_UserBlockingPriority,sn=e.unstable_NormalPriority,so=e.unstable_LowPriority,ua=e.unstable_IdlePriority,li=null,Gt=null;function ca(t){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(li,t,void 0,(t.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:fa,oo=Math.log,ha=Math.LN2;function fa(t){return t>>>=0,t===0?32:31-(oo(t)/ha|0)|0}var Qi=64,Wi=4194304;function yr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ui(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,y=o&268435455;if(y!==0){var w=y&~h;w!==0?u=yr(w):(p&=y,p!==0&&(u=yr(p)))}else y=o&~h,y!==0?u=yr(y):p!==0&&(u=yr(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Mt(r),h=1<<o,u|=t[o],r&=~h;return u}function cu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jn(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var y=31-Mt(p),w=1<<y,R=h[y];R===-1?(!(w&o)||w&u)&&(h[y]=cu(w,r)):R<=r&&(t.expiredLanes|=w),p&=~w}}function Xt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ci(){var t=Qi;return Qi<<=1,!(Qi&4194240)&&(Qi=64),t}function _r(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function vr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Mt(r),t[r]=o}function Ue(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Mt(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function Er(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Mt(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Se=0;function wr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var da,Ki,pa,ma,ga,ao=!1,xn=[],vt=null,vn=null,En=null,Tr=new Map,on=new Map,Ln=[],hu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ya(t,r){switch(t){case"focusin":case"focusout":vt=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Tr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":on.delete(r.pointerId)}}function zt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Io(r),r!==null&&Ki(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function fu(t,r,o,u,h){switch(r){case"focusin":return vt=zt(vt,t,r,o,u,h),!0;case"dragenter":return vn=zt(vn,t,r,o,u,h),!0;case"mouseover":return En=zt(En,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Tr.set(p,zt(Tr.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,on.set(p,zt(on.get(p)||null,t,r,o,u,h)),!0}return!1}function _a(t){var r=mi(t.target);if(r!==null){var o=yn(r);if(o!==null){if(r=o.tag,r===13){if(r=oi(o),r!==null){t.blockedOn=r,ga(t.priority,function(){pa(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zn(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Gi(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ni=u,o.target.dispatchEvent(u),ni=null}else return r=Io(o),r!==null&&Ki(r),t.blockedOn=o,!1;r.shift()}return!0}function hi(t,r,o){Zn(t)&&o.delete(r)}function va(){ao=!1,vt!==null&&Zn(vt)&&(vt=null),vn!==null&&Zn(vn)&&(vn=null),En!==null&&Zn(En)&&(En=null),Tr.forEach(hi),on.forEach(hi)}function wn(t,r){t.blockedOn===r&&(t.blockedOn=null,ao||(ao=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,va)))}function Tn(t){function r(h){return wn(h,t)}if(0<xn.length){wn(xn[0],t);for(var o=1;o<xn.length;o++){var u=xn[o];u.blockedOn===t&&(u.blockedOn=null)}}for(vt!==null&&wn(vt,t),vn!==null&&wn(vn,t),En!==null&&wn(En,t),Tr.forEach(r),on.forEach(r),o=0;o<Ln.length;o++)u=Ln[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Ln.length&&(o=Ln[0],o.blockedOn===null);)_a(o),o.blockedOn===null&&Ln.shift()}var er=Ie.ReactCurrentBatchConfig,Ir=!0;function qe(t,r,o,u){var h=Se,p=er.transition;er.transition=null;try{Se=1,lo(t,r,o,u)}finally{Se=h,er.transition=p}}function du(t,r,o,u){var h=Se,p=er.transition;er.transition=null;try{Se=4,lo(t,r,o,u)}finally{Se=h,er.transition=p}}function lo(t,r,o,u){if(Ir){var h=Gi(t,r,o,u);if(h===null)Su(t,r,u,fi,o),ya(t,u);else if(fu(h,t,r,o,u))u.stopPropagation();else if(ya(t,u),r&4&&-1<hu.indexOf(t)){for(;h!==null;){var p=Io(h);if(p!==null&&da(p),p=Gi(t,r,o,u),p===null&&Su(t,r,u,fi,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Su(t,r,u,null,o)}}var fi=null;function Gi(t,r,o,u){if(fi=null,t=Ui(u),t=mi(t),t!==null)if(r=yn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=oi(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return fi=t,null}function uo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(la()){case ai:return 1;case gr:return 4;case sn:case so:return 16;case ua:return 536870912;default:return 16}default:return 16}}var Yt=null,Xi=null,Bt=null;function co(){if(Bt)return Bt;var t,r=Xi,o=r.length,u,h="value"in Yt?Yt.value:Yt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var y=o-t;for(u=1;u<=y&&r[o-u]===h[p-u];u++);return Bt=h.slice(t,1<u?1-u:void 0)}function Yi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Mn(){return!0}function ho(){return!1}function Et(t){function r(o,u,h,p,y){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(o=t[w],this[w]=o?o(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Mn:ho,this.isPropagationStopped=ho,this}return ee(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Mn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Mn)},persist:function(){},isPersistent:Mn}),r}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=Et(In),On=ee({},In,{view:0,detail:0}),pu=Et(On),Zi,tr,Sr,di=ee({},On,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sr&&(Sr&&t.type==="mousemove"?(Zi=t.screenX-Sr.screenX,tr=t.screenY-Sr.screenY):tr=Zi=0,Sr=t),Zi)},movementY:function(t){return"movementY"in t?t.movementY:tr}}),es=Et(di),fo=ee({},di,{dataTransfer:0}),Ea=Et(fo),ts=ee({},On,{relatedTarget:0}),ns=Et(ts),wa=ee({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),nr=Et(wa),Ta=ee({},In,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ia=Et(Ta),Sa=ee({},In,{data:0}),po=Et(Sa),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ot={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Aa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ra(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Aa[t])?!!r[t]:!1}function Fn(){return Ra}var l=ee({},On,{key:function(t){if(t.key){var r=rs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Yi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ot[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fn,charCode:function(t){return t.type==="keypress"?Yi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=Et(l),m=ee({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v=Et(m),L=ee({},On,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fn}),z=Et(L),G=ee({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oe=Et(G),at=ee({},di,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ce=Et(at),pt=[9,13,27,32],nt=g&&"CompositionEvent"in window,an=null;g&&"documentMode"in document&&(an=document.documentMode);var Jt=g&&"TextEvent"in window&&!an,pi=g&&(!nt||an&&8<an&&11>=an),is=" ",Qh=!1;function Wh(t,r){switch(t){case"keyup":return pt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ss=!1;function Vg(t,r){switch(t){case"compositionend":return Kh(r);case"keypress":return r.which!==32?null:(Qh=!0,is);case"textInput":return t=r.data,t===is&&Qh?null:t;default:return null}}function Dg(t,r){if(ss)return t==="compositionend"||!nt&&Wh(t,r)?(t=co(),Bt=Xi=Yt=null,ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return pi&&r.locale!=="ko"?null:r.data;default:return null}}var Ng={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ng[t.type]:r==="textarea"}function Xh(t,r,o,u){Nn(u),r=Da(r,"onChange"),0<r.length&&(o=new Ji("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var mo=null,go=null;function xg(t){mf(t,0)}function Ca(t){var r=cs(t);if(xi(r))return t}function Lg(t,r){if(t==="change")return r}var Yh=!1;if(g){var mu;if(g){var gu="oninput"in document;if(!gu){var Jh=document.createElement("div");Jh.setAttribute("oninput","return;"),gu=typeof Jh.oninput=="function"}mu=gu}else mu=!1;Yh=mu&&(!document.documentMode||9<document.documentMode)}function Zh(){mo&&(mo.detachEvent("onpropertychange",ef),go=mo=null)}function ef(t){if(t.propertyName==="value"&&Ca(go)){var r=[];Xh(r,go,t,Ui(t)),to(xg,r)}}function Mg(t,r,o){t==="focusin"?(Zh(),mo=r,go=o,mo.attachEvent("onpropertychange",ef)):t==="focusout"&&Zh()}function Og(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ca(go)}function Fg(t,r){if(t==="click")return Ca(r)}function Ug(t,r){if(t==="input"||t==="change")return Ca(r)}function zg(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Sn=typeof Object.is=="function"?Object.is:zg;function yo(t,r){if(Sn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!_.call(r,h)||!Sn(t[h],r[h]))return!1}return!0}function tf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nf(t,r){var o=tf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=tf(o)}}function rf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?rf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function sf(){for(var t=window,r=pr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=pr(t.document)}return r}function yu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Bg(t){var r=sf(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&rf(o.ownerDocument.documentElement,o)){if(u!==null&&yu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=nf(o,p);var y=nf(o,u);h&&y&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(y.node,y.offset)):(r.setEnd(y.node,y.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jg=g&&"documentMode"in document&&11>=document.documentMode,os=null,_u=null,_o=null,vu=!1;function of(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;vu||os==null||os!==pr(u)||(u=os,"selectionStart"in u&&yu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),_o&&yo(_o,u)||(_o=u,u=Da(_u,"onSelect"),0<u.length&&(r=new Ji("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=os)))}function Pa(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var as={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionend:Pa("Transition","TransitionEnd")},Eu={},af={};g&&(af=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function ka(t){if(Eu[t])return Eu[t];if(!as[t])return t;var r=as[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in af)return Eu[t]=r[o];return t}var lf=ka("animationend"),uf=ka("animationiteration"),cf=ka("animationstart"),hf=ka("transitionend"),ff=new Map,df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,r){ff.set(t,r),c(r,[t])}for(var wu=0;wu<df.length;wu++){var Tu=df[wu],bg=Tu.toLowerCase(),$g=Tu[0].toUpperCase()+Tu.slice(1);Ar(bg,"on"+$g)}Ar(lf,"onAnimationEnd"),Ar(uf,"onAnimationIteration"),Ar(cf,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(hf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qg=new Set("cancel close invalid load scroll toggle".split(" ").concat(vo));function pf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,sa(u,r,void 0,t),t.currentTarget=null}function mf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var y=u.length-1;0<=y;y--){var w=u[y],R=w.instance,F=w.currentTarget;if(w=w.listener,R!==p&&h.isPropagationStopped())break e;pf(h,w,F),p=R}else for(y=0;y<u.length;y++){if(w=u[y],R=w.instance,F=w.currentTarget,w=w.listener,R!==p&&h.isPropagationStopped())break e;pf(h,w,F),p=R}}}if(gn)throw t=no,gn=!1,no=null,t}function be(t,r){var o=r[Vu];o===void 0&&(o=r[Vu]=new Set);var u=t+"__bubble";o.has(u)||(gf(r,t,2,!1),o.add(u))}function Iu(t,r,o){var u=0;r&&(u|=4),gf(o,t,u,r)}var Va="_reactListening"+Math.random().toString(36).slice(2);function Eo(t){if(!t[Va]){t[Va]=!0,s.forEach(function(o){o!=="selectionchange"&&(qg.has(o)||Iu(o,!1,t),Iu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Va]||(r[Va]=!0,Iu("selectionchange",!1,r))}}function gf(t,r,o,u){switch(uo(r)){case 1:var h=qe;break;case 4:h=du;break;default:h=lo}o=h.bind(null,r,o,t),h=void 0,!ji||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Su(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var R=y.tag;if((R===3||R===4)&&(R=y.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;y=y.return}for(;w!==null;){if(y=mi(w),y===null)return;if(R=y.tag,R===5||R===6){u=p=y;continue e}w=w.parentNode}}u=u.return}to(function(){var F=p,q=Ui(o),W=[];e:{var $=ff.get(t);if($!==void 0){var Z=Ji,re=t;switch(t){case"keypress":if(Yi(o)===0)break e;case"keydown":case"keyup":Z=d;break;case"focusin":re="focus",Z=ns;break;case"focusout":re="blur",Z=ns;break;case"beforeblur":case"afterblur":Z=ns;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Ea;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=z;break;case lf:case uf:case cf:Z=nr;break;case hf:Z=Oe;break;case"scroll":Z=pu;break;case"wheel":Z=Ce;break;case"copy":case"cut":case"paste":Z=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=v}var ie=(r&4)!==0,et=!ie&&t==="scroll",M=ie?$!==null?$+"Capture":null:$;ie=[];for(var C=F,O;C!==null;){O=C;var K=O.stateNode;if(O.tag===5&&K!==null&&(O=K,M!==null&&(K=Ze(C,M),K!=null&&ie.push(wo(C,K,O)))),et)break;C=C.return}0<ie.length&&($=new Z($,re,null,o,q),W.push({event:$,listeners:ie}))}}if(!(r&7)){e:{if($=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",$&&o!==ni&&(re=o.relatedTarget||o.fromElement)&&(mi(re)||re[rr]))break e;if((Z||$)&&($=q.window===q?q:($=q.ownerDocument)?$.defaultView||$.parentWindow:window,Z?(re=o.relatedTarget||o.toElement,Z=F,re=re?mi(re):null,re!==null&&(et=yn(re),re!==et||re.tag!==5&&re.tag!==6)&&(re=null)):(Z=null,re=F),Z!==re)){if(ie=es,K="onMouseLeave",M="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ie=v,K="onPointerLeave",M="onPointerEnter",C="pointer"),et=Z==null?$:cs(Z),O=re==null?$:cs(re),$=new ie(K,C+"leave",Z,o,q),$.target=et,$.relatedTarget=O,K=null,mi(q)===F&&(ie=new ie(M,C+"enter",re,o,q),ie.target=O,ie.relatedTarget=et,K=ie),et=K,Z&&re)t:{for(ie=Z,M=re,C=0,O=ie;O;O=ls(O))C++;for(O=0,K=M;K;K=ls(K))O++;for(;0<C-O;)ie=ls(ie),C--;for(;0<O-C;)M=ls(M),O--;for(;C--;){if(ie===M||M!==null&&ie===M.alternate)break t;ie=ls(ie),M=ls(M)}ie=null}else ie=null;Z!==null&&yf(W,$,Z,ie,!1),re!==null&&et!==null&&yf(W,et,re,ie,!0)}}e:{if($=F?cs(F):window,Z=$.nodeName&&$.nodeName.toLowerCase(),Z==="select"||Z==="input"&&$.type==="file")var se=Lg;else if(Gh($))if(Yh)se=Ug;else{se=Og;var ue=Mg}else(Z=$.nodeName)&&Z.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(se=Fg);if(se&&(se=se(t,F))){Xh(W,se,o,q);break e}ue&&ue(t,$,F),t==="focusout"&&(ue=$._wrapperState)&&ue.controlled&&$.type==="number"&&Mi($,"number",$.value)}switch(ue=F?cs(F):window,t){case"focusin":(Gh(ue)||ue.contentEditable==="true")&&(os=ue,_u=F,_o=null);break;case"focusout":_o=_u=os=null;break;case"mousedown":vu=!0;break;case"contextmenu":case"mouseup":case"dragend":vu=!1,of(W,o,q);break;case"selectionchange":if(jg)break;case"keydown":case"keyup":of(W,o,q)}var ce;if(nt)e:{switch(t){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else ss?Wh(t,o)&&(fe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(fe="onCompositionStart");fe&&(pi&&o.locale!=="ko"&&(ss||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&ss&&(ce=co()):(Yt=q,Xi="value"in Yt?Yt.value:Yt.textContent,ss=!0)),ue=Da(F,fe),0<ue.length&&(fe=new po(fe,t,null,o,q),W.push({event:fe,listeners:ue}),ce?fe.data=ce:(ce=Kh(o),ce!==null&&(fe.data=ce)))),(ce=Jt?Vg(t,o):Dg(t,o))&&(F=Da(F,"onBeforeInput"),0<F.length&&(q=new po("onBeforeInput","beforeinput",null,o,q),W.push({event:q,listeners:F}),q.data=ce))}mf(W,r)})}function wo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Da(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=Ze(t,o),p!=null&&u.unshift(wo(t,p,h)),p=Ze(t,r),p!=null&&u.push(wo(t,p,h))),t=t.return}return u}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yf(t,r,o,u,h){for(var p=r._reactName,y=[];o!==null&&o!==u;){var w=o,R=w.alternate,F=w.stateNode;if(R!==null&&R===u)break;w.tag===5&&F!==null&&(w=F,h?(R=Ze(o,p),R!=null&&y.unshift(wo(o,R,w))):h||(R=Ze(o,p),R!=null&&y.push(wo(o,R,w)))),o=o.return}y.length!==0&&t.push({event:r,listeners:y})}var Hg=/\r\n?/g,Qg=/\u0000|\uFFFD/g;function _f(t){return(typeof t=="string"?t:""+t).replace(Hg,`
`).replace(Qg,"")}function Na(t,r,o){if(r=_f(r),_f(t)!==r&&o)throw Error(n(425))}function xa(){}var Au=null,Ru=null;function Cu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Pu=typeof setTimeout=="function"?setTimeout:void 0,Wg=typeof clearTimeout=="function"?clearTimeout:void 0,vf=typeof Promise=="function"?Promise:void 0,Kg=typeof queueMicrotask=="function"?queueMicrotask:typeof vf<"u"?function(t){return vf.resolve(null).then(t).catch(Gg)}:Pu;function Gg(t){setTimeout(function(){throw t})}function ku(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),Tn(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Tn(r)}function Rr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Ef(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var us=Math.random().toString(36).slice(2),Un="__reactFiber$"+us,To="__reactProps$"+us,rr="__reactContainer$"+us,Vu="__reactEvents$"+us,Xg="__reactListeners$"+us,Yg="__reactHandles$"+us;function mi(t){var r=t[Un];if(r)return r;for(var o=t.parentNode;o;){if(r=o[rr]||o[Un]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Ef(t);t!==null;){if(o=t[Un])return o;t=Ef(t)}return r}t=o,o=t.parentNode}return null}function Io(t){return t=t[Un]||t[rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function La(t){return t[To]||null}var Du=[],hs=-1;function Cr(t){return{current:t}}function $e(t){0>hs||(t.current=Du[hs],Du[hs]=null,hs--)}function je(t,r){hs++,Du[hs]=t.current,t.current=r}var Pr={},Pt=Cr(Pr),jt=Cr(!1),gi=Pr;function fs(t,r){var o=t.type.contextTypes;if(!o)return Pr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function bt(t){return t=t.childContextTypes,t!=null}function Ma(){$e(jt),$e(Pt)}function wf(t,r,o){if(Pt.current!==Pr)throw Error(n(168));je(Pt,r),je(jt,o)}function Tf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,xe(t)||"Unknown",h));return ee({},o,u)}function Oa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pr,gi=Pt.current,je(Pt,t),je(jt,jt.current),!0}function If(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Tf(t,r,gi),u.__reactInternalMemoizedMergedChildContext=t,$e(jt),$e(Pt),je(Pt,t)):$e(jt),je(jt,o)}var ir=null,Fa=!1,Nu=!1;function Sf(t){ir===null?ir=[t]:ir.push(t)}function Jg(t){Fa=!0,Sf(t)}function kr(){if(!Nu&&ir!==null){Nu=!0;var t=0,r=Se;try{var o=ir;for(Se=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}ir=null,Fa=!1}catch(h){throw ir!==null&&(ir=ir.slice(t+1)),Hi(ai,kr),h}finally{Se=r,Nu=!1}}return null}var ds=[],ps=0,Ua=null,za=0,ln=[],un=0,yi=null,sr=1,or="";function _i(t,r){ds[ps++]=za,ds[ps++]=Ua,Ua=t,za=r}function Af(t,r,o){ln[un++]=sr,ln[un++]=or,ln[un++]=yi,yi=t;var u=sr;t=or;var h=32-Mt(u)-1;u&=~(1<<h),o+=1;var p=32-Mt(r)+h;if(30<p){var y=h-h%5;p=(u&(1<<y)-1).toString(32),u>>=y,h-=y,sr=1<<32-Mt(r)+h|o<<h|u,or=p+t}else sr=1<<p|o<<h|u,or=t}function xu(t){t.return!==null&&(_i(t,1),Af(t,1,0))}function Lu(t){for(;t===Ua;)Ua=ds[--ps],ds[ps]=null,za=ds[--ps],ds[ps]=null;for(;t===yi;)yi=ln[--un],ln[un]=null,or=ln[--un],ln[un]=null,sr=ln[--un],ln[un]=null}var Zt=null,en=null,He=!1,An=null;function Rf(t,r){var o=dn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Cf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Zt=t,en=Rr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Zt=t,en=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=yi!==null?{id:sr,overflow:or}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=dn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,Zt=t,en=null,!0):!1;default:return!1}}function Mu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ou(t){if(He){var r=en;if(r){var o=r;if(!Cf(t,r)){if(Mu(t))throw Error(n(418));r=Rr(o.nextSibling);var u=Zt;r&&Cf(t,r)?Rf(u,o):(t.flags=t.flags&-4097|2,He=!1,Zt=t)}}else{if(Mu(t))throw Error(n(418));t.flags=t.flags&-4097|2,He=!1,Zt=t}}}function Pf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function Ba(t){if(t!==Zt)return!1;if(!He)return Pf(t),He=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Cu(t.type,t.memoizedProps)),r&&(r=en)){if(Mu(t))throw kf(),Error(n(418));for(;r;)Rf(t,r),r=Rr(r.nextSibling)}if(Pf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){en=Rr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}en=null}}else en=Zt?Rr(t.stateNode.nextSibling):null;return!0}function kf(){for(var t=en;t;)t=Rr(t.nextSibling)}function ms(){en=Zt=null,He=!1}function Fu(t){An===null?An=[t]:An.push(t)}var Zg=Ie.ReactCurrentBatchConfig;function So(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(y){var w=h.refs;y===null?delete w[p]:w[p]=y},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function ja(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Vf(t){var r=t._init;return r(t._payload)}function Df(t){function r(M,C){if(t){var O=M.deletions;O===null?(M.deletions=[C],M.flags|=16):O.push(C)}}function o(M,C){if(!t)return null;for(;C!==null;)r(M,C),C=C.sibling;return null}function u(M,C){for(M=new Map;C!==null;)C.key!==null?M.set(C.key,C):M.set(C.index,C),C=C.sibling;return M}function h(M,C){return M=Fr(M,C),M.index=0,M.sibling=null,M}function p(M,C,O){return M.index=O,t?(O=M.alternate,O!==null?(O=O.index,O<C?(M.flags|=2,C):O):(M.flags|=2,C)):(M.flags|=1048576,C)}function y(M){return t&&M.alternate===null&&(M.flags|=2),M}function w(M,C,O,K){return C===null||C.tag!==6?(C=Pc(O,M.mode,K),C.return=M,C):(C=h(C,O),C.return=M,C)}function R(M,C,O,K){var se=O.type;return se===k?q(M,C,O.props.children,K,O.key):C!==null&&(C.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Ct&&Vf(se)===C.type)?(K=h(C,O.props),K.ref=So(M,C,O),K.return=M,K):(K=hl(O.type,O.key,O.props,null,M.mode,K),K.ref=So(M,C,O),K.return=M,K)}function F(M,C,O,K){return C===null||C.tag!==4||C.stateNode.containerInfo!==O.containerInfo||C.stateNode.implementation!==O.implementation?(C=kc(O,M.mode,K),C.return=M,C):(C=h(C,O.children||[]),C.return=M,C)}function q(M,C,O,K,se){return C===null||C.tag!==7?(C=Ri(O,M.mode,K,se),C.return=M,C):(C=h(C,O),C.return=M,C)}function W(M,C,O){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Pc(""+C,M.mode,O),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ye:return O=hl(C.type,C.key,C.props,null,M.mode,O),O.ref=So(M,null,C),O.return=M,O;case Ve:return C=kc(C,M.mode,O),C.return=M,C;case Ct:var K=C._init;return W(M,K(C._payload),O)}if(Kn(C)||le(C))return C=Ri(C,M.mode,O,null),C.return=M,C;ja(M,C)}return null}function $(M,C,O,K){var se=C!==null?C.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return se!==null?null:w(M,C,""+O,K);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Ye:return O.key===se?R(M,C,O,K):null;case Ve:return O.key===se?F(M,C,O,K):null;case Ct:return se=O._init,$(M,C,se(O._payload),K)}if(Kn(O)||le(O))return se!==null?null:q(M,C,O,K,null);ja(M,O)}return null}function Z(M,C,O,K,se){if(typeof K=="string"&&K!==""||typeof K=="number")return M=M.get(O)||null,w(C,M,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Ye:return M=M.get(K.key===null?O:K.key)||null,R(C,M,K,se);case Ve:return M=M.get(K.key===null?O:K.key)||null,F(C,M,K,se);case Ct:var ue=K._init;return Z(M,C,O,ue(K._payload),se)}if(Kn(K)||le(K))return M=M.get(O)||null,q(C,M,K,se,null);ja(C,K)}return null}function re(M,C,O,K){for(var se=null,ue=null,ce=C,fe=C=0,yt=null;ce!==null&&fe<O.length;fe++){ce.index>fe?(yt=ce,ce=null):yt=ce.sibling;var Ne=$(M,ce,O[fe],K);if(Ne===null){ce===null&&(ce=yt);break}t&&ce&&Ne.alternate===null&&r(M,ce),C=p(Ne,C,fe),ue===null?se=Ne:ue.sibling=Ne,ue=Ne,ce=yt}if(fe===O.length)return o(M,ce),He&&_i(M,fe),se;if(ce===null){for(;fe<O.length;fe++)ce=W(M,O[fe],K),ce!==null&&(C=p(ce,C,fe),ue===null?se=ce:ue.sibling=ce,ue=ce);return He&&_i(M,fe),se}for(ce=u(M,ce);fe<O.length;fe++)yt=Z(ce,M,fe,O[fe],K),yt!==null&&(t&&yt.alternate!==null&&ce.delete(yt.key===null?fe:yt.key),C=p(yt,C,fe),ue===null?se=yt:ue.sibling=yt,ue=yt);return t&&ce.forEach(function(Ur){return r(M,Ur)}),He&&_i(M,fe),se}function ie(M,C,O,K){var se=le(O);if(typeof se!="function")throw Error(n(150));if(O=se.call(O),O==null)throw Error(n(151));for(var ue=se=null,ce=C,fe=C=0,yt=null,Ne=O.next();ce!==null&&!Ne.done;fe++,Ne=O.next()){ce.index>fe?(yt=ce,ce=null):yt=ce.sibling;var Ur=$(M,ce,Ne.value,K);if(Ur===null){ce===null&&(ce=yt);break}t&&ce&&Ur.alternate===null&&r(M,ce),C=p(Ur,C,fe),ue===null?se=Ur:ue.sibling=Ur,ue=Ur,ce=yt}if(Ne.done)return o(M,ce),He&&_i(M,fe),se;if(ce===null){for(;!Ne.done;fe++,Ne=O.next())Ne=W(M,Ne.value,K),Ne!==null&&(C=p(Ne,C,fe),ue===null?se=Ne:ue.sibling=Ne,ue=Ne);return He&&_i(M,fe),se}for(ce=u(M,ce);!Ne.done;fe++,Ne=O.next())Ne=Z(ce,M,fe,Ne.value,K),Ne!==null&&(t&&Ne.alternate!==null&&ce.delete(Ne.key===null?fe:Ne.key),C=p(Ne,C,fe),ue===null?se=Ne:ue.sibling=Ne,ue=Ne);return t&&ce.forEach(function(Dy){return r(M,Dy)}),He&&_i(M,fe),se}function et(M,C,O,K){if(typeof O=="object"&&O!==null&&O.type===k&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Ye:e:{for(var se=O.key,ue=C;ue!==null;){if(ue.key===se){if(se=O.type,se===k){if(ue.tag===7){o(M,ue.sibling),C=h(ue,O.props.children),C.return=M,M=C;break e}}else if(ue.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Ct&&Vf(se)===ue.type){o(M,ue.sibling),C=h(ue,O.props),C.ref=So(M,ue,O),C.return=M,M=C;break e}o(M,ue);break}else r(M,ue);ue=ue.sibling}O.type===k?(C=Ri(O.props.children,M.mode,K,O.key),C.return=M,M=C):(K=hl(O.type,O.key,O.props,null,M.mode,K),K.ref=So(M,C,O),K.return=M,M=K)}return y(M);case Ve:e:{for(ue=O.key;C!==null;){if(C.key===ue)if(C.tag===4&&C.stateNode.containerInfo===O.containerInfo&&C.stateNode.implementation===O.implementation){o(M,C.sibling),C=h(C,O.children||[]),C.return=M,M=C;break e}else{o(M,C);break}else r(M,C);C=C.sibling}C=kc(O,M.mode,K),C.return=M,M=C}return y(M);case Ct:return ue=O._init,et(M,C,ue(O._payload),K)}if(Kn(O))return re(M,C,O,K);if(le(O))return ie(M,C,O,K);ja(M,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,C!==null&&C.tag===6?(o(M,C.sibling),C=h(C,O),C.return=M,M=C):(o(M,C),C=Pc(O,M.mode,K),C.return=M,M=C),y(M)):o(M,C)}return et}var gs=Df(!0),Nf=Df(!1),ba=Cr(null),$a=null,ys=null,Uu=null;function zu(){Uu=ys=$a=null}function Bu(t){var r=ba.current;$e(ba),t._currentValue=r}function ju(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function _s(t,r){$a=t,Uu=ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&($t=!0),t.firstContext=null)}function cn(t){var r=t._currentValue;if(Uu!==t)if(t={context:t,memoizedValue:r,next:null},ys===null){if($a===null)throw Error(n(308));ys=t,$a.dependencies={lanes:0,firstContext:t}}else ys=ys.next=t;return r}var vi=null;function bu(t){vi===null?vi=[t]:vi.push(t)}function xf(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,bu(r)):(o.next=h.next,h.next=o),r.interleaved=o,ar(t,u)}function ar(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Vr=!1;function $u(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Dr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,De&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,ar(t,o)}return h=u.interleaved,h===null?(r.next=r,bu(u)):(r.next=h.next,h.next=r),u.interleaved=r,ar(t,o)}function qa(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Er(t,o)}}function Mf(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var y={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=y:p=p.next=y,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Ha(t,r,o,u){var h=t.updateQueue;Vr=!1;var p=h.firstBaseUpdate,y=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var R=w,F=R.next;R.next=null,y===null?p=F:y.next=F,y=R;var q=t.alternate;q!==null&&(q=q.updateQueue,w=q.lastBaseUpdate,w!==y&&(w===null?q.firstBaseUpdate=F:w.next=F,q.lastBaseUpdate=R))}if(p!==null){var W=h.baseState;y=0,q=F=R=null,w=p;do{var $=w.lane,Z=w.eventTime;if((u&$)===$){q!==null&&(q=q.next={eventTime:Z,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var re=t,ie=w;switch($=r,Z=o,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){W=re.call(Z,W,$);break e}W=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,$=typeof re=="function"?re.call(Z,W,$):re,$==null)break e;W=ee({},W,$);break e;case 2:Vr=!0}}w.callback!==null&&w.lane!==0&&(t.flags|=64,$=h.effects,$===null?h.effects=[w]:$.push(w))}else Z={eventTime:Z,lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},q===null?(F=q=Z,R=W):q=q.next=Z,y|=$;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;$=w,w=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);if(q===null&&(R=W),h.baseState=R,h.firstBaseUpdate=F,h.lastBaseUpdate=q,r=h.shared.interleaved,r!==null){h=r;do y|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Ti|=y,t.lanes=y,t.memoizedState=W}}function Of(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Ao={},zn=Cr(Ao),Ro=Cr(Ao),Co=Cr(Ao);function Ei(t){if(t===Ao)throw Error(n(174));return t}function qu(t,r){switch(je(Co,r),je(Ro,t),je(zn,Ao),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ot(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ot(r,t)}$e(zn),je(zn,r)}function vs(){$e(zn),$e(Ro),$e(Co)}function Ff(t){Ei(Co.current);var r=Ei(zn.current),o=ot(r,t.type);r!==o&&(je(Ro,t),je(zn,o))}function Hu(t){Ro.current===t&&($e(zn),$e(Ro))}var We=Cr(0);function Qa(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Qu=[];function Wu(){for(var t=0;t<Qu.length;t++)Qu[t]._workInProgressVersionPrimary=null;Qu.length=0}var Wa=Ie.ReactCurrentDispatcher,Ku=Ie.ReactCurrentBatchConfig,wi=0,Ke=null,lt=null,mt=null,Ka=!1,Po=!1,ko=0,ey=0;function kt(){throw Error(n(321))}function Gu(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Sn(t[o],r[o]))return!1;return!0}function Xu(t,r,o,u,h,p){if(wi=p,Ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Wa.current=t===null||t.memoizedState===null?iy:sy,t=o(u,h),Po){p=0;do{if(Po=!1,ko=0,25<=p)throw Error(n(301));p+=1,mt=lt=null,r.updateQueue=null,Wa.current=oy,t=o(u,h)}while(Po)}if(Wa.current=Ya,r=lt!==null&&lt.next!==null,wi=0,mt=lt=Ke=null,Ka=!1,r)throw Error(n(300));return t}function Yu(){var t=ko!==0;return ko=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ke.memoizedState=mt=t:mt=mt.next=t,mt}function hn(){if(lt===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var r=mt===null?Ke.memoizedState:mt.next;if(r!==null)mt=r,lt=t;else{if(t===null)throw Error(n(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},mt===null?Ke.memoizedState=mt=t:mt=mt.next=t}return mt}function Vo(t,r){return typeof r=="function"?r(t):r}function Ju(t){var r=hn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=lt,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var y=h.next;h.next=p.next,p.next=y}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var w=y=null,R=null,F=p;do{var q=F.lane;if((wi&q)===q)R!==null&&(R=R.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),u=F.hasEagerState?F.eagerState:t(u,F.action);else{var W={lane:q,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};R===null?(w=R=W,y=u):R=R.next=W,Ke.lanes|=q,Ti|=q}F=F.next}while(F!==null&&F!==p);R===null?y=u:R.next=w,Sn(u,r.memoizedState)||($t=!0),r.memoizedState=u,r.baseState=y,r.baseQueue=R,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Ke.lanes|=p,Ti|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Zu(t){var r=hn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var y=h=h.next;do p=t(p,y.action),y=y.next;while(y!==h);Sn(p,r.memoizedState)||($t=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Uf(){}function zf(t,r){var o=Ke,u=hn(),h=r(),p=!Sn(u.memoizedState,h);if(p&&(u.memoizedState=h,$t=!0),u=u.queue,ec(bf.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||mt!==null&&mt.memoizedState.tag&1){if(o.flags|=2048,Do(9,jf.bind(null,o,u,h,r),void 0,null),gt===null)throw Error(n(349));wi&30||Bf(o,r,h)}return h}function Bf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function jf(t,r,o,u){r.value=o,r.getSnapshot=u,$f(r)&&qf(t)}function bf(t,r,o){return o(function(){$f(r)&&qf(t)})}function $f(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Sn(t,o)}catch{return!0}}function qf(t){var r=ar(t,1);r!==null&&kn(r,t,1,-1)}function Hf(t){var r=Bn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:t},r.queue=t,t=t.dispatch=ry.bind(null,Ke,t),[r.memoizedState,t]}function Do(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function Qf(){return hn().memoizedState}function Ga(t,r,o,u){var h=Bn();Ke.flags|=t,h.memoizedState=Do(1|r,o,void 0,u===void 0?null:u)}function Xa(t,r,o,u){var h=hn();u=u===void 0?null:u;var p=void 0;if(lt!==null){var y=lt.memoizedState;if(p=y.destroy,u!==null&&Gu(u,y.deps)){h.memoizedState=Do(r,o,p,u);return}}Ke.flags|=t,h.memoizedState=Do(1|r,o,p,u)}function Wf(t,r){return Ga(8390656,8,t,r)}function ec(t,r){return Xa(2048,8,t,r)}function Kf(t,r){return Xa(4,2,t,r)}function Gf(t,r){return Xa(4,4,t,r)}function Xf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Yf(t,r,o){return o=o!=null?o.concat([t]):null,Xa(4,4,Xf.bind(null,r,t),o)}function tc(){}function Jf(t,r){var o=hn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Gu(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Zf(t,r){var o=hn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Gu(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function ed(t,r,o){return wi&21?(Sn(o,r)||(o=ci(),Ke.lanes|=o,Ti|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,$t=!0),t.memoizedState=o)}function ty(t,r){var o=Se;Se=o!==0&&4>o?o:4,t(!0);var u=Ku.transition;Ku.transition={};try{t(!1),r()}finally{Se=o,Ku.transition=u}}function td(){return hn().memoizedState}function ny(t,r,o){var u=Mr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},nd(t))rd(r,o);else if(o=xf(t,r,o,u),o!==null){var h=Ut();kn(o,t,u,h),id(o,r,u)}}function ry(t,r,o){var u=Mr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(nd(t))rd(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var y=r.lastRenderedState,w=p(y,o);if(h.hasEagerState=!0,h.eagerState=w,Sn(w,y)){var R=r.interleaved;R===null?(h.next=h,bu(r)):(h.next=R.next,R.next=h),r.interleaved=h;return}}catch{}finally{}o=xf(t,r,h,u),o!==null&&(h=Ut(),kn(o,t,u,h),id(o,r,u))}}function nd(t){var r=t.alternate;return t===Ke||r!==null&&r===Ke}function rd(t,r){Po=Ka=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function id(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Er(t,o)}}var Ya={readContext:cn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},iy={readContext:cn,useCallback:function(t,r){return Bn().memoizedState=[t,r===void 0?null:r],t},useContext:cn,useEffect:Wf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Ga(4194308,4,Xf.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Ga(4194308,4,t,r)},useInsertionEffect:function(t,r){return Ga(4,2,t,r)},useMemo:function(t,r){var o=Bn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=Bn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=ny.bind(null,Ke,t),[u.memoizedState,t]},useRef:function(t){var r=Bn();return t={current:t},r.memoizedState=t},useState:Hf,useDebugValue:tc,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=Hf(!1),r=t[0];return t=ty.bind(null,t[1]),Bn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ke,h=Bn();if(He){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),gt===null)throw Error(n(349));wi&30||Bf(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,Wf(bf.bind(null,u,p,t),[t]),u.flags|=2048,Do(9,jf.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=Bn(),r=gt.identifierPrefix;if(He){var o=or,u=sr;o=(u&~(1<<32-Mt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=ko++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=ey++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},sy={readContext:cn,useCallback:Jf,useContext:cn,useEffect:ec,useImperativeHandle:Yf,useInsertionEffect:Kf,useLayoutEffect:Gf,useMemo:Zf,useReducer:Ju,useRef:Qf,useState:function(){return Ju(Vo)},useDebugValue:tc,useDeferredValue:function(t){var r=hn();return ed(r,lt.memoizedState,t)},useTransition:function(){var t=Ju(Vo)[0],r=hn().memoizedState;return[t,r]},useMutableSource:Uf,useSyncExternalStore:zf,useId:td,unstable_isNewReconciler:!1},oy={readContext:cn,useCallback:Jf,useContext:cn,useEffect:ec,useImperativeHandle:Yf,useInsertionEffect:Kf,useLayoutEffect:Gf,useMemo:Zf,useReducer:Zu,useRef:Qf,useState:function(){return Zu(Vo)},useDebugValue:tc,useDeferredValue:function(t){var r=hn();return lt===null?r.memoizedState=t:ed(r,lt.memoizedState,t)},useTransition:function(){var t=Zu(Vo)[0],r=hn().memoizedState;return[t,r]},useMutableSource:Uf,useSyncExternalStore:zf,useId:td,unstable_isNewReconciler:!1};function Rn(t,r){if(t&&t.defaultProps){r=ee({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function nc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:ee({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Ja={isMounted:function(t){return(t=t._reactInternals)?yn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=Ut(),h=Mr(t),p=lr(u,h);p.payload=r,o!=null&&(p.callback=o),r=Dr(t,p,h),r!==null&&(kn(r,t,h,u),qa(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=Ut(),h=Mr(t),p=lr(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Dr(t,p,h),r!==null&&(kn(r,t,h,u),qa(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=Ut(),u=Mr(t),h=lr(o,u);h.tag=2,r!=null&&(h.callback=r),r=Dr(t,h,u),r!==null&&(kn(r,t,u,o),qa(r,t,u))}};function sd(t,r,o,u,h,p,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,y):r.prototype&&r.prototype.isPureReactComponent?!yo(o,u)||!yo(h,p):!0}function od(t,r,o){var u=!1,h=Pr,p=r.contextType;return typeof p=="object"&&p!==null?p=cn(p):(h=bt(r)?gi:Pt.current,u=r.contextTypes,p=(u=u!=null)?fs(t,h):Pr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Ja,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function ad(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&Ja.enqueueReplaceState(r,r.state,null)}function rc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},$u(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=cn(p):(p=bt(r)?gi:Pt.current,h.context=fs(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(nc(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&Ja.enqueueReplaceState(h,h.state,null),Ha(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Es(t,r){try{var o="",u=r;do o+=Ee(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function ic(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function sc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var ay=typeof WeakMap=="function"?WeakMap:Map;function ld(t,r,o){o=lr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){sl||(sl=!0,Ec=u),sc(t,r)},o}function ud(t,r,o){o=lr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){sc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){sc(t,r),typeof u!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})}),o}function cd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new ay;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=wy.bind(null,t,r,o),r.then(t,t))}function hd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function fd(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=lr(-1,1),r.tag=2,Dr(o,r,1))),o.lanes|=1),t)}var ly=Ie.ReactCurrentOwner,$t=!1;function Ft(t,r,o,u){r.child=t===null?Nf(r,null,o,u):gs(r,t.child,o,u)}function dd(t,r,o,u,h){o=o.render;var p=r.ref;return _s(r,h),u=Xu(t,r,o,u,p,h),o=Yu(),t!==null&&!$t?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,ur(t,r,h)):(He&&o&&xu(r),r.flags|=1,Ft(t,r,u,h),r.child)}function pd(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!Cc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,md(t,r,p,u,h)):(t=hl(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var y=p.memoizedProps;if(o=o.compare,o=o!==null?o:yo,o(y,u)&&t.ref===r.ref)return ur(t,r,h)}return r.flags|=1,t=Fr(p,u),t.ref=r.ref,t.return=r,r.child=t}function md(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(yo(p,u)&&t.ref===r.ref)if($t=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&($t=!0);else return r.lanes=t.lanes,ur(t,r,h)}return oc(t,r,o,u,h)}function gd(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Ts,tn),tn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,je(Ts,tn),tn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,je(Ts,tn),tn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,je(Ts,tn),tn|=u;return Ft(t,r,h,o),r.child}function yd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function oc(t,r,o,u,h){var p=bt(o)?gi:Pt.current;return p=fs(r,p),_s(r,h),o=Xu(t,r,o,u,p,h),u=Yu(),t!==null&&!$t?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,ur(t,r,h)):(He&&u&&xu(r),r.flags|=1,Ft(t,r,o,h),r.child)}function _d(t,r,o,u,h){if(bt(o)){var p=!0;Oa(r)}else p=!1;if(_s(r,h),r.stateNode===null)el(t,r),od(r,o,u),rc(r,o,u,h),u=!0;else if(t===null){var y=r.stateNode,w=r.memoizedProps;y.props=w;var R=y.context,F=o.contextType;typeof F=="object"&&F!==null?F=cn(F):(F=bt(o)?gi:Pt.current,F=fs(r,F));var q=o.getDerivedStateFromProps,W=typeof q=="function"||typeof y.getSnapshotBeforeUpdate=="function";W||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==u||R!==F)&&ad(r,y,u,F),Vr=!1;var $=r.memoizedState;y.state=$,Ha(r,u,y,h),R=r.memoizedState,w!==u||$!==R||jt.current||Vr?(typeof q=="function"&&(nc(r,o,q,u),R=r.memoizedState),(w=Vr||sd(r,o,w,u,$,R,F))?(W||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=R),y.props=u,y.state=R,y.context=F,u=w):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Lf(t,r),w=r.memoizedProps,F=r.type===r.elementType?w:Rn(r.type,w),y.props=F,W=r.pendingProps,$=y.context,R=o.contextType,typeof R=="object"&&R!==null?R=cn(R):(R=bt(o)?gi:Pt.current,R=fs(r,R));var Z=o.getDerivedStateFromProps;(q=typeof Z=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==W||$!==R)&&ad(r,y,u,R),Vr=!1,$=r.memoizedState,y.state=$,Ha(r,u,y,h);var re=r.memoizedState;w!==W||$!==re||jt.current||Vr?(typeof Z=="function"&&(nc(r,o,Z,u),re=r.memoizedState),(F=Vr||sd(r,o,F,u,$,re,R)||!1)?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,re,R),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,re,R)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=re),y.props=u,y.state=re,y.context=R,u=F):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),u=!1)}return ac(t,r,o,u,p,h)}function ac(t,r,o,u,h,p){yd(t,r);var y=(r.flags&128)!==0;if(!u&&!y)return h&&If(r,o,!1),ur(t,r,p);u=r.stateNode,ly.current=r;var w=y&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&y?(r.child=gs(r,t.child,null,p),r.child=gs(r,null,w,p)):Ft(t,r,w,p),r.memoizedState=u.state,h&&If(r,o,!0),r.child}function vd(t){var r=t.stateNode;r.pendingContext?wf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&wf(t,r.context,!1),qu(t,r.containerInfo)}function Ed(t,r,o,u,h){return ms(),Fu(h),r.flags|=256,Ft(t,r,o,u),r.child}var lc={dehydrated:null,treeContext:null,retryLane:0};function uc(t){return{baseLanes:t,cachePool:null,transitions:null}}function wd(t,r,o){var u=r.pendingProps,h=We.current,p=!1,y=(r.flags&128)!==0,w;if((w=y)||(w=t!==null&&t.memoizedState===null?!1:(h&2)!==0),w?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),je(We,h&1),t===null)return Ou(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(y=u.children,t=u.fallback,p?(u=r.mode,p=r.child,y={mode:"hidden",children:y},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=y):p=fl(y,u,0,null),t=Ri(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=uc(o),r.memoizedState=lc,t):cc(r,y));if(h=t.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return uy(t,r,y,u,w,h,o);if(p){p=u.fallback,y=r.mode,h=t.child,w=h.sibling;var R={mode:"hidden",children:u.children};return!(y&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=R,r.deletions=null):(u=Fr(h,R),u.subtreeFlags=h.subtreeFlags&14680064),w!==null?p=Fr(w,p):(p=Ri(p,y,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,y=t.child.memoizedState,y=y===null?uc(o):{baseLanes:y.baseLanes|o,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=t.childLanes&~o,r.memoizedState=lc,u}return p=t.child,t=p.sibling,u=Fr(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function cc(t,r){return r=fl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Za(t,r,o,u){return u!==null&&Fu(u),gs(r,t.child,null,o),t=cc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function uy(t,r,o,u,h,p,y){if(o)return r.flags&256?(r.flags&=-257,u=ic(Error(n(422))),Za(t,r,y,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=fl({mode:"visible",children:u.children},h,0,null),p=Ri(p,h,y,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&gs(r,t.child,null,y),r.child.memoizedState=uc(y),r.memoizedState=lc,p);if(!(r.mode&1))return Za(t,r,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var w=u.dgst;return u=w,p=Error(n(419)),u=ic(p,u,void 0),Za(t,r,y,u)}if(w=(y&t.childLanes)!==0,$t||w){if(u=gt,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|y)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,ar(t,h),kn(u,t,h,-1))}return Rc(),u=ic(Error(n(421))),Za(t,r,y,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=Ty.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,en=Rr(h.nextSibling),Zt=r,He=!0,An=null,t!==null&&(ln[un++]=sr,ln[un++]=or,ln[un++]=yi,sr=t.id,or=t.overflow,yi=r),r=cc(r,u.children),r.flags|=4096,r)}function Td(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),ju(t.return,r,o)}function hc(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Id(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(Ft(t,r,u.children,o),u=We.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Td(t,o,r);else if(t.tag===19)Td(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(je(We,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&Qa(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),hc(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Qa(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}hc(r,!0,o,null,p);break;case"together":hc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function el(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function ur(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ti|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Fr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Fr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function cy(t,r,o){switch(r.tag){case 3:vd(r),ms();break;case 5:Ff(r);break;case 1:bt(r.type)&&Oa(r);break;case 4:qu(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;je(ba,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(je(We,We.current&1),r.flags|=128,null):o&r.child.childLanes?wd(t,r,o):(je(We,We.current&1),t=ur(t,r,o),t!==null?t.sibling:null);je(We,We.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return Id(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),je(We,We.current),u)break;return null;case 22:case 23:return r.lanes=0,gd(t,r,o)}return ur(t,r,o)}var Sd,fc,Ad,Rd;Sd=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},fc=function(){},Ad=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Ei(zn.current);var p=null;switch(o){case"input":h=Zr(t,h),u=Zr(t,u),p=[];break;case"select":h=ee({},h,{value:void 0}),u=ee({},u,{value:void 0}),p=[];break;case"textarea":h=Hs(t,h),u=Hs(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=xa)}Ys(o,u);var y;o=null;for(F in h)if(!u.hasOwnProperty(F)&&h.hasOwnProperty(F)&&h[F]!=null)if(F==="style"){var w=h[F];for(y in w)w.hasOwnProperty(y)&&(o||(o={}),o[y]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(a.hasOwnProperty(F)?p||(p=[]):(p=p||[]).push(F,null));for(F in u){var R=u[F];if(w=h!=null?h[F]:void 0,u.hasOwnProperty(F)&&R!==w&&(R!=null||w!=null))if(F==="style")if(w){for(y in w)!w.hasOwnProperty(y)||R&&R.hasOwnProperty(y)||(o||(o={}),o[y]="");for(y in R)R.hasOwnProperty(y)&&w[y]!==R[y]&&(o||(o={}),o[y]=R[y])}else o||(p||(p=[]),p.push(F,o)),o=R;else F==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,w=w?w.__html:void 0,R!=null&&w!==R&&(p=p||[]).push(F,R)):F==="children"?typeof R!="string"&&typeof R!="number"||(p=p||[]).push(F,""+R):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(a.hasOwnProperty(F)?(R!=null&&F==="onScroll"&&be("scroll",t),p||w===R||(p=[])):(p=p||[]).push(F,R))}o&&(p=p||[]).push("style",o);var F=p;(r.updateQueue=F)&&(r.flags|=4)}},Rd=function(t,r,o,u){o!==u&&(r.flags|=4)};function No(t,r){if(!He)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Vt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function hy(t,r,o){var u=r.pendingProps;switch(Lu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(r),null;case 1:return bt(r.type)&&Ma(),Vt(r),null;case 3:return u=r.stateNode,vs(),$e(jt),$e(Pt),Wu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Ba(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,An!==null&&(Ic(An),An=null))),fc(t,r),Vt(r),null;case 5:Hu(r);var h=Ei(Co.current);if(o=r.type,t!==null&&r.stateNode!=null)Ad(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Vt(r),null}if(t=Ei(zn.current),Ba(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[Un]=r,u[To]=p,t=(r.mode&1)!==0,o){case"dialog":be("cancel",u),be("close",u);break;case"iframe":case"object":case"embed":be("load",u);break;case"video":case"audio":for(h=0;h<vo.length;h++)be(vo[h],u);break;case"source":be("error",u);break;case"img":case"image":case"link":be("error",u),be("load",u);break;case"details":be("toggle",u);break;case"input":Li(u,p),be("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},be("invalid",u);break;case"textarea":Oi(u,p),be("invalid",u)}Ys(o,p),h=null;for(var y in p)if(p.hasOwnProperty(y)){var w=p[y];y==="children"?typeof w=="string"?u.textContent!==w&&(p.suppressHydrationWarning!==!0&&Na(u.textContent,w,t),h=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(p.suppressHydrationWarning!==!0&&Na(u.textContent,w,t),h=["children",""+w]):a.hasOwnProperty(y)&&w!=null&&y==="onScroll"&&be("scroll",u)}switch(o){case"input":Wn(u),ia(u,p,!0);break;case"textarea":Wn(u),Qs(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=xa)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=st(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=y.createElement(o,{is:u.is}):(t=y.createElement(o),o==="select"&&(y=t,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):t=y.createElementNS(t,o),t[Un]=r,t[To]=u,Sd(t,r,!1,!1),r.stateNode=t;e:{switch(y=Js(o,u),o){case"dialog":be("cancel",t),be("close",t),h=u;break;case"iframe":case"object":case"embed":be("load",t),h=u;break;case"video":case"audio":for(h=0;h<vo.length;h++)be(vo[h],t);h=u;break;case"source":be("error",t),h=u;break;case"img":case"image":case"link":be("error",t),be("load",t),h=u;break;case"details":be("toggle",t),h=u;break;case"input":Li(t,u),h=Zr(t,u),be("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ee({},u,{value:void 0}),be("invalid",t);break;case"textarea":Oi(t,u),h=Hs(t,u),be("invalid",t);break;default:h=u}Ys(o,h),w=h;for(p in w)if(w.hasOwnProperty(p)){var R=w[p];p==="style"?Gs(t,R):p==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Ws(t,R)):p==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&mr(t,R):typeof R=="number"&&mr(t,""+R):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?R!=null&&p==="onScroll"&&be("scroll",t):R!=null&&ye(t,p,R,y))}switch(o){case"input":Wn(t),ia(t,u,!1);break;case"textarea":Wn(t),Qs(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Le(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Gn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Gn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=xa)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Vt(r),null;case 6:if(t&&r.stateNode!=null)Rd(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Ei(Co.current),Ei(zn.current),Ba(r)){if(u=r.stateNode,o=r.memoizedProps,u[Un]=r,(p=u.nodeValue!==o)&&(t=Zt,t!==null))switch(t.tag){case 3:Na(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Na(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Un]=r,r.stateNode=u}return Vt(r),null;case 13:if($e(We),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&en!==null&&r.mode&1&&!(r.flags&128))kf(),ms(),r.flags|=98560,p=!1;else if(p=Ba(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Un]=r}else ms(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Vt(r),p=!1}else An!==null&&(Ic(An),An=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||We.current&1?ut===0&&(ut=3):Rc())),r.updateQueue!==null&&(r.flags|=4),Vt(r),null);case 4:return vs(),fc(t,r),t===null&&Eo(r.stateNode.containerInfo),Vt(r),null;case 10:return Bu(r.type._context),Vt(r),null;case 17:return bt(r.type)&&Ma(),Vt(r),null;case 19:if($e(We),p=r.memoizedState,p===null)return Vt(r),null;if(u=(r.flags&128)!==0,y=p.rendering,y===null)if(u)No(p,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(y=Qa(t),y!==null){for(r.flags|=128,No(p,!1),u=y.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,t=y.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return je(We,We.current&1|2),r.child}t=t.sibling}p.tail!==null&&Be()>Is&&(r.flags|=128,u=!0,No(p,!1),r.lanes=4194304)}else{if(!u)if(t=Qa(y),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),No(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!He)return Vt(r),null}else 2*Be()-p.renderingStartTime>Is&&o!==1073741824&&(r.flags|=128,u=!0,No(p,!1),r.lanes=4194304);p.isBackwards?(y.sibling=r.child,r.child=y):(o=p.last,o!==null?o.sibling=y:r.child=y,p.last=y)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Be(),r.sibling=null,o=We.current,je(We,u?o&1|2:o&1),r):(Vt(r),null);case 22:case 23:return Ac(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?tn&1073741824&&(Vt(r),r.subtreeFlags&6&&(r.flags|=8192)):Vt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function fy(t,r){switch(Lu(r),r.tag){case 1:return bt(r.type)&&Ma(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return vs(),$e(jt),$e(Pt),Wu(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Hu(r),null;case 13:if($e(We),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));ms()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return $e(We),null;case 4:return vs(),null;case 10:return Bu(r.type._context),null;case 22:case 23:return Ac(),null;case 24:return null;default:return null}}var tl=!1,Dt=!1,dy=typeof WeakSet=="function"?WeakSet:Set,ne=null;function ws(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Xe(t,r,u)}else o.current=null}function dc(t,r,o){try{o()}catch(u){Xe(t,r,u)}}var Cd=!1;function py(t,r){if(Au=Ir,t=sf(),yu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var y=0,w=-1,R=-1,F=0,q=0,W=t,$=null;t:for(;;){for(var Z;W!==o||h!==0&&W.nodeType!==3||(w=y+h),W!==p||u!==0&&W.nodeType!==3||(R=y+u),W.nodeType===3&&(y+=W.nodeValue.length),(Z=W.firstChild)!==null;)$=W,W=Z;for(;;){if(W===t)break t;if($===o&&++F===h&&(w=y),$===p&&++q===u&&(R=y),(Z=W.nextSibling)!==null)break;W=$,$=W.parentNode}W=Z}o=w===-1||R===-1?null:{start:w,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ru={focusedElem:t,selectionRange:o},Ir=!1,ne=r;ne!==null;)if(r=ne,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ne=t;else for(;ne!==null;){r=ne;try{var re=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,et=re.memoizedState,M=r.stateNode,C=M.getSnapshotBeforeUpdate(r.elementType===r.type?ie:Rn(r.type,ie),et);M.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var O=r.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(K){Xe(r,r.return,K)}if(t=r.sibling,t!==null){t.return=r.return,ne=t;break}ne=r.return}return re=Cd,Cd=!1,re}function xo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&dc(r,o,p)}h=h.next}while(h!==u)}}function nl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function pc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Pd(t){var r=t.alternate;r!==null&&(t.alternate=null,Pd(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Un],delete r[To],delete r[Vu],delete r[Xg],delete r[Yg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kd(t){return t.tag===5||t.tag===3||t.tag===4}function Vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=xa));else if(u!==4&&(t=t.child,t!==null))for(mc(t,r,o),t=t.sibling;t!==null;)mc(t,r,o),t=t.sibling}function gc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(gc(t,r,o),t=t.sibling;t!==null;)gc(t,r,o),t=t.sibling}var wt=null,Cn=!1;function Nr(t,r,o){for(o=o.child;o!==null;)Dd(t,r,o),o=o.sibling}function Dd(t,r,o){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(li,o)}catch{}switch(o.tag){case 5:Dt||ws(o,r);case 6:var u=wt,h=Cn;wt=null,Nr(t,r,o),wt=u,Cn=h,wt!==null&&(Cn?(t=wt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):wt.removeChild(o.stateNode));break;case 18:wt!==null&&(Cn?(t=wt,o=o.stateNode,t.nodeType===8?ku(t.parentNode,o):t.nodeType===1&&ku(t,o),Tn(t)):ku(wt,o.stateNode));break;case 4:u=wt,h=Cn,wt=o.stateNode.containerInfo,Cn=!0,Nr(t,r,o),wt=u,Cn=h;break;case 0:case 11:case 14:case 15:if(!Dt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,y=p.destroy;p=p.tag,y!==void 0&&(p&2||p&4)&&dc(o,r,y),h=h.next}while(h!==u)}Nr(t,r,o);break;case 1:if(!Dt&&(ws(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(w){Xe(o,r,w)}Nr(t,r,o);break;case 21:Nr(t,r,o);break;case 22:o.mode&1?(Dt=(u=Dt)||o.memoizedState!==null,Nr(t,r,o),Dt=u):Nr(t,r,o);break;default:Nr(t,r,o)}}function Nd(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new dy),r.forEach(function(u){var h=Iy.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Pn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,y=r,w=y;e:for(;w!==null;){switch(w.tag){case 5:wt=w.stateNode,Cn=!1;break e;case 3:wt=w.stateNode.containerInfo,Cn=!0;break e;case 4:wt=w.stateNode.containerInfo,Cn=!0;break e}w=w.return}if(wt===null)throw Error(n(160));Dd(p,y,h),wt=null,Cn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(F){Xe(h,r,F)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)xd(r,t),r=r.sibling}function xd(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(r,t),jn(t),u&4){try{xo(3,t,t.return),nl(3,t)}catch(ie){Xe(t,t.return,ie)}try{xo(5,t,t.return)}catch(ie){Xe(t,t.return,ie)}}break;case 1:Pn(r,t),jn(t),u&512&&o!==null&&ws(o,o.return);break;case 5:if(Pn(r,t),jn(t),u&512&&o!==null&&ws(o,o.return),t.flags&32){var h=t.stateNode;try{mr(h,"")}catch(ie){Xe(t,t.return,ie)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,y=o!==null?o.memoizedProps:p,w=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{w==="input"&&p.type==="radio"&&p.name!=null&&$s(h,p),Js(w,y);var F=Js(w,p);for(y=0;y<R.length;y+=2){var q=R[y],W=R[y+1];q==="style"?Gs(h,W):q==="dangerouslySetInnerHTML"?Ws(h,W):q==="children"?mr(h,W):ye(h,q,W,F)}switch(w){case"input":qs(h,p);break;case"textarea":Fi(h,p);break;case"select":var $=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var Z=p.value;Z!=null?Gn(h,!!p.multiple,Z,!1):$!==!!p.multiple&&(p.defaultValue!=null?Gn(h,!!p.multiple,p.defaultValue,!0):Gn(h,!!p.multiple,p.multiple?[]:"",!1))}h[To]=p}catch(ie){Xe(t,t.return,ie)}}break;case 6:if(Pn(r,t),jn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(ie){Xe(t,t.return,ie)}}break;case 3:if(Pn(r,t),jn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Tn(r.containerInfo)}catch(ie){Xe(t,t.return,ie)}break;case 4:Pn(r,t),jn(t);break;case 13:Pn(r,t),jn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(vc=Be())),u&4&&Nd(t);break;case 22:if(q=o!==null&&o.memoizedState!==null,t.mode&1?(Dt=(F=Dt)||q,Pn(r,t),Dt=F):Pn(r,t),jn(t),u&8192){if(F=t.memoizedState!==null,(t.stateNode.isHidden=F)&&!q&&t.mode&1)for(ne=t,q=t.child;q!==null;){for(W=ne=q;ne!==null;){switch($=ne,Z=$.child,$.tag){case 0:case 11:case 14:case 15:xo(4,$,$.return);break;case 1:ws($,$.return);var re=$.stateNode;if(typeof re.componentWillUnmount=="function"){u=$,o=$.return;try{r=u,re.props=r.memoizedProps,re.state=r.memoizedState,re.componentWillUnmount()}catch(ie){Xe(u,o,ie)}}break;case 5:ws($,$.return);break;case 22:if($.memoizedState!==null){Od(W);continue}}Z!==null?(Z.return=$,ne=Z):Od(W)}q=q.sibling}e:for(q=null,W=t;;){if(W.tag===5){if(q===null){q=W;try{h=W.stateNode,F?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(w=W.stateNode,R=W.memoizedProps.style,y=R!=null&&R.hasOwnProperty("display")?R.display:null,w.style.display=Ks("display",y))}catch(ie){Xe(t,t.return,ie)}}}else if(W.tag===6){if(q===null)try{W.stateNode.nodeValue=F?"":W.memoizedProps}catch(ie){Xe(t,t.return,ie)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===t)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===t)break e;for(;W.sibling===null;){if(W.return===null||W.return===t)break e;q===W&&(q=null),W=W.return}q===W&&(q=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:Pn(r,t),jn(t),u&4&&Nd(t);break;case 21:break;default:Pn(r,t),jn(t)}}function jn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(kd(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(mr(h,""),u.flags&=-33);var p=Vd(t);gc(t,p,h);break;case 3:case 4:var y=u.stateNode.containerInfo,w=Vd(t);mc(t,w,y);break;default:throw Error(n(161))}}catch(R){Xe(t,t.return,R)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function my(t,r,o){ne=t,Ld(t)}function Ld(t,r,o){for(var u=(t.mode&1)!==0;ne!==null;){var h=ne,p=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||tl;if(!y){var w=h.alternate,R=w!==null&&w.memoizedState!==null||Dt;w=tl;var F=Dt;if(tl=y,(Dt=R)&&!F)for(ne=h;ne!==null;)y=ne,R=y.child,y.tag===22&&y.memoizedState!==null?Fd(h):R!==null?(R.return=y,ne=R):Fd(h);for(;p!==null;)ne=p,Ld(p),p=p.sibling;ne=h,tl=w,Dt=F}Md(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,ne=p):Md(t)}}function Md(t){for(;ne!==null;){var r=ne;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Dt||nl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Dt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Rn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Of(r,p,u);break;case 3:var y=r.updateQueue;if(y!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Of(r,y,o)}break;case 5:var w=r.stateNode;if(o===null&&r.flags&4){o=w;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var F=r.alternate;if(F!==null){var q=F.memoizedState;if(q!==null){var W=q.dehydrated;W!==null&&Tn(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dt||r.flags&512&&pc(r)}catch($){Xe(r,r.return,$)}}if(r===t){ne=null;break}if(o=r.sibling,o!==null){o.return=r.return,ne=o;break}ne=r.return}}function Od(t){for(;ne!==null;){var r=ne;if(r===t){ne=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ne=o;break}ne=r.return}}function Fd(t){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{nl(4,r)}catch(R){Xe(r,o,R)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(R){Xe(r,h,R)}}var p=r.return;try{pc(r)}catch(R){Xe(r,p,R)}break;case 5:var y=r.return;try{pc(r)}catch(R){Xe(r,y,R)}}}catch(R){Xe(r,r.return,R)}if(r===t){ne=null;break}var w=r.sibling;if(w!==null){w.return=r.return,ne=w;break}ne=r.return}}var gy=Math.ceil,rl=Ie.ReactCurrentDispatcher,yc=Ie.ReactCurrentOwner,fn=Ie.ReactCurrentBatchConfig,De=0,gt=null,rt=null,Tt=0,tn=0,Ts=Cr(0),ut=0,Lo=null,Ti=0,il=0,_c=0,Mo=null,qt=null,vc=0,Is=1/0,cr=null,sl=!1,Ec=null,xr=null,ol=!1,Lr=null,al=0,Oo=0,wc=null,ll=-1,ul=0;function Ut(){return De&6?Be():ll!==-1?ll:ll=Be()}function Mr(t){return t.mode&1?De&2&&Tt!==0?Tt&-Tt:Zg.transition!==null?(ul===0&&(ul=ci()),ul):(t=Se,t!==0||(t=window.event,t=t===void 0?16:uo(t.type)),t):1}function kn(t,r,o,u){if(50<Oo)throw Oo=0,wc=null,Error(n(185));vr(t,o,u),(!(De&2)||t!==gt)&&(t===gt&&(!(De&2)&&(il|=o),ut===4&&Or(t,Tt)),Ht(t,u),o===1&&De===0&&!(r.mode&1)&&(Is=Be()+500,Fa&&kr()))}function Ht(t,r){var o=t.callbackNode;Jn(t,r);var u=ui(t,t===gt?Tt:0);if(u===0)o!==null&&io(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&io(o),r===1)t.tag===0?Jg(zd.bind(null,t)):Sf(zd.bind(null,t)),Kg(function(){!(De&6)&&kr()}),o=null;else{switch(wr(u)){case 1:o=ai;break;case 4:o=gr;break;case 16:o=sn;break;case 536870912:o=ua;break;default:o=sn}o=Wd(o,Ud.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Ud(t,r){if(ll=-1,ul=0,De&6)throw Error(n(327));var o=t.callbackNode;if(Ss()&&t.callbackNode!==o)return null;var u=ui(t,t===gt?Tt:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=cl(t,u);else{r=u;var h=De;De|=2;var p=jd();(gt!==t||Tt!==r)&&(cr=null,Is=Be()+500,Si(t,r));do try{vy();break}catch(w){Bd(t,w)}while(!0);zu(),rl.current=p,De=h,rt!==null?r=0:(gt=null,Tt=0,r=ut)}if(r!==0){if(r===2&&(h=Xt(t),h!==0&&(u=h,r=Tc(t,h))),r===1)throw o=Lo,Si(t,0),Or(t,u),Ht(t,Be()),o;if(r===6)Or(t,u);else{if(h=t.current.alternate,!(u&30)&&!yy(h)&&(r=cl(t,u),r===2&&(p=Xt(t),p!==0&&(u=p,r=Tc(t,p))),r===1))throw o=Lo,Si(t,0),Or(t,u),Ht(t,Be()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Ai(t,qt,cr);break;case 3:if(Or(t,u),(u&130023424)===u&&(r=vc+500-Be(),10<r)){if(ui(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){Ut(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Pu(Ai.bind(null,t,qt,cr),r);break}Ai(t,qt,cr);break;case 4:if(Or(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var y=31-Mt(u);p=1<<y,y=r[y],y>h&&(h=y),u&=~p}if(u=h,u=Be()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*gy(u/1960))-u,10<u){t.timeoutHandle=Pu(Ai.bind(null,t,qt,cr),u);break}Ai(t,qt,cr);break;case 5:Ai(t,qt,cr);break;default:throw Error(n(329))}}}return Ht(t,Be()),t.callbackNode===o?Ud.bind(null,t):null}function Tc(t,r){var o=Mo;return t.current.memoizedState.isDehydrated&&(Si(t,r).flags|=256),t=cl(t,r),t!==2&&(r=qt,qt=o,r!==null&&Ic(r)),t}function Ic(t){qt===null?qt=t:qt.push.apply(qt,t)}function yy(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Sn(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Or(t,r){for(r&=~_c,r&=~il,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Mt(r),u=1<<o;t[o]=-1,r&=~u}}function zd(t){if(De&6)throw Error(n(327));Ss();var r=ui(t,0);if(!(r&1))return Ht(t,Be()),null;var o=cl(t,r);if(t.tag!==0&&o===2){var u=Xt(t);u!==0&&(r=u,o=Tc(t,u))}if(o===1)throw o=Lo,Si(t,0),Or(t,r),Ht(t,Be()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Ai(t,qt,cr),Ht(t,Be()),null}function Sc(t,r){var o=De;De|=1;try{return t(r)}finally{De=o,De===0&&(Is=Be()+500,Fa&&kr())}}function Ii(t){Lr!==null&&Lr.tag===0&&!(De&6)&&Ss();var r=De;De|=1;var o=fn.transition,u=Se;try{if(fn.transition=null,Se=1,t)return t()}finally{Se=u,fn.transition=o,De=r,!(De&6)&&kr()}}function Ac(){tn=Ts.current,$e(Ts)}function Si(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Wg(o)),rt!==null)for(o=rt.return;o!==null;){var u=o;switch(Lu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ma();break;case 3:vs(),$e(jt),$e(Pt),Wu();break;case 5:Hu(u);break;case 4:vs();break;case 13:$e(We);break;case 19:$e(We);break;case 10:Bu(u.type._context);break;case 22:case 23:Ac()}o=o.return}if(gt=t,rt=t=Fr(t.current,null),Tt=tn=r,ut=0,Lo=null,_c=il=Ti=0,qt=Mo=null,vi!==null){for(r=0;r<vi.length;r++)if(o=vi[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var y=p.next;p.next=h,u.next=y}o.pending=u}vi=null}return t}function Bd(t,r){do{var o=rt;try{if(zu(),Wa.current=Ya,Ka){for(var u=Ke.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Ka=!1}if(wi=0,mt=lt=Ke=null,Po=!1,ko=0,yc.current=null,o===null||o.return===null){ut=1,Lo=r,rt=null;break}e:{var p=t,y=o.return,w=o,R=r;if(r=Tt,w.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=R,q=w,W=q.tag;if(!(q.mode&1)&&(W===0||W===11||W===15)){var $=q.alternate;$?(q.updateQueue=$.updateQueue,q.memoizedState=$.memoizedState,q.lanes=$.lanes):(q.updateQueue=null,q.memoizedState=null)}var Z=hd(y);if(Z!==null){Z.flags&=-257,fd(Z,y,w,p,r),Z.mode&1&&cd(p,F,r),r=Z,R=F;var re=r.updateQueue;if(re===null){var ie=new Set;ie.add(R),r.updateQueue=ie}else re.add(R);break e}else{if(!(r&1)){cd(p,F,r),Rc();break e}R=Error(n(426))}}else if(He&&w.mode&1){var et=hd(y);if(et!==null){!(et.flags&65536)&&(et.flags|=256),fd(et,y,w,p,r),Fu(Es(R,w));break e}}p=R=Es(R,w),ut!==4&&(ut=2),Mo===null?Mo=[p]:Mo.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var M=ld(p,R,r);Mf(p,M);break e;case 1:w=R;var C=p.type,O=p.stateNode;if(!(p.flags&128)&&(typeof C.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(xr===null||!xr.has(O)))){p.flags|=65536,r&=-r,p.lanes|=r;var K=ud(p,w,r);Mf(p,K);break e}}p=p.return}while(p!==null)}$d(o)}catch(se){r=se,rt===o&&o!==null&&(rt=o=o.return);continue}break}while(!0)}function jd(){var t=rl.current;return rl.current=Ya,t===null?Ya:t}function Rc(){(ut===0||ut===3||ut===2)&&(ut=4),gt===null||!(Ti&268435455)&&!(il&268435455)||Or(gt,Tt)}function cl(t,r){var o=De;De|=2;var u=jd();(gt!==t||Tt!==r)&&(cr=null,Si(t,r));do try{_y();break}catch(h){Bd(t,h)}while(!0);if(zu(),De=o,rl.current=u,rt!==null)throw Error(n(261));return gt=null,Tt=0,ut}function _y(){for(;rt!==null;)bd(rt)}function vy(){for(;rt!==null&&!aa();)bd(rt)}function bd(t){var r=Qd(t.alternate,t,tn);t.memoizedProps=t.pendingProps,r===null?$d(t):rt=r,yc.current=null}function $d(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=fy(o,r),o!==null){o.flags&=32767,rt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,rt=null;return}}else if(o=hy(o,r,tn),o!==null){rt=o;return}if(r=r.sibling,r!==null){rt=r;return}rt=r=t}while(r!==null);ut===0&&(ut=5)}function Ai(t,r,o){var u=Se,h=fn.transition;try{fn.transition=null,Se=1,Ey(t,r,o,u)}finally{fn.transition=h,Se=u}return null}function Ey(t,r,o,u){do Ss();while(Lr!==null);if(De&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(Ue(t,p),t===gt&&(rt=gt=null,Tt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||ol||(ol=!0,Wd(sn,function(){return Ss(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=fn.transition,fn.transition=null;var y=Se;Se=1;var w=De;De|=4,yc.current=null,py(t,o),xd(o,t),Bg(Ru),Ir=!!Au,Ru=Au=null,t.current=o,my(o),uu(),De=w,Se=y,fn.transition=p}else t.current=o;if(ol&&(ol=!1,Lr=t,al=h),p=t.pendingLanes,p===0&&(xr=null),ca(o.stateNode),Ht(t,Be()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(sl)throw sl=!1,t=Ec,Ec=null,t;return al&1&&t.tag!==0&&Ss(),p=t.pendingLanes,p&1?t===wc?Oo++:(Oo=0,wc=t):Oo=0,kr(),null}function Ss(){if(Lr!==null){var t=wr(al),r=fn.transition,o=Se;try{if(fn.transition=null,Se=16>t?16:t,Lr===null)var u=!1;else{if(t=Lr,Lr=null,al=0,De&6)throw Error(n(331));var h=De;for(De|=4,ne=t.current;ne!==null;){var p=ne,y=p.child;if(ne.flags&16){var w=p.deletions;if(w!==null){for(var R=0;R<w.length;R++){var F=w[R];for(ne=F;ne!==null;){var q=ne;switch(q.tag){case 0:case 11:case 15:xo(8,q,p)}var W=q.child;if(W!==null)W.return=q,ne=W;else for(;ne!==null;){q=ne;var $=q.sibling,Z=q.return;if(Pd(q),q===F){ne=null;break}if($!==null){$.return=Z,ne=$;break}ne=Z}}}var re=p.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var et=ie.sibling;ie.sibling=null,ie=et}while(ie!==null)}}ne=p}}if(p.subtreeFlags&2064&&y!==null)y.return=p,ne=y;else e:for(;ne!==null;){if(p=ne,p.flags&2048)switch(p.tag){case 0:case 11:case 15:xo(9,p,p.return)}var M=p.sibling;if(M!==null){M.return=p.return,ne=M;break e}ne=p.return}}var C=t.current;for(ne=C;ne!==null;){y=ne;var O=y.child;if(y.subtreeFlags&2064&&O!==null)O.return=y,ne=O;else e:for(y=C;ne!==null;){if(w=ne,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:nl(9,w)}}catch(se){Xe(w,w.return,se)}if(w===y){ne=null;break e}var K=w.sibling;if(K!==null){K.return=w.return,ne=K;break e}ne=w.return}}if(De=h,kr(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(li,t)}catch{}u=!0}return u}finally{Se=o,fn.transition=r}}return!1}function qd(t,r,o){r=Es(o,r),r=ld(t,r,1),t=Dr(t,r,1),r=Ut(),t!==null&&(vr(t,1,r),Ht(t,r))}function Xe(t,r,o){if(t.tag===3)qd(t,t,o);else for(;r!==null;){if(r.tag===3){qd(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(xr===null||!xr.has(u))){t=Es(o,t),t=ud(r,t,1),r=Dr(r,t,1),t=Ut(),r!==null&&(vr(r,1,t),Ht(r,t));break}}r=r.return}}function wy(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=Ut(),t.pingedLanes|=t.suspendedLanes&o,gt===t&&(Tt&o)===o&&(ut===4||ut===3&&(Tt&130023424)===Tt&&500>Be()-vc?Si(t,0):_c|=o),Ht(t,r)}function Hd(t,r){r===0&&(t.mode&1?(r=Wi,Wi<<=1,!(Wi&130023424)&&(Wi=4194304)):r=1);var o=Ut();t=ar(t,r),t!==null&&(vr(t,r,o),Ht(t,o))}function Ty(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Hd(t,o)}function Iy(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),Hd(t,o)}var Qd;Qd=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||jt.current)$t=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return $t=!1,cy(t,r,o);$t=!!(t.flags&131072)}else $t=!1,He&&r.flags&1048576&&Af(r,za,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;el(t,r),t=r.pendingProps;var h=fs(r,Pt.current);_s(r,o),h=Xu(null,r,u,t,h,o);var p=Yu();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,bt(u)?(p=!0,Oa(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,$u(r),h.updater=Ja,r.stateNode=h,h._reactInternals=r,rc(r,u,t,o),r=ac(null,r,u,!0,p,o)):(r.tag=0,He&&p&&xu(r),Ft(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(el(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=Ay(u),t=Rn(u,t),h){case 0:r=oc(null,r,u,t,o);break e;case 1:r=_d(null,r,u,t,o);break e;case 11:r=dd(null,r,u,t,o);break e;case 14:r=pd(null,r,u,Rn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),oc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),_d(t,r,u,h,o);case 3:e:{if(vd(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,Lf(t,r),Ha(r,u,null,o);var y=r.memoizedState;if(u=y.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=Es(Error(n(423)),r),r=Ed(t,r,u,o,h);break e}else if(u!==h){h=Es(Error(n(424)),r),r=Ed(t,r,u,o,h);break e}else for(en=Rr(r.stateNode.containerInfo.firstChild),Zt=r,He=!0,An=null,o=Nf(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ms(),u===h){r=ur(t,r,o);break e}Ft(t,r,u,o)}r=r.child}return r;case 5:return Ff(r),t===null&&Ou(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,y=h.children,Cu(u,h)?y=null:p!==null&&Cu(u,p)&&(r.flags|=32),yd(t,r),Ft(t,r,y,o),r.child;case 6:return t===null&&Ou(r),null;case 13:return wd(t,r,o);case 4:return qu(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=gs(r,null,u,o):Ft(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),dd(t,r,u,h,o);case 7:return Ft(t,r,r.pendingProps,o),r.child;case 8:return Ft(t,r,r.pendingProps.children,o),r.child;case 12:return Ft(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,y=h.value,je(ba,u._currentValue),u._currentValue=y,p!==null)if(Sn(p.value,y)){if(p.children===h.children&&!jt.current){r=ur(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var w=p.dependencies;if(w!==null){y=p.child;for(var R=w.firstContext;R!==null;){if(R.context===u){if(p.tag===1){R=lr(-1,o&-o),R.tag=2;var F=p.updateQueue;if(F!==null){F=F.shared;var q=F.pending;q===null?R.next=R:(R.next=q.next,q.next=R),F.pending=R}}p.lanes|=o,R=p.alternate,R!==null&&(R.lanes|=o),ju(p.return,o,r),w.lanes|=o;break}R=R.next}}else if(p.tag===10)y=p.type===r.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(n(341));y.lanes|=o,w=y.alternate,w!==null&&(w.lanes|=o),ju(y,o,r),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===r){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}Ft(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,_s(r,o),h=cn(h),u=u(h),r.flags|=1,Ft(t,r,u,o),r.child;case 14:return u=r.type,h=Rn(u,r.pendingProps),h=Rn(u.type,h),pd(t,r,u,h,o);case 15:return md(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),el(t,r),r.tag=1,bt(u)?(t=!0,Oa(r)):t=!1,_s(r,o),od(r,u,h),rc(r,u,h,o),ac(null,r,u,!0,t,o);case 19:return Id(t,r,o);case 22:return gd(t,r,o)}throw Error(n(156,r.tag))};function Wd(t,r){return Hi(t,r)}function Sy(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,r,o,u){return new Sy(t,r,o,u)}function Cc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ay(t){if(typeof t=="function")return Cc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===x)return 11;if(t===Rt)return 14}return 2}function Fr(t,r){var o=t.alternate;return o===null?(o=dn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function hl(t,r,o,u,h,p){var y=2;if(u=t,typeof t=="function")Cc(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case k:return Ri(o.children,h,p,r);case T:y=8,h|=8;break;case A:return t=dn(12,o,r,h|2),t.elementType=A,t.lanes=p,t;case S:return t=dn(13,o,r,h),t.elementType=S,t.lanes=p,t;case Je:return t=dn(19,o,r,h),t.elementType=Je,t.lanes=p,t;case Fe:return fl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:y=10;break e;case V:y=9;break e;case x:y=11;break e;case Rt:y=14;break e;case Ct:y=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=dn(y,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Ri(t,r,o,u){return t=dn(7,t,u,r),t.lanes=o,t}function fl(t,r,o,u){return t=dn(22,t,u,r),t.elementType=Fe,t.lanes=o,t.stateNode={isHidden:!1},t}function Pc(t,r,o){return t=dn(6,t,null,r),t.lanes=o,t}function kc(t,r,o){return r=dn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Ry(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_r(0),this.expirationTimes=_r(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_r(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Vc(t,r,o,u,h,p,y,w,R){return t=new Ry(t,r,o,w,R),r===1?(r=1,p===!0&&(r|=8)):r=0,p=dn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},$u(p),t}function Cy(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ve,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Kd(t){if(!t)return Pr;t=t._reactInternals;e:{if(yn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(bt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(bt(o))return Tf(t,o,r)}return r}function Gd(t,r,o,u,h,p,y,w,R){return t=Vc(o,u,!0,t,h,p,y,w,R),t.context=Kd(null),o=t.current,u=Ut(),h=Mr(o),p=lr(u,h),p.callback=r??null,Dr(o,p,h),t.current.lanes=h,vr(t,h,u),Ht(t,u),t}function dl(t,r,o,u){var h=r.current,p=Ut(),y=Mr(h);return o=Kd(o),r.context===null?r.context=o:r.pendingContext=o,r=lr(p,y),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Dr(h,r,y),t!==null&&(kn(t,h,y,p),qa(t,h,y)),y}function pl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xd(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Dc(t,r){Xd(t,r),(t=t.alternate)&&Xd(t,r)}var Yd=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nc(t){this._internalRoot=t}ml.prototype.render=Nc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));dl(t,r,null,null)},ml.prototype.unmount=Nc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ii(function(){dl(null,t,null,null)}),r[rr]=null}};function ml(t){this._internalRoot=t}ml.prototype.unstable_scheduleHydration=function(t){if(t){var r=ma();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Ln.length&&r!==0&&r<Ln[o].priority;o++);Ln.splice(o,0,t),o===0&&_a(t)}};function xc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jd(){}function Py(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var F=pl(y);p.call(F)}}var y=Gd(r,u,t,0,null,!1,!1,"",Jd);return t._reactRootContainer=y,t[rr]=y.current,Eo(t.nodeType===8?t.parentNode:t),Ii(),y}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var w=u;u=function(){var F=pl(R);w.call(F)}}var R=Vc(t,0,!1,null,null,!1,!1,"",Jd);return t._reactRootContainer=R,t[rr]=R.current,Eo(t.nodeType===8?t.parentNode:t),Ii(function(){dl(r,R,o,u)}),R}function yl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var y=p;if(typeof h=="function"){var w=h;h=function(){var R=pl(y);w.call(R)}}dl(r,y,t,h)}else y=Py(o,r,t,h,u);return pl(y)}da=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=yr(r.pendingLanes);o!==0&&(Er(r,o|1),Ht(r,Be()),!(De&6)&&(Is=Be()+500,kr()))}break;case 13:Ii(function(){var u=ar(t,1);if(u!==null){var h=Ut();kn(u,t,1,h)}}),Dc(t,1)}},Ki=function(t){if(t.tag===13){var r=ar(t,134217728);if(r!==null){var o=Ut();kn(r,t,134217728,o)}Dc(t,134217728)}},pa=function(t){if(t.tag===13){var r=Mr(t),o=ar(t,r);if(o!==null){var u=Ut();kn(o,t,r,u)}Dc(t,r)}},ma=function(){return Se},ga=function(t,r){var o=Se;try{return Se=t,r()}finally{Se=o}},zi=function(t,r,o){switch(r){case"input":if(qs(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=La(u);if(!h)throw Error(n(90));xi(u),qs(u,h)}}}break;case"textarea":Fi(t,o);break;case"select":r=o.value,r!=null&&Gn(t,!!o.multiple,r,!1)}},ri=Sc,eo=Ii;var ky={usingClientEntryPoint:!1,Events:[Io,cs,La,Nn,Zs,Sc]},Fo={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vy={bundleType:Fo.bundleType,version:Fo.version,rendererPackageName:Fo.rendererPackageName,rendererConfig:Fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ro(t),t===null?null:t.stateNode},findFiberByHostInstance:Fo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_l.isDisabled&&_l.supportsFiber)try{li=_l.inject(Vy),Gt=_l}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ky,Qt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xc(r))throw Error(n(200));return Cy(t,r,null,o)},Qt.createRoot=function(t,r){if(!xc(t))throw Error(n(299));var o=!1,u="",h=Yd;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Vc(t,1,!1,null,null,o,!1,u,h),t[rr]=r.current,Eo(t.nodeType===8?t.parentNode:t),new Nc(r)},Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=ro(r),t=t===null?null:t.stateNode,t},Qt.flushSync=function(t){return Ii(t)},Qt.hydrate=function(t,r,o){if(!gl(r))throw Error(n(200));return yl(null,t,r,!0,o)},Qt.hydrateRoot=function(t,r,o){if(!xc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",y=Yd;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),r=Gd(r,null,t,1,o??null,h,!1,p,y),t[rr]=r.current,Eo(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new ml(r)},Qt.render=function(t,r,o){if(!gl(r))throw Error(n(200));return yl(null,t,r,!1,o)},Qt.unmountComponentAtNode=function(t){if(!gl(t))throw Error(n(40));return t._reactRootContainer?(Ii(function(){yl(null,null,t,!1,function(){t._reactRootContainer=null,t[rr]=null})}),!0):!1},Qt.unstable_batchedUpdates=Sc,Qt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!gl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return yl(t,r,o,!1,u)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var ip;function Oy(){if(ip)return Mc.exports;ip=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Mc.exports=My(),Mc.exports}var sp;function Fy(){if(sp)return vl;sp=1;var i=Oy();return vl.createRoot=i.createRoot,vl.hydrateRoot=i.hydrateRoot,vl}var Uy=Fy(),op={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},zy=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],g=i[n++],_=((a&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},im={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,g=f?i[a+1]:0,_=a+2<i.length,E=_?i[a+2]:0,I=c>>2,D=(c&3)<<4|g>>4;let U=(g&15)<<2|E>>6,b=E&63;_||(b=64,f||(U=64)),s.push(n[I],n[D],n[U],n[b])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(rm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):zy(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],g=a<i.length?n[i.charAt(a)]:0;++a;const E=a<i.length?n[i.charAt(a)]:64;++a;const D=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||g==null||E==null||D==null)throw new By;const U=c<<2|g>>4;if(s.push(U),E!==64){const b=g<<4&240|E>>2;if(s.push(b),D!==64){const X=E<<6&192|D;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class By extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jy=function(i){const e=rm(i);return im.encodeByteArray(e,!0)},Nl=function(i){return jy(i).replace(/\./g,"")},by=function(i){try{return im.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=()=>$y().__FIREBASE_DEFAULTS__,Hy=()=>{if(typeof process>"u"||typeof op>"u")return;const i=op.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Qy=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&by(i[1]);return e&&JSON.parse(e)},mh=()=>{try{return qy()||Hy()||Qy()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Wy=i=>{var e,n;return(n=(e=mh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Ky=i=>{const e=Wy(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},sm=()=>{var i;return(i=mh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Nl(JSON.stringify(n)),Nl(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jy(){var i;const e=(i=mh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zy(){return!Jy()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function e_(){try{return typeof indexedDB=="object"}catch{return!1}}function t_(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="FirebaseError";class Us extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=n_,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,om.prototype.create)}}class om{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?r_(c,s):"Error",g=`${this.serviceName}: ${f} (${a}).`;return new Us(a,g,s)}}function r_(i,e){return i.replace(i_,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const i_=/\{\$([^}]+)}/g;function Qc(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(ap(c)&&ap(f)){if(!Qc(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function ap(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(i){return i&&i._delegate?i._delegate:i}class Qo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Gy;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a_(e))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ci){return this.instances.has(e)}getOptions(e=Ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:o_(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ci){return this.component?this.component.multipleInstances?e:Ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o_(i){return i===Ci?void 0:i}function a_(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new s_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const u_={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},c_=ke.INFO,h_={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},f_=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=h_[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class am{constructor(e){this.name=e,this._logLevel=c_,this._logHandler=f_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const d_=(i,e)=>e.some(n=>i instanceof n);let lp,up;function p_(){return lp||(lp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m_(){return up||(up=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lm=new WeakMap,Wc=new WeakMap,um=new WeakMap,Uc=new WeakMap,gh=new WeakMap;function g_(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(Br(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&lm.set(n,i)}).catch(()=>{}),gh.set(e,i),e}function y_(i){if(Wc.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});Wc.set(i,e)}let Kc={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Wc.get(i);if(e==="objectStoreNames")return i.objectStoreNames||um.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function __(i){Kc=i(Kc)}function v_(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(zc(this),e,...n);return um.set(s,e.sort?e.sort():[e]),Br(s)}:m_().includes(i)?function(...e){return i.apply(zc(this),e),Br(lm.get(this))}:function(...e){return Br(i.apply(zc(this),e))}}function E_(i){return typeof i=="function"?v_(i):(i instanceof IDBTransaction&&y_(i),d_(i,p_())?new Proxy(i,Kc):i)}function Br(i){if(i instanceof IDBRequest)return g_(i);if(Uc.has(i))return Uc.get(i);const e=E_(i);return e!==i&&(Uc.set(i,e),gh.set(e,i)),e}const zc=i=>gh.get(i);function w_(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),g=Br(f);return s&&f.addEventListener("upgradeneeded",_=>{s(Br(f.result),_.oldVersion,_.newVersion,Br(f.transaction),_)}),n&&f.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),a&&_.addEventListener("versionchange",E=>a(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const T_=["get","getKey","getAll","getAllKeys","count"],I_=["put","add","delete","clear"],Bc=new Map;function cp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Bc.get(e))return Bc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=I_.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||T_.includes(n)))return;const c=async function(f,...g){const _=this.transaction(f,a?"readwrite":"readonly");let E=_.store;return s&&(E=E.index(g.shift())),(await Promise.all([E[n](...g),a&&_.done]))[0]};return Bc.set(e,c),c}__(i=>({...i,get:(e,n,s)=>cp(e,n)||i.get(e,n,s),has:(e,n)=>!!cp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(A_(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function A_(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gc="@firebase/app",hp="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new am("@firebase/app"),R_="@firebase/app-compat",C_="@firebase/analytics-compat",P_="@firebase/analytics",k_="@firebase/app-check-compat",V_="@firebase/app-check",D_="@firebase/auth",N_="@firebase/auth-compat",x_="@firebase/database",L_="@firebase/data-connect",M_="@firebase/database-compat",O_="@firebase/functions",F_="@firebase/functions-compat",U_="@firebase/installations",z_="@firebase/installations-compat",B_="@firebase/messaging",j_="@firebase/messaging-compat",b_="@firebase/performance",$_="@firebase/performance-compat",q_="@firebase/remote-config",H_="@firebase/remote-config-compat",Q_="@firebase/storage",W_="@firebase/storage-compat",K_="@firebase/firestore",G_="@firebase/vertexai",X_="@firebase/firestore-compat",Y_="firebase",J_="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc="[DEFAULT]",Z_={[Gc]:"fire-core",[R_]:"fire-core-compat",[P_]:"fire-analytics",[C_]:"fire-analytics-compat",[V_]:"fire-app-check",[k_]:"fire-app-check-compat",[D_]:"fire-auth",[N_]:"fire-auth-compat",[x_]:"fire-rtdb",[L_]:"fire-data-connect",[M_]:"fire-rtdb-compat",[O_]:"fire-fn",[F_]:"fire-fn-compat",[U_]:"fire-iid",[z_]:"fire-iid-compat",[B_]:"fire-fcm",[j_]:"fire-fcm-compat",[b_]:"fire-perf",[$_]:"fire-perf-compat",[q_]:"fire-rc",[H_]:"fire-rc-compat",[Q_]:"fire-gcs",[W_]:"fire-gcs-compat",[K_]:"fire-fst",[X_]:"fire-fst-compat",[G_]:"fire-vertex","fire-js":"fire-js",[Y_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=new Map,ev=new Map,Yc=new Map;function fp(i,e){try{i.container.addComponent(e)}catch(n){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ll(i){const e=i.name;if(Yc.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;Yc.set(e,i);for(const n of xl.values())fp(n,i);for(const n of ev.values())fp(n,i);return!0}function tv(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new om("app","Firebase",nv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=J_;function cm(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Xc,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw jr.create("bad-app-name",{appName:String(a)});if(n||(n=sm()),!n)throw jr.create("no-options");const c=xl.get(a);if(c){if(Qc(n,c.options)&&Qc(s,c.config))return c;throw jr.create("duplicate-app",{appName:a})}const f=new l_(a);for(const _ of Yc.values())f.addComponent(_);const g=new rv(n,s,f);return xl.set(a,g),g}function sv(i=Xc){const e=xl.get(i);if(!e&&i===Xc&&sm())return cm();if(!e)throw jr.create("no-app",{appName:i});return e}function ks(i,e,n){var s;let a=(s=Z_[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const g=[`Unable to register library "${a}" with version "${e}":`];c&&g.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(g.join(" "));return}Ll(new Qo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="firebase-heartbeat-database",av=1,Wo="firebase-heartbeat-store";let jc=null;function hm(){return jc||(jc=w_(ov,av,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Wo)}catch(n){console.warn(n)}}}}).catch(i=>{throw jr.create("idb-open",{originalErrorMessage:i.message})})),jc}async function lv(i){try{const n=(await hm()).transaction(Wo),s=await n.objectStore(Wo).get(fm(i));return await n.done,s}catch(e){if(e instanceof Us)hr.warn(e.message);else{const n=jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hr.warn(n.message)}}}async function dp(i,e){try{const s=(await hm()).transaction(Wo,"readwrite");await s.objectStore(Wo).put(e,fm(i)),await s.done}catch(n){if(n instanceof Us)hr.warn(n.message);else{const s=jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hr.warn(s.message)}}}function fm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=1024,cv=30*24*60*60*1e3;class hv{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dv(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=pp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const g=new Date(f.date).valueOf();return Date.now()-g<=cv}),this._storage.overwrite(this._heartbeatsCache))}catch(s){hr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pp(),{heartbeatsToSend:s,unsentEntries:a}=fv(this._heartbeatsCache.heartbeats),c=Nl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return hr.warn(n),""}}}function pp(){return new Date().toISOString().substring(0,10)}function fv(i,e=uv){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),mp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),mp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class dv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return e_()?t_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lv(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return dp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return dp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function mp(i){return Nl(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(i){Ll(new Qo("platform-logger",e=>new S_(e),"PRIVATE")),Ll(new Qo("heartbeat",e=>new hv(e),"PRIVATE")),ks(Gc,hp,i),ks(Gc,hp,"esm2017"),ks("fire-js","")}pv("");var mv="firebase",gv="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(mv,gv,"app");var gp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var br,dm;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function A(){}A.prototype=T.prototype,k.D=T.prototype,k.prototype=new A,k.prototype.constructor=k,k.C=function(P,V,x){for(var S=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)S[Je-2]=arguments[Je];return T.prototype[V].apply(P,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,T,A){A||(A=0);var P=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)P[V]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(V=0;16>V;++V)P[V]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=k.g[0],A=k.g[1],V=k.g[2];var x=k.g[3],S=T+(x^A&(V^x))+P[0]+3614090360&4294967295;T=A+(S<<7&4294967295|S>>>25),S=x+(V^T&(A^V))+P[1]+3905402710&4294967295,x=T+(S<<12&4294967295|S>>>20),S=V+(A^x&(T^A))+P[2]+606105819&4294967295,V=x+(S<<17&4294967295|S>>>15),S=A+(T^V&(x^T))+P[3]+3250441966&4294967295,A=V+(S<<22&4294967295|S>>>10),S=T+(x^A&(V^x))+P[4]+4118548399&4294967295,T=A+(S<<7&4294967295|S>>>25),S=x+(V^T&(A^V))+P[5]+1200080426&4294967295,x=T+(S<<12&4294967295|S>>>20),S=V+(A^x&(T^A))+P[6]+2821735955&4294967295,V=x+(S<<17&4294967295|S>>>15),S=A+(T^V&(x^T))+P[7]+4249261313&4294967295,A=V+(S<<22&4294967295|S>>>10),S=T+(x^A&(V^x))+P[8]+1770035416&4294967295,T=A+(S<<7&4294967295|S>>>25),S=x+(V^T&(A^V))+P[9]+2336552879&4294967295,x=T+(S<<12&4294967295|S>>>20),S=V+(A^x&(T^A))+P[10]+4294925233&4294967295,V=x+(S<<17&4294967295|S>>>15),S=A+(T^V&(x^T))+P[11]+2304563134&4294967295,A=V+(S<<22&4294967295|S>>>10),S=T+(x^A&(V^x))+P[12]+1804603682&4294967295,T=A+(S<<7&4294967295|S>>>25),S=x+(V^T&(A^V))+P[13]+4254626195&4294967295,x=T+(S<<12&4294967295|S>>>20),S=V+(A^x&(T^A))+P[14]+2792965006&4294967295,V=x+(S<<17&4294967295|S>>>15),S=A+(T^V&(x^T))+P[15]+1236535329&4294967295,A=V+(S<<22&4294967295|S>>>10),S=T+(V^x&(A^V))+P[1]+4129170786&4294967295,T=A+(S<<5&4294967295|S>>>27),S=x+(A^V&(T^A))+P[6]+3225465664&4294967295,x=T+(S<<9&4294967295|S>>>23),S=V+(T^A&(x^T))+P[11]+643717713&4294967295,V=x+(S<<14&4294967295|S>>>18),S=A+(x^T&(V^x))+P[0]+3921069994&4294967295,A=V+(S<<20&4294967295|S>>>12),S=T+(V^x&(A^V))+P[5]+3593408605&4294967295,T=A+(S<<5&4294967295|S>>>27),S=x+(A^V&(T^A))+P[10]+38016083&4294967295,x=T+(S<<9&4294967295|S>>>23),S=V+(T^A&(x^T))+P[15]+3634488961&4294967295,V=x+(S<<14&4294967295|S>>>18),S=A+(x^T&(V^x))+P[4]+3889429448&4294967295,A=V+(S<<20&4294967295|S>>>12),S=T+(V^x&(A^V))+P[9]+568446438&4294967295,T=A+(S<<5&4294967295|S>>>27),S=x+(A^V&(T^A))+P[14]+3275163606&4294967295,x=T+(S<<9&4294967295|S>>>23),S=V+(T^A&(x^T))+P[3]+4107603335&4294967295,V=x+(S<<14&4294967295|S>>>18),S=A+(x^T&(V^x))+P[8]+1163531501&4294967295,A=V+(S<<20&4294967295|S>>>12),S=T+(V^x&(A^V))+P[13]+2850285829&4294967295,T=A+(S<<5&4294967295|S>>>27),S=x+(A^V&(T^A))+P[2]+4243563512&4294967295,x=T+(S<<9&4294967295|S>>>23),S=V+(T^A&(x^T))+P[7]+1735328473&4294967295,V=x+(S<<14&4294967295|S>>>18),S=A+(x^T&(V^x))+P[12]+2368359562&4294967295,A=V+(S<<20&4294967295|S>>>12),S=T+(A^V^x)+P[5]+4294588738&4294967295,T=A+(S<<4&4294967295|S>>>28),S=x+(T^A^V)+P[8]+2272392833&4294967295,x=T+(S<<11&4294967295|S>>>21),S=V+(x^T^A)+P[11]+1839030562&4294967295,V=x+(S<<16&4294967295|S>>>16),S=A+(V^x^T)+P[14]+4259657740&4294967295,A=V+(S<<23&4294967295|S>>>9),S=T+(A^V^x)+P[1]+2763975236&4294967295,T=A+(S<<4&4294967295|S>>>28),S=x+(T^A^V)+P[4]+1272893353&4294967295,x=T+(S<<11&4294967295|S>>>21),S=V+(x^T^A)+P[7]+4139469664&4294967295,V=x+(S<<16&4294967295|S>>>16),S=A+(V^x^T)+P[10]+3200236656&4294967295,A=V+(S<<23&4294967295|S>>>9),S=T+(A^V^x)+P[13]+681279174&4294967295,T=A+(S<<4&4294967295|S>>>28),S=x+(T^A^V)+P[0]+3936430074&4294967295,x=T+(S<<11&4294967295|S>>>21),S=V+(x^T^A)+P[3]+3572445317&4294967295,V=x+(S<<16&4294967295|S>>>16),S=A+(V^x^T)+P[6]+76029189&4294967295,A=V+(S<<23&4294967295|S>>>9),S=T+(A^V^x)+P[9]+3654602809&4294967295,T=A+(S<<4&4294967295|S>>>28),S=x+(T^A^V)+P[12]+3873151461&4294967295,x=T+(S<<11&4294967295|S>>>21),S=V+(x^T^A)+P[15]+530742520&4294967295,V=x+(S<<16&4294967295|S>>>16),S=A+(V^x^T)+P[2]+3299628645&4294967295,A=V+(S<<23&4294967295|S>>>9),S=T+(V^(A|~x))+P[0]+4096336452&4294967295,T=A+(S<<6&4294967295|S>>>26),S=x+(A^(T|~V))+P[7]+1126891415&4294967295,x=T+(S<<10&4294967295|S>>>22),S=V+(T^(x|~A))+P[14]+2878612391&4294967295,V=x+(S<<15&4294967295|S>>>17),S=A+(x^(V|~T))+P[5]+4237533241&4294967295,A=V+(S<<21&4294967295|S>>>11),S=T+(V^(A|~x))+P[12]+1700485571&4294967295,T=A+(S<<6&4294967295|S>>>26),S=x+(A^(T|~V))+P[3]+2399980690&4294967295,x=T+(S<<10&4294967295|S>>>22),S=V+(T^(x|~A))+P[10]+4293915773&4294967295,V=x+(S<<15&4294967295|S>>>17),S=A+(x^(V|~T))+P[1]+2240044497&4294967295,A=V+(S<<21&4294967295|S>>>11),S=T+(V^(A|~x))+P[8]+1873313359&4294967295,T=A+(S<<6&4294967295|S>>>26),S=x+(A^(T|~V))+P[15]+4264355552&4294967295,x=T+(S<<10&4294967295|S>>>22),S=V+(T^(x|~A))+P[6]+2734768916&4294967295,V=x+(S<<15&4294967295|S>>>17),S=A+(x^(V|~T))+P[13]+1309151649&4294967295,A=V+(S<<21&4294967295|S>>>11),S=T+(V^(A|~x))+P[4]+4149444226&4294967295,T=A+(S<<6&4294967295|S>>>26),S=x+(A^(T|~V))+P[11]+3174756917&4294967295,x=T+(S<<10&4294967295|S>>>22),S=V+(T^(x|~A))+P[2]+718787259&4294967295,V=x+(S<<15&4294967295|S>>>17),S=A+(x^(V|~T))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(V+(S<<21&4294967295|S>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+x&4294967295}s.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var A=T-this.blockSize,P=this.B,V=this.h,x=0;x<T;){if(V==0)for(;x<=A;)a(this,k,x),x+=this.blockSize;if(typeof k=="string"){for(;x<T;)if(P[V++]=k.charCodeAt(x++),V==this.blockSize){a(this,P),V=0;break}}else for(;x<T;)if(P[V++]=k[x++],V==this.blockSize){a(this,P),V=0;break}}this.h=V,this.o+=T},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var A=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=A&255,A/=256;for(this.u(k),k=Array(16),T=A=0;4>T;++T)for(var P=0;32>P;P+=8)k[A++]=this.g[T]>>>P&255;return k};function c(k,T){var A=g;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=T(k)}function f(k,T){this.h=T;for(var A=[],P=!0,V=k.length-1;0<=V;V--){var x=k[V]|0;P&&x==T||(A[V]=x,P=!1)}this.g=A}var g={};function _(k){return-128<=k&&128>k?c(k,function(T){return new f([T|0],0>T?-1:0)}):new f([k|0],0>k?-1:0)}function E(k){if(isNaN(k)||!isFinite(k))return D;if(0>k)return Q(E(-k));for(var T=[],A=1,P=0;k>=A;P++)T[P]=k/A|0,A*=4294967296;return new f(T,0)}function I(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return Q(I(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=E(Math.pow(T,8)),P=D,V=0;V<k.length;V+=8){var x=Math.min(8,k.length-V),S=parseInt(k.substring(V,V+x),T);8>x?(x=E(Math.pow(T,x)),P=P.j(x).add(E(S))):(P=P.j(A),P=P.add(E(S)))}return P}var D=_(0),U=_(1),b=_(16777216);i=f.prototype,i.m=function(){if(Y(this))return-Q(this).m();for(var k=0,T=1,A=0;A<this.g.length;A++){var P=this.i(A);k+=(0<=P?P:4294967296+P)*T,T*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(X(this))return"0";if(Y(this))return"-"+Q(this).toString(k);for(var T=E(Math.pow(k,6)),A=this,P="";;){var V=Ie(A,T).g;A=ve(A,V.j(T));var x=((0<A.g.length?A.g[0]:A.h)>>>0).toString(k);if(A=V,X(A))return x+P;for(;6>x.length;)x="0"+x;P=x+P}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function X(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function Y(k){return k.h==-1}i.l=function(k){return k=ve(this,k),Y(k)?-1:X(k)?0:1};function Q(k){for(var T=k.g.length,A=[],P=0;P<T;P++)A[P]=~k.g[P];return new f(A,~k.h).add(U)}i.abs=function(){return Y(this)?Q(this):this},i.add=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],P=0,V=0;V<=T;V++){var x=P+(this.i(V)&65535)+(k.i(V)&65535),S=(x>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);P=S>>>16,x&=65535,S&=65535,A[V]=S<<16|x}return new f(A,A[A.length-1]&-2147483648?-1:0)};function ve(k,T){return k.add(Q(T))}i.j=function(k){if(X(this)||X(k))return D;if(Y(this))return Y(k)?Q(this).j(Q(k)):Q(Q(this).j(k));if(Y(k))return Q(this.j(Q(k)));if(0>this.l(b)&&0>k.l(b))return E(this.m()*k.m());for(var T=this.g.length+k.g.length,A=[],P=0;P<2*T;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<k.g.length;V++){var x=this.i(P)>>>16,S=this.i(P)&65535,Je=k.i(V)>>>16,Rt=k.i(V)&65535;A[2*P+2*V]+=S*Rt,ge(A,2*P+2*V),A[2*P+2*V+1]+=x*Rt,ge(A,2*P+2*V+1),A[2*P+2*V+1]+=S*Je,ge(A,2*P+2*V+1),A[2*P+2*V+2]+=x*Je,ge(A,2*P+2*V+2)}for(P=0;P<T;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=T;P<2*T;P++)A[P]=0;return new f(A,0)};function ge(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function ye(k,T){this.g=k,this.h=T}function Ie(k,T){if(X(T))throw Error("division by zero");if(X(k))return new ye(D,D);if(Y(k))return T=Ie(Q(k),T),new ye(Q(T.g),Q(T.h));if(Y(T))return T=Ie(k,Q(T)),new ye(Q(T.g),T.h);if(30<k.g.length){if(Y(k)||Y(T))throw Error("slowDivide_ only works with positive integers.");for(var A=U,P=T;0>=P.l(k);)A=Ye(A),P=Ye(P);var V=Ve(A,1),x=Ve(P,1);for(P=Ve(P,2),A=Ve(A,2);!X(P);){var S=x.add(P);0>=S.l(k)&&(V=V.add(A),x=S),P=Ve(P,1),A=Ve(A,1)}return T=ve(k,V.j(T)),new ye(V,T)}for(V=D;0<=k.l(T);){for(A=Math.max(1,Math.floor(k.m()/T.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),x=E(A),S=x.j(T);Y(S)||0<S.l(k);)A-=P,x=E(A),S=x.j(T);X(x)&&(x=U),V=V.add(x),k=ve(k,S)}return new ye(V,k)}i.A=function(k){return Ie(this,k).h},i.and=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)&k.i(P);return new f(A,this.h&k.h)},i.or=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)|k.i(P);return new f(A,this.h|k.h)},i.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)^k.i(P);return new f(A,this.h^k.h)};function Ye(k){for(var T=k.g.length+1,A=[],P=0;P<T;P++)A[P]=k.i(P)<<1|k.i(P-1)>>>31;return new f(A,k.h)}function Ve(k,T){var A=T>>5;T%=32;for(var P=k.g.length-A,V=[],x=0;x<P;x++)V[x]=0<T?k.i(x+A)>>>T|k.i(x+A+1)<<32-T:k.i(x+A);return new f(V,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,dm=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=E,f.fromString=I,br=f}).apply(typeof gp<"u"?gp:typeof self<"u"?self:typeof window<"u"?window:{});var El=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pm,zo,mm,Rl,Jc,gm,ym,_m;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,m){return l==Array.prototype||l==Object.prototype||(l[d]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof El=="object"&&El];for(var d=0;d<l.length;++d){var m=l[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var m=s;l=l.split(".");for(var v=0;v<l.length-1;v++){var L=l[v];if(!(L in m))break e;m=m[L]}l=l[l.length-1],v=m[l],d=d(v),d!=v&&d!=null&&e(m,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var m=0,v=!1,L={next:function(){if(!v&&m<l.length){var z=m++;return{value:d(z,l[z]),done:!1}}return v=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function _(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function E(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function I(l,d,m){return l.call.apply(l.bind,arguments)}function D(l,d,m){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,v),l.apply(d,L)}}return function(){return l.apply(d,arguments)}}function U(l,d,m){return U=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?I:D,U.apply(null,arguments)}function b(l,d){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function X(l,d){function m(){}m.prototype=d.prototype,l.aa=d.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(v,L,z){for(var G=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)G[Oe-2]=arguments[Oe];return d.prototype[L].apply(v,G)}}function Y(l){const d=l.length;if(0<d){const m=Array(d);for(let v=0;v<d;v++)m[v]=l[v];return m}return[]}function Q(l,d){for(let m=1;m<arguments.length;m++){const v=arguments[m];if(_(v)){const L=l.length||0,z=v.length||0;l.length=L+z;for(let G=0;G<z;G++)l[L+G]=v[G]}else l.push(v)}}class ve{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ge(l){return/^[\s\xa0]*$/.test(l)}function ye(){var l=g.navigator;return l&&(l=l.userAgent)?l:""}function Ie(l){return Ie[" "](l),l}Ie[" "]=function(){};var Ye=ye().indexOf("Gecko")!=-1&&!(ye().toLowerCase().indexOf("webkit")!=-1&&ye().indexOf("Edge")==-1)&&!(ye().indexOf("Trident")!=-1||ye().indexOf("MSIE")!=-1)&&ye().indexOf("Edge")==-1;function Ve(l,d,m){for(const v in l)d.call(m,l[v],v,l)}function k(l,d){for(const m in l)d.call(void 0,l[m],m,l)}function T(l){const d={};for(const m in l)d[m]=l[m];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,d){let m,v;for(let L=1;L<arguments.length;L++){v=arguments[L];for(m in v)l[m]=v[m];for(let z=0;z<A.length;z++)m=A[z],Object.prototype.hasOwnProperty.call(v,m)&&(l[m]=v[m])}}function V(l){var d=1;l=l.split(":");const m=[];for(;0<d&&l.length;)m.push(l.shift()),d--;return l.length&&m.push(l.join(":")),m}function x(l){g.setTimeout(()=>{throw l},0)}function S(){var l=le;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Je{constructor(){this.h=this.g=null}add(d,m){const v=Rt.get();v.set(d,m),this.h?this.h.next=v:this.g=v,this.h=v}}var Rt=new ve(()=>new Ct,l=>l.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,J=!1,le=new Je,ee=()=>{const l=g.Promise.resolve(void 0);Fe=()=>{l.then(N)}};var N=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(m){x(m)}var d=Rt;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}J=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};g.addEventListener("test",m,d),g.removeEventListener("test",m,d)}catch{}return l}();function Ee(l,d){if(oe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Ye){e:{try{Ie(d.nodeName);var L=!0;break e}catch{}L=!1}L||(d=null)}}else m=="mouseover"?d=l.fromElement:m=="mouseout"&&(d=l.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Re[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ee.aa.h.call(this)}}X(Ee,oe);var Re={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Le=0;function ze(l,d,m,v,L){this.listener=l,this.proxy=null,this.src=d,this.type=m,this.capture=!!v,this.ha=L,this.key=++Le,this.da=this.fa=!1}function dt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Wn(l){this.src=l,this.g={},this.h=0}Wn.prototype.add=function(l,d,m,v,L){var z=l.toString();l=this.g[z],l||(l=this.g[z]=[],this.h++);var G=pr(l,d,v,L);return-1<G?(d=l[G],m||(d.fa=!1)):(d=new ze(d,this.src,z,!!v,L),d.fa=m,l.push(d)),d};function xi(l,d){var m=d.type;if(m in l.g){var v=l.g[m],L=Array.prototype.indexOf.call(v,d,void 0),z;(z=0<=L)&&Array.prototype.splice.call(v,L,1),z&&(dt(d),l.g[m].length==0&&(delete l.g[m],l.h--))}}function pr(l,d,m,v){for(var L=0;L<l.length;++L){var z=l[L];if(!z.da&&z.listener==d&&z.capture==!!m&&z.ha==v)return L}return-1}var Zr="closure_lm_"+(1e6*Math.random()|0),Li={};function $s(l,d,m,v,L){if(Array.isArray(d)){for(var z=0;z<d.length;z++)$s(l,d[z],m,v,L);return null}return m=Qs(m),l&&l[xe]?l.K(d,m,E(v)?!!v.capture:!1,L):qs(l,d,m,!1,v,L)}function qs(l,d,m,v,L,z){if(!d)throw Error("Invalid event type");var G=E(L)?!!L.capture:!!L,Oe=Oi(l);if(Oe||(l[Zr]=Oe=new Wn(l)),m=Oe.add(d,m,v,G,z),m.proxy)return m;if(v=ia(),m.proxy=v,v.src=l,v.listener=m,l.addEventListener)_e||(L=G),L===void 0&&(L=!1),l.addEventListener(d.toString(),v,L);else if(l.attachEvent)l.attachEvent(Gn(d.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function ia(){function l(m){return d.call(l.src,l.listener,m)}const d=Hs;return l}function Mi(l,d,m,v,L){if(Array.isArray(d))for(var z=0;z<d.length;z++)Mi(l,d[z],m,v,L);else v=E(v)?!!v.capture:!!v,m=Qs(m),l&&l[xe]?(l=l.i,d=String(d).toString(),d in l.g&&(z=l.g[d],m=pr(z,m,v,L),-1<m&&(dt(z[m]),Array.prototype.splice.call(z,m,1),z.length==0&&(delete l.g[d],l.h--)))):l&&(l=Oi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=pr(d,m,v,L)),(m=-1<l?d[l]:null)&&Kn(m))}function Kn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[xe])xi(d.i,l);else{var m=l.type,v=l.proxy;d.removeEventListener?d.removeEventListener(m,v,l.capture):d.detachEvent?d.detachEvent(Gn(m),v):d.addListener&&d.removeListener&&d.removeListener(v),(m=Oi(d))?(xi(m,l),m.h==0&&(m.src=null,d[Zr]=null)):dt(l)}}}function Gn(l){return l in Li?Li[l]:Li[l]="on"+l}function Hs(l,d){if(l.da)l=!0;else{d=new Ee(d,this);var m=l.listener,v=l.ha||l.src;l.fa&&Kn(l),l=m.call(v,d)}return l}function Oi(l){return l=l[Zr],l instanceof Wn?l:null}var Fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qs(l){return typeof l=="function"?l:(l[Fi]||(l[Fi]=function(d){return l.handleEvent(d)}),l[Fi])}function st(){j.call(this),this.i=new Wn(this),this.M=this,this.F=null}X(st,j),st.prototype[xe]=!0,st.prototype.removeEventListener=function(l,d,m,v){Mi(this,l,d,m,v)};function ot(l,d){var m,v=l.F;if(v)for(m=[];v;v=v.F)m.push(v);if(l=l.M,v=d.type||d,typeof d=="string")d=new oe(d,l);else if(d instanceof oe)d.target=d.target||l;else{var L=d;d=new oe(v,l),P(d,L)}if(L=!0,m)for(var z=m.length-1;0<=z;z--){var G=d.g=m[z];L=Xn(G,v,!0,d)&&L}if(G=d.g=l,L=Xn(G,v,!0,d)&&L,L=Xn(G,v,!1,d)&&L,m)for(z=0;z<m.length;z++)G=d.g=m[z],L=Xn(G,v,!1,d)&&L}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var m=l.g[d],v=0;v<m.length;v++)dt(m[v]);delete l.g[d],l.h--}}this.F=null},st.prototype.K=function(l,d,m,v){return this.i.add(String(l),d,!1,m,v)},st.prototype.L=function(l,d,m,v){return this.i.add(String(l),d,!0,m,v)};function Xn(l,d,m,v){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var L=!0,z=0;z<d.length;++z){var G=d[z];if(G&&!G.da&&G.capture==m){var Oe=G.listener,at=G.ha||G.src;G.fa&&xi(l.i,G),L=Oe.call(at,v)!==!1&&L}}return L&&!v.defaultPrevented}function Ws(l,d,m){if(typeof l=="function")m&&(l=U(l,m));else if(l&&typeof l.handleEvent=="function")l=U(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:g.setTimeout(l,d||0)}function mr(l){l.g=Ws(()=>{l.g=null,l.i&&(l.i=!1,mr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class ei extends j{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:mr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ti(l){j.call(this),this.h=l,this.g={}}X(ti,j);var Ks=[];function Gs(l){Ve(l.g,function(d,m){this.g.hasOwnProperty(m)&&Kn(d)},l),l.g={}}ti.prototype.N=function(){ti.aa.N.call(this),Gs(this)},ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xs=g.JSON.stringify,Ys=g.JSON.parse,Js=class{stringify(l){return g.JSON.stringify(l,void 0)}parse(l){return g.JSON.parse(l,void 0)}};function ni(){}ni.prototype.h=null;function Ui(l){return l.h||(l.h=l.i())}function zi(){}var rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dn(){oe.call(this,"d")}X(Dn,oe);function Bi(){oe.call(this,"c")}X(Bi,oe);var Nn={},Zs=null;function ri(){return Zs=Zs||new st}Nn.La="serverreachability";function eo(l){oe.call(this,Nn.La,l)}X(eo,oe);function Yn(l){const d=ri();ot(d,new eo(d))}Nn.STAT_EVENT="statevent";function to(l,d){oe.call(this,Nn.STAT_EVENT,l),this.stat=d}X(to,oe);function Ze(l){const d=ri();ot(d,new to(d,l))}Nn.Ma="timingevent";function ji(l,d){oe.call(this,Nn.Ma,l),this.size=d}X(ji,oe);function mn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){l()},d)}function ii(){this.g=!0}ii.prototype.xa=function(){this.g=!1};function si(l,d,m,v,L,z){l.info(function(){if(l.g)if(z)for(var G="",Oe=z.split("&"),at=0;at<Oe.length;at++){var Ce=Oe[at].split("=");if(1<Ce.length){var pt=Ce[0];Ce=Ce[1];var nt=pt.split("_");G=2<=nt.length&&nt[1]=="type"?G+(pt+"="+Ce+"&"):G+(pt+"=redacted&")}}else G=null;else G=z;return"XMLHTTP REQ ("+v+") [attempt "+L+"]: "+d+`
`+m+`
`+G})}function bi(l,d,m,v,L,z,G){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+L+"]: "+d+`
`+m+`
`+z+" "+G})}function gn(l,d,m,v){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+lu(l,m)+(v?" "+v:"")})}function no(l,d){l.info(function(){return"TIMEOUT: "+d})}ii.prototype.info=function(){};function lu(l,d){if(!l.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var v=m[l];if(!(2>v.length)){var L=v[1];if(Array.isArray(L)&&!(1>L.length)){var z=L[0];if(z!="noop"&&z!="stop"&&z!="close")for(var G=1;G<L.length;G++)L[G]=""}}}}return Xs(m)}catch{return d}}var $i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yn;function oi(){}X(oi,ni),oi.prototype.g=function(){return new XMLHttpRequest},oi.prototype.i=function(){return{}},yn=new oi;function _n(l,d,m,v){this.j=l,this.i=d,this.l=m,this.R=v||1,this.U=new ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oa}function oa(){this.i=null,this.g="",this.h=!1}var ro={},qi={};function Hi(l,d,m){l.L=1,l.v=Er(Xt(d)),l.m=m,l.P=!0,io(l,null)}function io(l,d){l.F=Date.now(),Be(l),l.A=Xt(l.v);var m=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),Tr(m.i,"t",v),l.C=0,m=l.j.J,l.h=new oa,l.g=Sa(l.j,m?d:null,!l.m),0<l.O&&(l.M=new ei(U(l.Y,l,l.g),l.O)),d=l.U,m=l.g,v=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Ks[0]=L.toString()),L=Ks);for(var z=0;z<L.length;z++){var G=$s(m,L[z],v||d.handleEvent,!1,d.h||d);if(!G)break;d.g[G.key]=G}d=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Yn(),si(l.i,l.u,l.A,l.l,l.R,l.m)}_n.prototype.ca=function(l){l=l.target;const d=this.M;d&&Bt(l)==3?d.j():this.Y(l)},_n.prototype.Y=function(l){try{if(l==this.g)e:{const nt=Bt(this.g);var d=this.g.Ba();const an=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||co(this.g)))){this.J||nt!=4||d==7||(d==8||0>=an?Yn(3):Yn(2)),ai(this);var m=this.g.Z();this.X=m;t:if(aa(this)){var v=co(this.g);l="";var L=v.length,z=Bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),gr(this);var G="";break t}this.h.i=new g.TextDecoder}for(d=0;d<L;d++)this.h.h=!0,l+=this.h.i.decode(v[d],{stream:!(z&&d==L-1)});v.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=m==200,bi(this.i,this.u,this.A,this.l,this.R,nt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,at=this.g;if((Oe=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ge(Oe)){var Ce=Oe;break t}}Ce=null}if(m=Ce)gn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,so(this,m);else{this.o=!1,this.s=3,Ze(12),sn(this),gr(this);break e}}if(this.P){m=!0;let Jt;for(;!this.J&&this.C<G.length;)if(Jt=uu(this,G),Jt==qi){nt==4&&(this.s=4,Ze(14),m=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==ro){this.s=4,Ze(15),gn(this.i,this.l,G,"[Invalid Chunk]"),m=!1;break}else gn(this.i,this.l,Jt,null),so(this,Jt);if(aa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||G.length!=0||this.h.h||(this.s=1,Ze(16),m=!1),this.o=this.o&&m,!m)gn(this.i,this.l,G,"[Invalid Chunked Response]"),sn(this),gr(this);else if(0<G.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),fo(pt),pt.M=!0,Ze(11))}}else gn(this.i,this.l,G,null),so(this,G);nt==4&&sn(this),this.o&&!this.J&&(nt==4?ns(this.j,this):(this.o=!1,Be(this)))}else Yi(this.g),m==400&&0<G.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),sn(this),gr(this)}}}catch{}finally{}};function aa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function uu(l,d){var m=l.C,v=d.indexOf(`
`,m);return v==-1?qi:(m=Number(d.substring(m,v)),isNaN(m)?ro:(v+=1,v+m>d.length?qi:(d=d.slice(v,v+m),l.C=v+m,d)))}_n.prototype.cancel=function(){this.J=!0,sn(this)};function Be(l){l.S=Date.now()+l.I,la(l,l.I)}function la(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=mn(U(l.ba,l),d)}function ai(l){l.B&&(g.clearTimeout(l.B),l.B=null)}_n.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(no(this.i,this.A),this.L!=2&&(Yn(),Ze(17)),sn(this),this.s=2,gr(this)):la(this,this.S-l)};function gr(l){l.j.G==0||l.J||ns(l.j,l)}function sn(l){ai(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Gs(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function so(l,d){try{var m=l.j;if(m.G!=0&&(m.g==l||Mt(m.h,l))){if(!l.K&&Mt(m.h,l)&&m.G==3){try{var v=m.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var L=v;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)ts(m),In(m);else break e;es(m),Ze(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=mn(U(m.Za,m),6e3));if(1>=ca(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else nr(m,11)}else if((l.K||m.g==l)&&ts(m),!ge(d))for(L=m.Da.g.parse(d),d=0;d<L.length;d++){let Ce=L[d];if(m.T=Ce[0],Ce=Ce[1],m.G==2)if(Ce[0]=="c"){m.K=Ce[1],m.ia=Ce[2];const pt=Ce[3];pt!=null&&(m.la=pt,m.j.info("VER="+m.la));const nt=Ce[4];nt!=null&&(m.Aa=nt,m.j.info("SVER="+m.Aa));const an=Ce[5];an!=null&&typeof an=="number"&&0<an&&(v=1.5*an,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;const Jt=l.g;if(Jt){const pi=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var z=v.h;z.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(oo(z,z.h),z.h=null))}if(v.D){const is=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;is&&(v.ya=is,Ue(v.I,v.D,is))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var G=l;if(v.qa=Ia(v,v.J?v.ia:null,v.W),G.K){ha(v.h,G);var Oe=G,at=v.L;at&&(Oe.I=at),Oe.B&&(ai(Oe),Be(Oe)),v.g=G}else di(v);0<m.i.length&&On(m)}else Ce[0]!="stop"&&Ce[0]!="close"||nr(m,7);else m.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?nr(m,7):Et(m):Ce[0]!="noop"&&m.l&&m.l.ta(Ce),m.v=0)}}Yn(4)}catch{}}var ua=class{constructor(l,d){this.g=l,this.map=d}};function li(l){this.l=l||10,g.PerformanceNavigationTiming?(l=g.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ca(l){return l.h?1:l.g?l.g.size:0}function Mt(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function oo(l,d){l.g?l.g.add(d):l.h=d}function ha(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}li.prototype.cancel=function(){if(this.i=fa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function fa(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const m of l.g.values())d=d.concat(m.D);return d}return Y(l.i)}function Qi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(_(l)){for(var d=[],m=l.length,v=0;v<m;v++)d.push(l[v]);return d}d=[],m=0;for(v in l)d[m++]=l[v];return d}function Wi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(_(l)||typeof l=="string"){var d=[];l=l.length;for(var m=0;m<l;m++)d.push(m);return d}d=[],m=0;for(const v in l)d[m++]=v;return d}}}function yr(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(_(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var m=Wi(l),v=Qi(l),L=v.length,z=0;z<L;z++)d.call(void 0,v[z],m&&m[z],l)}var ui=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cu(l,d){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var v=l[m].indexOf("="),L=null;if(0<=v){var z=l[m].substring(0,v);L=l[m].substring(v+1)}else z=l[m];d(z,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Jn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Jn){this.h=l.h,ci(this,l.j),this.o=l.o,this.g=l.g,_r(this,l.s),this.l=l.l;var d=l.i,m=new xn;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),vr(this,m),this.m=l.m}else l&&(d=String(l).match(ui))?(this.h=!1,ci(this,d[1]||"",!0),this.o=Se(d[2]||""),this.g=Se(d[3]||"",!0),_r(this,d[4]),this.l=Se(d[5]||"",!0),vr(this,d[6]||"",!0),this.m=Se(d[7]||"")):(this.h=!1,this.i=new xn(null,this.h))}Jn.prototype.toString=function(){var l=[],d=this.j;d&&l.push(wr(d,Ki,!0),":");var m=this.g;return(m||d=="file")&&(l.push("//"),(d=this.o)&&l.push(wr(d,Ki,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(wr(m,m.charAt(0)=="/"?ma:pa,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",wr(m,ao)),l.join("")};function Xt(l){return new Jn(l)}function ci(l,d,m){l.j=m?Se(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function _r(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function vr(l,d,m){d instanceof xn?(l.i=d,Ln(l.i,l.h)):(m||(d=wr(d,ga)),l.i=new xn(d,l.h))}function Ue(l,d,m){l.i.set(d,m)}function Er(l){return Ue(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Se(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function wr(l,d,m){return typeof l=="string"?(l=encodeURI(l).replace(d,da),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function da(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ki=/[#\/\?@]/g,pa=/[#\?:]/g,ma=/[#\?]/g,ga=/[#\?@]/g,ao=/#/g;function xn(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function vt(l){l.g||(l.g=new Map,l.h=0,l.i&&cu(l.i,function(d,m){l.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}i=xn.prototype,i.add=function(l,d){vt(this),this.i=null,l=on(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(d),this.h+=1,this};function vn(l,d){vt(l),d=on(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function En(l,d){return vt(l),d=on(l,d),l.g.has(d)}i.forEach=function(l,d){vt(this),this.g.forEach(function(m,v){m.forEach(function(L){l.call(d,L,v,this)},this)},this)},i.na=function(){vt(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let v=0;v<d.length;v++){const L=l[v];for(let z=0;z<L.length;z++)m.push(d[v])}return m},i.V=function(l){vt(this);let d=[];if(typeof l=="string")En(this,l)&&(d=d.concat(this.g.get(on(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)d=d.concat(l[m])}return d},i.set=function(l,d){return vt(this),this.i=null,l=on(this,l),En(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Tr(l,d,m){vn(l,d),0<m.length&&(l.i=null,l.g.set(on(l,d),Y(m)),l.h+=m.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var v=d[m];const z=encodeURIComponent(String(v)),G=this.V(v);for(v=0;v<G.length;v++){var L=z;G[v]!==""&&(L+="="+encodeURIComponent(String(G[v]))),l.push(L)}}return this.i=l.join("&")};function on(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Ln(l,d){d&&!l.j&&(vt(l),l.i=null,l.g.forEach(function(m,v){var L=v.toLowerCase();v!=L&&(vn(this,v),Tr(this,L,m))},l)),l.j=d}function hu(l,d){const m=new ii;if(g.Image){const v=new Image;v.onload=b(zt,m,"TestLoadImage: loaded",!0,d,v),v.onerror=b(zt,m,"TestLoadImage: error",!1,d,v),v.onabort=b(zt,m,"TestLoadImage: abort",!1,d,v),v.ontimeout=b(zt,m,"TestLoadImage: timeout",!1,d,v),g.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else d(!1)}function ya(l,d){const m=new ii,v=new AbortController,L=setTimeout(()=>{v.abort(),zt(m,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:v.signal}).then(z=>{clearTimeout(L),z.ok?zt(m,"TestPingServer: ok",!0,d):zt(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),zt(m,"TestPingServer: error",!1,d)})}function zt(l,d,m,v,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),v(m)}catch{}}function fu(){this.g=new Js}function _a(l,d,m){const v=m||"";try{yr(l,function(L,z){let G=L;E(L)&&(G=Xs(L)),d.push(v+z+"="+encodeURIComponent(G))})}catch(L){throw d.push(v+"type="+encodeURIComponent("_badmap")),L}}function Zn(l){this.l=l.Ub||null,this.j=l.eb||!1}X(Zn,ni),Zn.prototype.g=function(){return new hi(this.l,this.j)},Zn.prototype.i=function(l){return function(){return l}}({});function hi(l,d){st.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(hi,st),i=hi.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Tn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||g).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;va(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function va(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?wn(this):Tn(this),this.readyState==3&&va(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,wn(this))},i.Qa=function(l){this.g&&(this.response=l,wn(this))},i.ga=function(){this.g&&wn(this)};function wn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Tn(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=d.next();return l.join(`\r
`)};function Tn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function er(l){let d="";return Ve(l,function(m,v){d+=v,d+=":",d+=m,d+=`\r
`}),d}function Ir(l,d,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=er(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):Ue(l,d,m))}function qe(l){st.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(qe,st);var du=/^https?$/i,lo=["POST","PUT"];i=qe.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yn.g(),this.v=this.o?Ui(this.o):Ui(yn),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(z){fi(this,z);return}if(l=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var L in v)m.set(L,v[L]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const z of v.keys())m.set(z,v.get(z));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(z=>z.toLowerCase()=="content-type"),L=g.FormData&&l instanceof g.FormData,!(0<=Array.prototype.indexOf.call(lo,d,void 0))||v||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,G]of m)this.g.setRequestHeader(z,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xi(this),this.u=!0,this.g.send(l),this.u=!1}catch(z){fi(this,z)}};function fi(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Gi(l),Yt(l)}function Gi(l){l.A||(l.A=!0,ot(l,"complete"),ot(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ot(this,"complete"),ot(this,"abort"),Yt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yt(this,!0)),qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?uo(this):this.bb())},i.bb=function(){uo(this)};function uo(l){if(l.h&&typeof f<"u"&&(!l.v[1]||Bt(l)!=4||l.Z()!=2)){if(l.u&&Bt(l)==4)Ws(l.Ea,0,l);else if(ot(l,"readystatechange"),Bt(l)==4){l.h=!1;try{const G=l.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var v;if(v=G===0){var L=String(l.D).match(ui)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),v=!du.test(L?L.toLowerCase():"")}m=v}if(m)ot(l,"complete"),ot(l,"success");else{l.m=6;try{var z=2<Bt(l)?l.g.statusText:""}catch{z=""}l.l=z+" ["+l.Z()+"]",Gi(l)}}finally{Yt(l)}}}}function Yt(l,d){if(l.g){Xi(l);const m=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ot(l,"ready");try{m.onreadystatechange=v}catch{}}}function Xi(l){l.I&&(g.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Bt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),Ys(d)}};function co(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(l){const d={};l=(l.g&&2<=Bt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(ge(l[v]))continue;var m=V(l[v]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const z=d[L]||[];d[L]=z,z.push(m)}k(d,function(v){return v.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mn(l,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||d}function ho(l){this.Aa=0,this.i=[],this.j=new ii,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mn("baseRetryDelayMs",5e3,l),this.cb=Mn("retryDelaySeedMs",1e4,l),this.Wa=Mn("forwardChannelMaxRetries",2,l),this.wa=Mn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new li(l&&l.concurrentRequestLimit),this.Da=new fu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ho.prototype,i.la=8,i.G=1,i.connect=function(l,d,m,v){Ze(0),this.W=l,this.H=d||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=Ia(this,null,this.W),On(this)};function Et(l){if(Ji(l),l.G==3){var d=l.U++,m=Xt(l.I);if(Ue(m,"SID",l.K),Ue(m,"RID",d),Ue(m,"TYPE","terminate"),tr(l,m),d=new _n(l,l.j,d),d.L=2,d.v=Er(Xt(m)),m=!1,g.navigator&&g.navigator.sendBeacon)try{m=g.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&g.Image&&(new Image().src=d.v,m=!0),m||(d.g=Sa(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Be(d)}Ta(l)}function In(l){l.g&&(fo(l),l.g.cancel(),l.g=null)}function Ji(l){In(l),l.u&&(g.clearTimeout(l.u),l.u=null),ts(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&g.clearTimeout(l.s),l.s=null)}function On(l){if(!Gt(l.h)&&!l.s){l.s=!0;var d=l.Ga;Fe||ee(),J||(Fe(),J=!0),le.add(d,l),l.B=0}}function pu(l,d){return ca(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=mn(U(l.Ga,l,d),wa(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new _n(this,this.j,l);let z=this.o;if(this.S&&(z?(z=T(z),P(z,this.S)):z=this.S),this.m!==null||this.O||(L.H=z,z=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=Sr(this,L,d),m=Xt(this.I),Ue(m,"RID",l),Ue(m,"CVER",22),this.D&&Ue(m,"X-HTTP-Session-Id",this.D),tr(this,m),z&&(this.O?d="headers="+encodeURIComponent(String(er(z)))+"&"+d:this.m&&Ir(m,this.m,z)),oo(this.h,L),this.Ua&&Ue(m,"TYPE","init"),this.P?(Ue(m,"$req",d),Ue(m,"SID","null"),L.T=!0,Hi(L,m,null)):Hi(L,m,d),this.G=2}}else this.G==3&&(l?Zi(this,l):this.i.length==0||Gt(this.h)||Zi(this))};function Zi(l,d){var m;d?m=d.l:m=l.U++;const v=Xt(l.I);Ue(v,"SID",l.K),Ue(v,"RID",m),Ue(v,"AID",l.T),tr(l,v),l.m&&l.o&&Ir(v,l.m,l.o),m=new _n(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Sr(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),oo(l.h,m),Hi(m,v,d)}function tr(l,d){l.H&&Ve(l.H,function(m,v){Ue(d,v,m)}),l.l&&yr({},function(m,v){Ue(d,v,m)})}function Sr(l,d,m){m=Math.min(l.i.length,m);var v=l.l?U(l.l.Na,l.l,l):null;e:{var L=l.i;let z=-1;for(;;){const G=["count="+m];z==-1?0<m?(z=L[0].g,G.push("ofs="+z)):z=0:G.push("ofs="+z);let Oe=!0;for(let at=0;at<m;at++){let Ce=L[at].g;const pt=L[at].map;if(Ce-=z,0>Ce)z=Math.max(0,L[at].g-100),Oe=!1;else try{_a(pt,G,"req"+Ce+"_")}catch{v&&v(pt)}}if(Oe){v=G.join("&");break e}}}return l=l.i.splice(0,m),d.D=l,v}function di(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Fe||ee(),J||(Fe(),J=!0),le.add(d,l),l.v=0}}function es(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=mn(U(l.Fa,l),wa(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Ea(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=mn(U(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ze(10),In(this),Ea(this))};function fo(l){l.A!=null&&(g.clearTimeout(l.A),l.A=null)}function Ea(l){l.g=new _n(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Xt(l.qa);Ue(d,"RID","rpc"),Ue(d,"SID",l.K),Ue(d,"AID",l.T),Ue(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ue(d,"TO",l.ja),Ue(d,"TYPE","xmlhttp"),tr(l,d),l.m&&l.o&&Ir(d,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Er(Xt(d)),m.m=null,m.P=!0,io(m,l)}i.Za=function(){this.C!=null&&(this.C=null,In(this),es(this),Ze(19))};function ts(l){l.C!=null&&(g.clearTimeout(l.C),l.C=null)}function ns(l,d){var m=null;if(l.g==d){ts(l),fo(l),l.g=null;var v=2}else if(Mt(l.h,d))m=d.D,ha(l.h,d),v=1;else return;if(l.G!=0){if(d.o)if(v==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var L=l.B;v=ri(),ot(v,new ji(v,m)),On(l)}else di(l);else if(L=d.s,L==3||L==0&&0<d.X||!(v==1&&pu(l,d)||v==2&&es(l)))switch(m&&0<m.length&&(d=l.h,d.i=d.i.concat(m)),L){case 1:nr(l,5);break;case 4:nr(l,10);break;case 3:nr(l,6);break;default:nr(l,2)}}}function wa(l,d){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*d}function nr(l,d){if(l.j.info("Error code "+d),d==2){var m=U(l.fb,l),v=l.Xa;const L=!v;v=new Jn(v||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ci(v,"https"),Er(v),L?hu(v.toString(),m):ya(v.toString(),m)}else Ze(2);l.G=0,l.l&&l.l.sa(d),Ta(l),Ji(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function Ta(l){if(l.G=0,l.ka=[],l.l){const d=fa(l.h);(d.length!=0||l.i.length!=0)&&(Q(l.ka,d),Q(l.ka,l.i),l.h.i.length=0,Y(l.i),l.i.length=0),l.l.ra()}}function Ia(l,d,m){var v=m instanceof Jn?Xt(m):new Jn(m);if(v.g!="")d&&(v.g=d+"."+v.g),_r(v,v.s);else{var L=g.location;v=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;var z=new Jn(null);v&&ci(z,v),d&&(z.g=d),L&&_r(z,L),m&&(z.l=m),v=z}return m=l.D,d=l.ya,m&&d&&Ue(v,m,d),Ue(v,"VER",l.la),tr(l,v),v}function Sa(l,d,m){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new qe(new Zn({eb:m})):new qe(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function po(){}i=po.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function rs(){}rs.prototype.g=function(l,d){return new Ot(l,d)};function Ot(l,d){st.call(this),this.g=new ho(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!ge(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ge(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Fn(this)}X(Ot,st),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){Et(this.g)},Ot.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=Xs(l),l=m);d.i.push(new ua(d.Ya++,l)),d.G==3&&On(d)},Ot.prototype.N=function(){this.g.l=null,delete this.j,Et(this.g),delete this.g,Ot.aa.N.call(this)};function Aa(l){Dn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const m in d){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}X(Aa,Dn);function Ra(){Bi.call(this),this.status=1}X(Ra,Bi);function Fn(l){this.g=l}X(Fn,po),Fn.prototype.ua=function(){ot(this.g,"a")},Fn.prototype.ta=function(l){ot(this.g,new Aa(l))},Fn.prototype.sa=function(l){ot(this.g,new Ra)},Fn.prototype.ra=function(){ot(this.g,"b")},rs.prototype.createWebChannel=rs.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,_m=function(){return new rs},ym=function(){return ri()},gm=Nn,Jc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,Rl=$i,sa.COMPLETE="complete",mm=sa,zi.EventType=rn,rn.OPEN="a",rn.CLOSE="b",rn.ERROR="c",rn.MESSAGE="d",st.prototype.listen=st.prototype.K,zo=zi,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,pm=qe}).apply(typeof El<"u"?El:typeof self<"u"?self:typeof window<"u"?window:{});const yp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zs="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new am("@firebase/firestore");function As(){return ki.logLevel}function te(i,...e){if(ki.logLevel<=ke.DEBUG){const n=e.map(yh);ki.debug(`Firestore (${zs}): ${i}`,...n)}}function fr(i,...e){if(ki.logLevel<=ke.ERROR){const n=e.map(yh);ki.error(`Firestore (${zs}): ${i}`,...n)}}function Ds(i,...e){if(ki.logLevel<=ke.WARN){const n=e.map(yh);ki.warn(`Firestore (${zs}): ${i}`,...n)}}function yh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(i="Unexpected state"){const e=`FIRESTORE (${zs}) INTERNAL ASSERTION FAILED: `+i;throw fr(e),new Error(e)}function Me(i,e){i||de()}function me(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Us{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}}class _v{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vv{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0);let s=this.i;const a=_=>this.i!==s?(s=this.i,n(_)):Promise.resolve();let c=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $r,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const _=c;e.enqueueRetryable(async()=>{await _.promise,await a(this.currentUser)})},g=_=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $r)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Me(typeof s.accessToken=="string"),new vm(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new xt(e)}}class Ev{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class wv{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Ev(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Iv{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Me(this.o===void 0);const s=c=>{c.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,te("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string"),this.R=n.token,new Tv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Sv(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function Ae(i,e){return i<e?-1:i>e?1:0}function Ns(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new ht(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new ht(0,0))}static max(){return new pe(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,s){n===void 0?n=0:n>e.length&&de(),s===void 0?s=e.length-n:s>e.length-n&&de(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return bn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=bn.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=bn.isNumericId(e),a=bn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?bn.extractNumericId(e).compare(bn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return br.fromString(e.substring(4,e.length-2))}}class Qe extends bn{construct(e,n,s){return new Qe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae(H.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const Av=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends bn{construct(e,n,s){return new St(e,n,s)}static isValidIdentifier(e){return Av.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new St(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new ae(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const g=e[a];if(g==="\\"){if(a+1===e.length)throw new ae(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[a+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ae(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,a+=2}else g==="`"?(f=!f,a++):g!=="."||f?(s+=g,a++):(c(),a++)}if(c(),f)throw new ae(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(Qe.fromString(e))}static fromName(e){return new he(Qe.fromString(e).popFirst(5))}static empty(){return new he(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new Qe(e.slice()))}}function Rv(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=pe.fromTimestamp(s===1e9?new ht(n+1,0):new ht(n,s));return new Qr(a,he.empty(),e)}function Cv(i){return new Qr(i.readTime,i.key,-1)}class Qr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Qr(pe.min(),he.empty(),-1)}static max(){return new Qr(pe.max(),he.empty(),-1)}}function Pv(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(i.documentKey,e.documentKey),n!==0?n:Ae(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bs(i){if(i.code!==H.FAILED_PRECONDITION||i.message!==kv)throw i;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,s)=>{n(e)})}static reject(e){return new B((n,s)=>{s(e)})}static waitFor(e){return new B((n,s)=>{let a=0,c=0,f=!1;e.forEach(g=>{++a,g.next(()=>{++c,f&&c===a&&n()},_=>s(_))}),f=!0,c===a&&n()})}static or(e){let n=B.resolve(!1);for(const s of e)n=n.next(a=>a?B.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new B((s,a)=>{const c=e.length,f=new Array(c);let g=0;for(let _=0;_<c;_++){const E=_;n(e[E]).next(I=>{f[E]=I,++g,g===c&&s(f)},I=>a(I))}})}static doWhile(e,n){return new B((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function Dv(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function js(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Hl.oe=-1;function Ql(i){return i==null}function Ml(i){return i===0&&1/i==-1/0}function Nv(i){return typeof i=="number"&&Number.isInteger(i)&&!Ml(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=_p(e)),e=Lv(i.get(n),e);return _p(e)}function Lv(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function _p(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Yr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function wm(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wl(this.root,e,this.comparator,!1)}getReverseIterator(){return new wl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wl(this.root,e,this.comparator,!0)}}class wl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??It.RED,this.left=a??It.EMPTY,this.right=c??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new It(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return It.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,n,s,a,c){return this}insert(e,n,s){return new It(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ep(this.data.getIterator())}getIteratorFrom(e){return new Ep(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ft(this.comparator);return n.data=e,n}}class Ep{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new nn([])}unionWith(e){let n=new ft(St.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ns(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Tm("Invalid base64 string: "+c):c}}(e);return new At(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new At(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const Mv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(i){if(Me(!!i),typeof i=="string"){let e=0;const n=Mv.exec(i);if(Me(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:tt(i.seconds),nanos:tt(i.nanos)}}function tt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Kr(i){return typeof i=="string"?At.fromBase64String(i):At.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wl(i){const e=i.mapValue.fields.__previous_value__;return _h(e)?Wl(e):e}function Ko(i){const e=Wr(i.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n,s,a,c,f,g,_,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=E}}class Go{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Go("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Go&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?_h(i)?4:Uv(i)?9007199254740991:Fv(i)?10:11:de()}function Hn(i,e){if(i===e)return!0;const n=Gr(i);if(n!==Gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ko(i).isEqual(Ko(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Wr(a.timestampValue),g=Wr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Kr(a.bytesValue).isEqual(Kr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return tt(a.geoPointValue.latitude)===tt(c.geoPointValue.latitude)&&tt(a.geoPointValue.longitude)===tt(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return tt(a.integerValue)===tt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=tt(a.doubleValue),g=tt(c.doubleValue);return f===g?Ml(f)===Ml(g):isNaN(f)&&isNaN(g)}return!1}(i,e);case 9:return Ns(i.arrayValue.values||[],e.arrayValue.values||[],Hn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},g=c.mapValue.fields||{};if(vp(f)!==vp(g))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(g[_]===void 0||!Hn(f[_],g[_])))return!1;return!0}(i,e);default:return de()}}function Xo(i,e){return(i.values||[]).find(n=>Hn(n,e))!==void 0}function xs(i,e){if(i===e)return 0;const n=Gr(i),s=Gr(e);if(n!==s)return Ae(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(i.booleanValue,e.booleanValue);case 2:return function(c,f){const g=tt(c.integerValue||c.doubleValue),_=tt(f.integerValue||f.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(i,e);case 3:return wp(i.timestampValue,e.timestampValue);case 4:return wp(Ko(i),Ko(e));case 5:return Ae(i.stringValue,e.stringValue);case 6:return function(c,f){const g=Kr(c),_=Kr(f);return g.compareTo(_)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const g=c.split("/"),_=f.split("/");for(let E=0;E<g.length&&E<_.length;E++){const I=Ae(g[E],_[E]);if(I!==0)return I}return Ae(g.length,_.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const g=Ae(tt(c.latitude),tt(f.latitude));return g!==0?g:Ae(tt(c.longitude),tt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Tp(i.arrayValue,e.arrayValue);case 10:return function(c,f){var g,_,E,I;const D=c.fields||{},U=f.fields||{},b=(g=D.value)===null||g===void 0?void 0:g.arrayValue,X=(_=U.value)===null||_===void 0?void 0:_.arrayValue,Y=Ae(((E=b==null?void 0:b.values)===null||E===void 0?void 0:E.length)||0,((I=X==null?void 0:X.values)===null||I===void 0?void 0:I.length)||0);return Y!==0?Y:Tp(b,X)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Tl.mapValue&&f===Tl.mapValue)return 0;if(c===Tl.mapValue)return 1;if(f===Tl.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),E=f.fields||{},I=Object.keys(E);_.sort(),I.sort();for(let D=0;D<_.length&&D<I.length;++D){const U=Ae(_[D],I[D]);if(U!==0)return U;const b=xs(g[_[D]],E[I[D]]);if(b!==0)return b}return Ae(_.length,I.length)}(i.mapValue,e.mapValue);default:throw de()}}function wp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ae(i,e);const n=Wr(i),s=Wr(e),a=Ae(n.seconds,s.seconds);return a!==0?a:Ae(n.nanos,s.nanos)}function Tp(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=xs(n[a],s[a]);if(c)return c}return Ae(n.length,s.length)}function Ls(i){return Zc(i)}function Zc(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Wr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Kr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return he.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=Zc(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${Zc(n.fields[f])}`;return a+"}"}(i.mapValue):de()}function Cl(i){switch(Gr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wl(i);return e?16+Cl(e):16;case 5:return 2*i.stringValue.length;case 6:return Kr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Cl(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Yr(s.fields,(c,f)=>{a+=c.length+Cl(f)}),a}(i.mapValue);default:throw de()}}function eh(i){return!!i&&"integerValue"in i}function vh(i){return!!i&&"arrayValue"in i}function Ip(i){return!!i&&"nullValue"in i}function Sp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Pl(i){return!!i&&"mapValue"in i}function Fv(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function bo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Yr(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=bo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Uv(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Pl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bo(n)}setAll(e){let n=St.emptyPath(),s={},a=[];e.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const _=this.getFieldsMap(n);this.applyChanges(_,s,a),s={},a=[],n=g.popLast()}f?s[g.lastSegment()]=bo(f):a.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Pl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Pl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Yr(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Kt(bo(this.value))}}function Im(i){const e=[];return Yr(i.fields,(n,s)=>{const a=new St([n]);if(Pl(s)){const c=Im(s.mapValue).fields;if(c.length===0)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n,s,a,c,f,g){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Lt(e,0,pe.min(),pe.min(),pe.min(),Kt.empty(),0)}static newFoundDocument(e,n,s,a){return new Lt(e,1,n,pe.min(),s,a,0)}static newNoDocument(e,n){return new Lt(e,2,n,pe.min(),pe.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new Lt(e,3,n,pe.min(),pe.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.position=e,this.inclusive=n}}function Ap(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=he.comparator(he.fromName(f.referenceValue),n.key):s=xs(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Rp(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Hn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n="asc"){this.field=e,this.dir=n}}function zv(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{}class ct extends Sm{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new jv(e,n,s):n==="array-contains"?new qv(e,s):n==="in"?new Hv(e,s):n==="not-in"?new Qv(e,s):n==="array-contains-any"?new Wv(e,s):new ct(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new bv(e,s):new $v(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(xs(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(xs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends Sm{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Qn(e,n)}matches(e){return Am(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Am(i){return i.op==="and"}function Rm(i){return Bv(i)&&Am(i)}function Bv(i){for(const e of i.filters)if(e instanceof Qn)return!1;return!0}function th(i){if(i instanceof ct)return i.field.canonicalString()+i.op.toString()+Ls(i.value);if(Rm(i))return i.filters.map(e=>th(e)).join(",");{const e=i.filters.map(n=>th(n)).join(",");return`${i.op}(${e})`}}function Cm(i,e){return i instanceof ct?function(s,a){return a instanceof ct&&s.op===a.op&&s.field.isEqual(a.field)&&Hn(s.value,a.value)}(i,e):i instanceof Qn?function(s,a){return a instanceof Qn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,g)=>c&&Cm(f,a.filters[g]),!0):!1}(i,e):void de()}function Pm(i){return i instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Ls(n.value)}`}(i):i instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(Pm).join(" ,")+"}"}(i):"Filter"}class jv extends ct{constructor(e,n,s){super(e,n,s),this.key=he.fromName(s.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class bv extends ct{constructor(e,n){super(e,"in",n),this.keys=km("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $v extends ct{constructor(e,n){super(e,"not-in",n),this.keys=km("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function km(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>he.fromName(s.referenceValue))}class qv extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vh(n)&&Xo(n.arrayValue,this.value)}}class Hv extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xo(this.value.arrayValue,n)}}class Qv extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xo(this.value.arrayValue,n)}}class Wv extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Xo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n=null,s=[],a=[],c=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=g,this.ue=null}}function Cp(i,e=null,n=[],s=[],a=null,c=null,f=null){return new Kv(i,e,n,s,a,c,f)}function Eh(i){const e=me(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>th(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Ql(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ls(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ls(s)).join(",")),e.ue=n}return e.ue}function wh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!zv(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Cm(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Rp(i.startAt,e.startAt)&&Rp(i.endAt,e.endAt)}function nh(i){return he.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n=null,s=[],a=[],c=null,f="F",g=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=_,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Gv(i,e,n,s,a,c,f,g){return new Kl(i,e,n,s,a,c,f,g)}function Vm(i){return new Kl(i)}function Pp(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Xv(i){return i.collectionGroup!==null}function $o(i){const e=me(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new ft(St.comparator);return f.filters.forEach(_=>{_.getFlattenedFilters().forEach(E=>{E.isInequality()&&(g=g.add(E.field))})}),g})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new Fl(c,s))}),n.has(St.keyField().canonicalString())||e.ce.push(new Fl(St.keyField(),s))}return e.ce}function $n(i){const e=me(i);return e.le||(e.le=Yv(e,$o(i))),e.le}function Yv(i,e){if(i.limitType==="F")return Cp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new Fl(a.field,c)});const n=i.endAt?new Ol(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ol(i.startAt.position,i.startAt.inclusive):null;return Cp(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function rh(i,e,n){return new Kl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Gl(i,e){return wh($n(i),$n(e))&&i.limitType===e.limitType}function Dm(i){return`${Eh($n(i))}|lt:${i.limitType}`}function Rs(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Pm(a)).join(", ")}]`),Ql(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Ls(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Ls(a)).join(",")),`Target(${s})`}($n(i))}; limitType=${i.limitType})`}function Xl(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):he.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of $o(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,g,_){const E=Ap(f,g,_);return f.inclusive?E<=0:E<0}(s.startAt,$o(s),a)||s.endAt&&!function(f,g,_){const E=Ap(f,g,_);return f.inclusive?E>=0:E>0}(s.endAt,$o(s),a))}(i,e)}function Jv(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Nm(i){return(e,n)=>{let s=!1;for(const a of $o(i)){const c=Zv(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function Zv(i,e,n){const s=i.field.isKeyField()?he.comparator(e.key,n.key):function(c,f,g){const _=f.data.field(c),E=g.data.field(c);return _!==null&&E!==null?xs(_,E):de()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Yr(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return wm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Ge(he.comparator);function dr(){return eE}const xm=new Ge(he.comparator);function Bo(...i){let e=xm;for(const n of i)e=e.insert(n.key,n);return e}function Lm(i){let e=xm;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Pi(){return qo()}function Mm(){return qo()}function qo(){return new Di(i=>i.toString(),(i,e)=>i.isEqual(e))}const tE=new Ge(he.comparator),nE=new ft(he.comparator);function Te(...i){let e=nE;for(const n of i)e=e.add(n);return e}const rE=new ft(Ae);function iE(){return rE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ml(e)?"-0":e}}function Om(i){return{integerValue:""+i}}function sE(i,e){return Nv(e)?Om(e):Th(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this._=void 0}}function oE(i,e,n){return i instanceof Ul?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&_h(c)&&(c=Wl(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof Yo?Um(i,e):i instanceof Jo?zm(i,e):function(a,c){const f=Fm(a,c),g=kp(f)+kp(a.Pe);return eh(f)&&eh(a.Pe)?Om(g):Th(a.serializer,g)}(i,e)}function aE(i,e,n){return i instanceof Yo?Um(i,e):i instanceof Jo?zm(i,e):n}function Fm(i,e){return i instanceof zl?function(s){return eh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Ul extends Yl{}class Yo extends Yl{constructor(e){super(),this.elements=e}}function Um(i,e){const n=Bm(e);for(const s of i.elements)n.some(a=>Hn(a,s))||n.push(s);return{arrayValue:{values:n}}}class Jo extends Yl{constructor(e){super(),this.elements=e}}function zm(i,e){let n=Bm(e);for(const s of i.elements)n=n.filter(a=>!Hn(a,s));return{arrayValue:{values:n}}}class zl extends Yl{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function kp(i){return tt(i.integerValue||i.doubleValue)}function Bm(i){return vh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function lE(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof Yo&&a instanceof Yo||s instanceof Jo&&a instanceof Jo?Ns(s.elements,a.elements,Hn):s instanceof zl&&a instanceof zl?Hn(s.Pe,a.Pe):s instanceof Ul&&a instanceof Ul}(i.transform,e.transform)}class uE{constructor(e,n){this.version=e,this.transformResults=n}}class Vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Jl{}function jm(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ih(i.key,Vn.none()):new Zo(i.key,i.data,Vn.none());{const n=i.data,s=Kt.empty();let a=new ft(St.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new Jr(i.key,s,new nn(a.toArray()),Vn.none())}}function cE(i,e,n){i instanceof Zo?function(a,c,f){const g=a.value.clone(),_=Dp(a.fieldTransforms,c,f.transformResults);g.setAll(_),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,n):i instanceof Jr?function(a,c,f){if(!kl(a.precondition,c))return void c.convertToUnknownDocument(f.version);const g=Dp(a.fieldTransforms,c,f.transformResults),_=c.data;_.setAll(bm(a)),_.setAll(g),c.convertToFoundDocument(f.version,_).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Ho(i,e,n,s){return i instanceof Zo?function(c,f,g,_){if(!kl(c.precondition,f))return g;const E=c.value.clone(),I=Np(c.fieldTransforms,_,f);return E.setAll(I),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),null}(i,e,n,s):i instanceof Jr?function(c,f,g,_){if(!kl(c.precondition,f))return g;const E=Np(c.fieldTransforms,_,f),I=f.data;return I.setAll(bm(c)),I.setAll(E),f.convertToFoundDocument(f.version,I).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(D=>D.field))}(i,e,n,s):function(c,f,g){return kl(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(i,e,n)}function hE(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=Fm(s.transform,a||null);c!=null&&(n===null&&(n=Kt.empty()),n.set(s.field,c))}return n||null}function Vp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ns(s,a,(c,f)=>lE(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Zo extends Jl{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Jr extends Jl{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function bm(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Dp(i,e,n){const s=new Map;Me(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,g=e.data.field(c.field);s.set(c.field,aE(f,g,n[a]))}return s}function Np(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,oE(c,f,e))}return s}class Ih extends Jl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fE extends Jl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&cE(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ho(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ho(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Mm();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(a.key)?null:g;const _=jm(f,g);_!==null&&s.set(a.key,_),f.isValidDocument()||f.convertToNoDocument(pe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Te())}isEqual(e){return this.batchId===e.batchId&&Ns(this.mutations,e.mutations,(n,s)=>Vp(n,s))&&Ns(this.baseMutations,e.baseMutations,(n,s)=>Vp(n,s))}}class Sh{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Me(e.mutations.length===s.length);let a=function(){return tE}();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new Sh(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,Pe;function gE(i){switch(i){default:return de();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function $m(i){if(i===void 0)return fr("GRPC error has no .code"),H.UNKNOWN;switch(i){case it.OK:return H.OK;case it.CANCELLED:return H.CANCELLED;case it.UNKNOWN:return H.UNKNOWN;case it.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case it.INTERNAL:return H.INTERNAL;case it.UNAVAILABLE:return H.UNAVAILABLE;case it.UNAUTHENTICATED:return H.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case it.NOT_FOUND:return H.NOT_FOUND;case it.ALREADY_EXISTS:return H.ALREADY_EXISTS;case it.PERMISSION_DENIED:return H.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case it.ABORTED:return H.ABORTED;case it.OUT_OF_RANGE:return H.OUT_OF_RANGE;case it.UNIMPLEMENTED:return H.UNIMPLEMENTED;case it.DATA_LOSS:return H.DATA_LOSS;default:return de()}}(Pe=it||(it={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new br([4294967295,4294967295],0);function xp(i){const e=yE().encode(i),n=new dm;return n.update(e),new Uint8Array(n.digest())}function Lp(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new br([n,s],0),new br([a,c],0)]}class Ah{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new jo(`Invalid padding: ${n}`);if(s<0)throw new jo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new jo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new jo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=br.fromNumber(this.Te)}de(e,n,s){let a=e.add(n.multiply(br.fromNumber(s)));return a.compare(_E)===1&&(a=new br([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=xp(e),[s,a]=Lp(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,a,c);if(!this.Ee(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Ah(c,a,n);return s.forEach(g=>f.insert(g)),f}insert(e){if(this.Te===0)return;const n=xp(e),[s,a]=Lp(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,a,c);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,ea.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Zl(pe.min(),a,new Ge(Ae),dr(),Te())}}class ea{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ea(s,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class qm{constructor(e,n){this.targetId=e,this.me=n}}class Hm{constructor(e,n,s=At.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Mp{constructor(){this.fe=0,this.ge=Op(),this.pe=At.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Te(),n=Te(),s=Te();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:de()}}),new ea(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=Op()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class vE{constructor(e){this.Be=e,this.Le=new Map,this.ke=dr(),this.qe=Il(),this.Qe=Il(),this.Ke=new Ge(Ae)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(nh(c))if(s===0){const f=new he(c.path);this.We(n,f,Lt.newNoDocument(f,pe.min()))}else Me(s===1);else{const f=this.Ze(n);if(f!==s){const g=this.Xe(e),_=g?this.et(g,e,f):1;if(_!==0){this.He(n);const E=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,E)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,g;try{f=Kr(s).toUint8Array()}catch(_){if(_ instanceof Tm)return Ds("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Ah(f,a,c)}catch(_){return Ds(_ instanceof jo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Te===0?null:g}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Be.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.Be.nt(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Le.forEach((c,f)=>{const g=this.Ye(f);if(g){if(c.current&&nh(g.target)){const _=new he(g.target.path);this.st(_).has(f)||this.ot(f,_)||this.We(f,_,Lt.newNoDocument(_,e))}c.be&&(n.set(f,c.ve()),c.Ce())}});let s=Te();this.Qe.forEach((c,f)=>{let g=!0;f.forEachWhile(_=>{const E=this.Ye(_);return!E||E.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const a=new Zl(e,n,this.Ke,this.ke,s);return this.ke=dr(),this.qe=Il(),this.Qe=Il(),this.Ke=new Ge(Ae),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new Mp,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new ft(Ae),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ft(Ae),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new Mp),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function Il(){return new Ge(he.comparator)}function Op(){return new Ge(he.comparator)}const EE={asc:"ASCENDING",desc:"DESCENDING"},wE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TE={and:"AND",or:"OR"};class IE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ih(i,e){return i.useProto3Json||Ql(e)?e:{value:e}}function Bl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qm(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function SE(i,e){return Bl(i,e.toTimestamp())}function qn(i){return Me(!!i),pe.fromTimestamp(function(n){const s=Wr(n);return new ht(s.seconds,s.nanos)}(i))}function Rh(i,e){return sh(i,e).canonicalString()}function sh(i,e){const n=function(a){return new Qe(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Wm(i){const e=Qe.fromString(i);return Me(Jm(e)),e}function oh(i,e){return Rh(i.databaseId,e.path)}function bc(i,e){const n=Wm(e);if(n.get(1)!==i.databaseId.projectId)throw new ae(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ae(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new he(Gm(n))}function Km(i,e){return Rh(i.databaseId,e)}function AE(i){const e=Wm(i);return e.length===4?Qe.emptyPath():Gm(e)}function ah(i){return new Qe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Gm(i){return Me(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Fp(i,e,n){return{name:oh(i,e),fields:n.value.mapValue.fields}}function RE(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(E,I){return E.useProto3Json?(Me(I===void 0||typeof I=="string"),At.fromBase64String(I||"")):(Me(I===void 0||I instanceof Buffer||I instanceof Uint8Array),At.fromUint8Array(I||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&function(E){const I=E.code===void 0?H.UNKNOWN:$m(E.code);return new ae(I,E.message||"")}(f);n=new Hm(s,a,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=bc(i,s.document.name),c=qn(s.document.updateTime),f=s.document.createTime?qn(s.document.createTime):pe.min(),g=new Kt({mapValue:{fields:s.document.fields}}),_=Lt.newFoundDocument(a,c,f,g),E=s.targetIds||[],I=s.removedTargetIds||[];n=new Vl(E,I,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=bc(i,s.document),c=s.readTime?qn(s.readTime):pe.min(),f=Lt.newNoDocument(a,c),g=s.removedTargetIds||[];n=new Vl([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=bc(i,s.document),c=s.removedTargetIds||[];n=new Vl([],c,a,null)}else{if(!("filter"in e))return de();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new mE(a,c),g=s.targetId;n=new qm(g,f)}}return n}function CE(i,e){let n;if(e instanceof Zo)n={update:Fp(i,e.key,e.value)};else if(e instanceof Ih)n={delete:oh(i,e.key)};else if(e instanceof Jr)n={update:Fp(i,e.key,e.data),updateMask:OE(e.fieldMask)};else{if(!(e instanceof fE))return de();n={verify:oh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const g=f.transform;if(g instanceof Ul)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Yo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Jo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof zl)return{fieldPath:f.field.canonicalString(),increment:g.Pe};throw de()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:SE(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:de()}(i,e.precondition)),n}function PE(i,e){return i&&i.length>0?(Me(e!==void 0),i.map(n=>function(a,c){let f=a.updateTime?qn(a.updateTime):qn(c);return f.isEqual(pe.min())&&(f=qn(c)),new uE(f,a.transformResults||[])}(n,e))):[]}function kE(i,e){return{documents:[Km(i,e.path)]}}function VE(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Km(i,a);const c=function(E){if(E.length!==0)return Ym(Qn.create(E,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(E){if(E.length!==0)return E.map(I=>function(U){return{field:Cs(U.field),direction:xE(U.dir)}}(I))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=ih(i,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(e.endAt)),{ct:n,parent:a}}function DE(i){let e=AE(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Me(s===1);const I=n.from[0];I.allDescendants?a=I.collectionId:e=e.child(I.collectionId)}let c=[];n.where&&(c=function(D){const U=Xm(D);return U instanceof Qn&&Rm(U)?U.getFilters():[U]}(n.where));let f=[];n.orderBy&&(f=function(D){return D.map(U=>function(X){return new Fl(Ps(X.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(U))}(n.orderBy));let g=null;n.limit&&(g=function(D){let U;return U=typeof D=="object"?D.value:D,Ql(U)?null:U}(n.limit));let _=null;n.startAt&&(_=function(D){const U=!!D.before,b=D.values||[];return new Ol(b,U)}(n.startAt));let E=null;return n.endAt&&(E=function(D){const U=!D.before,b=D.values||[];return new Ol(b,U)}(n.endAt)),Gv(e,a,f,c,g,"F",_,E)}function NE(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Xm(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ps(n.unaryFilter.field);return ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ps(n.unaryFilter.field);return ct.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ps(n.unaryFilter.field);return ct.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ps(n.unaryFilter.field);return ct.create(f,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(i):i.fieldFilter!==void 0?function(n){return ct.create(Ps(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(s=>Xm(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(i):de()}function xE(i){return EE[i]}function LE(i){return wE[i]}function ME(i){return TE[i]}function Cs(i){return{fieldPath:i.canonicalString()}}function Ps(i){return St.fromServerFormat(i.fieldPath)}function Ym(i){return i instanceof ct?function(n){if(n.op==="=="){if(Sp(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NAN"}};if(Ip(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sp(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NAN"}};if(Ip(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(n.field),op:LE(n.op),value:n.value}}}(i):i instanceof Qn?function(n){const s=n.getFilters().map(a=>Ym(a));return s.length===1?s[0]:{compositeFilter:{op:ME(n.op),filters:s}}}(i):de()}function OE(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Jm(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n,s,a,c=pe.min(),f=pe.min(),g=At.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.ht=e}}function UE(i){const e=DE({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?rh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.ln=new BE}addToCollectionParentIndex(e,n){return this.ln.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Qr.min())}updateCollectionGroup(e,n,s){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class BE{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new ft(Qe.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new ft(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wt{static withCacheSize(e){return new Wt(e,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wt.DEFAULT_COLLECTION_PERCENTILE=10,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wt.DEFAULT=new Wt(41943040,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wt.DISABLED=new Wt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Ms(0)}static Qn(){return new Ms(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp([i,e],[n,s]){const a=Ae(i,n);return a===0?Ae(e,s):a}class jE{constructor(e){this.Gn=e,this.buffer=new ft(zp),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();zp(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bE{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){js(n)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Bs(n)}await this.Yn(3e5)})}}class $E{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Hl.oe);const s=new jE(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(Up)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Up):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,f,g,_,E;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),a=this.params.maximumSequenceNumbersToCollect):a=D,f=Date.now(),this.nthSequenceNumber(e,a))).next(D=>(s=D,g=Date.now(),this.removeTargets(e,s,n))).next(D=>(c=D,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(D=>(E=Date.now(),As()<=ke.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-I}ms
	Determined least recently used ${a} in `+(g-f)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${D} documents in `+(E-_)+`ms
Total Duration: ${E-I}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:D})))}}function qE(i,e){return new $E(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.changes=new Di(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Lt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?B.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Ho(s.mutation,a,nn.empty(),ht.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Te()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Te()){const a=Pi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=Bo();return c.forEach((g,_)=>{f=f.insert(g,_.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Pi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Te()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,g)=>{n.set(f,g)})})}computeViews(e,n,s,a){let c=dr();const f=qo(),g=function(){return qo()}();return n.forEach((_,E)=>{const I=s.get(E.key);a.has(E.key)&&(I===void 0||I.mutation instanceof Jr)?c=c.insert(E.key,E):I!==void 0?(f.set(E.key,I.mutation.getFieldMask()),Ho(I.mutation,E,I.mutation.getFieldMask(),ht.now())):f.set(E.key,nn.empty())}),this.recalculateAndSaveOverlays(e,c).next(_=>(_.forEach((E,I)=>f.set(E,I)),n.forEach((E,I)=>{var D;return g.set(E,new QE(I,(D=f.get(E))!==null&&D!==void 0?D:null))}),g))}recalculateAndSaveOverlays(e,n){const s=qo();let a=new Ge((f,g)=>f-g),c=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const g of f)g.keys().forEach(_=>{const E=n.get(_);if(E===null)return;let I=s.get(_)||nn.empty();I=g.applyToLocalView(E,I),s.set(_,I);const D=(a.get(g.batchId)||Te()).add(_);a=a.insert(g.batchId,D)})}).next(()=>{const f=[],g=a.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),E=_.key,I=_.value,D=Mm();I.forEach(U=>{if(!c.has(U)){const b=jm(n.get(U),s.get(U));b!==null&&D.set(U,b),c=c.add(U)}}),f.push(this.documentOverlayCache.saveOverlays(e,E,D))}return B.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return he.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Xv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):B.resolve(Pi());let g=-1,_=c;return f.next(E=>B.forEach(E,(I,D)=>(g<D.largestBatchId&&(g=D.largestBatchId),c.get(I)?B.resolve():this.remoteDocumentCache.getEntry(e,I).next(U=>{_=_.insert(I,U)}))).next(()=>this.populateOverlays(e,E,c)).next(()=>this.computeViews(e,_,E,Te())).next(I=>({batchId:g,changes:Lm(I)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(s=>{let a=Bo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=Bo();return this.indexManager.getCollectionParents(e,c).next(g=>B.forEach(g,_=>{const E=function(D,U){return new Kl(U,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)}(n,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,s,a).next(I=>{I.forEach((D,U)=>{f=f.insert(D,U)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((_,E)=>{const I=E.getKey();f.get(I)===null&&(f=f.insert(I,Lt.newInvalidDocument(I)))});let g=Bo();return f.forEach((_,E)=>{const I=c.get(_);I!==void 0&&Ho(I.mutation,E,nn.empty(),ht.now()),Xl(n,E)&&(g=g.insert(_,E))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return B.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:qn(a.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:UE(a.bundledQuery),readTime:qn(a.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.overlays=new Ge(he.comparator),this.dr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Pi();return B.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),B.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.dr.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.dr.delete(s)),B.resolve()}getOverlaysForCollection(e,n,s){const a=Pi(),c=n.length+1,f=new he(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const _=g.getNext().value,E=_.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===c&&_.largestBatchId>s&&a.set(_.getKey(),_)}return B.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Ge((E,I)=>E-I);const f=this.overlays.getIterator();for(;f.hasNext();){const E=f.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>s){let I=c.get(E.largestBatchId);I===null&&(I=Pi(),c=c.insert(E.largestBatchId,I)),I.set(E.getKey(),E)}}const g=Pi(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((E,I)=>g.set(E,I)),!(g.size()>=a)););return B.resolve(g)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.dr.get(a.largestBatchId).delete(s.key);this.dr.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new pE(n,s));let c=this.dr.get(n);c===void 0&&(c=Te(),this.dr.set(n,c)),this.dr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.sessionToken=At.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(){this.Er=new ft(_t.Ar),this.Rr=new ft(_t.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const s=new _t(e,n);this.Er=this.Er.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new _t(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new he(new Qe([])),s=new _t(n,e),a=new _t(n,e+1),c=[];return this.Rr.forEachInRange([s,a],f=>{this.gr(f),c.push(f.key)}),c}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new he(new Qe([])),s=new _t(n,e),a=new _t(n,e+1);let c=Te();return this.Rr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new _t(e,0),s=this.Er.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class _t{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return he.comparator(e.key,n.key)||Ae(e.br,n.br)}static Vr(e,n){return Ae(e.br,n.br)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new ft(_t.Ar)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new dE(c,n,s,a);this.mutationQueue.push(f);for(const g of a)this.vr=this.vr.add(new _t(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return B.resolve(f)}lookupMutationBatch(e,n){return B.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return B.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new _t(n,0),a=new _t(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],f=>{const g=this.Cr(f.br);c.push(g)}),B.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ft(Ae);return n.forEach(a=>{const c=new _t(a,0),f=new _t(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,f],g=>{s=s.add(g.br)})}),B.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;he.isDocumentKey(c)||(c=c.child(""));const f=new _t(new he(c),0);let g=new ft(Ae);return this.vr.forEachWhile(_=>{const E=_.key.path;return!!s.isPrefixOf(E)&&(E.length===a&&(g=g.add(_.br)),!0)},f),B.resolve(this.Mr(g))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Me(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return B.forEach(n.mutations,a=>{const c=new _t(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Bn(e){}containsKey(e,n){const s=new _t(n,0),a=this.vr.firstAfterOrEqual(s);return B.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.Nr=e,this.docs=function(){return new Ge(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return B.resolve(s?s.document.mutableCopy():Lt.newInvalidDocument(n))}getEntries(e,n){let s=dr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Lt.newInvalidDocument(a))}),B.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=dr();const f=n.path,g=new he(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:E,value:{document:I}}=_.getNext();if(!f.isPrefixOf(E.path))break;E.path.length>f.length+1||Pv(Cv(I),s)<=0||(a.has(I.key)||Xl(n,I))&&(c=c.insert(I.key,I.mutableCopy()))}return B.resolve(c)}getAllFromCollectionGroup(e,n,s,a){de()}Br(e,n){return B.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new ZE(this)}getSize(e){return B.resolve(this.size)}}class ZE extends HE{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),B.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this.persistence=e,this.Lr=new Di(n=>Eh(n),wh),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.kr=0,this.qr=new Ch,this.targetCount=0,this.Qr=Ms.qn()}forEachTarget(e,n){return this.Lr.forEach((s,a)=>n(a)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),B.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Ms(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Un(n),B.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Lr.forEach((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.Lr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),a++)}),B.waitFor(c).next(()=>a)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const s=this.Lr.get(n)||null;return B.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),B.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),B.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return B.resolve(s)}containsKey(e,n){return B.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Hl(0),this.Ur=!1,this.Ur=!0,this.Wr=new XE,this.referenceDelegate=e(this),this.Gr=new ew(this),this.indexManager=new zE,this.remoteDocumentCache=function(a){return new JE(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new FE(n),this.jr=new KE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new YE(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){te("MemoryPersistence","Starting transaction:",e);const a=new tw(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return B.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class tw extends Vv{constructor(e){super(),this.currentSequenceNumber=e}}class Ph{constructor(e){this.persistence=e,this.Zr=new Ch,this.Xr=null}static ei(e){return new Ph(e)}get ti(){if(this.Xr)return this.Xr;throw de()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),B.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),B.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.ti,s=>{const a=he.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,pe.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return B.or([()=>B.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class jl{constructor(e,n){this.persistence=e,this.ri=new Di(s=>xv(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=qE(this,n)}static ei(e,n){return new jl(e,n)}Hr(){}Jr(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return B.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?B.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Br(e,f=>this.ir(e,f,n).next(g=>{g||(s++,c.removeEntry(f,pe.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),B.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),B.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Cl(e.data.value)),n}ir(e,n,s){return B.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return B.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Te(),a=Te();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new kh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Zy()?8:Dv(Yy())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new nw;return this.ts(e,n,f).next(g=>{if(c.result=g,this.Hi)return this.ns(e,n,f,g.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(As()<=ke.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),B.resolve()):(As()<=ke.DEBUG&&te("QueryEngine","Query:",Rs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(As()<=ke.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(n))):B.resolve())}Xi(e,n){if(Pp(n))return B.resolve(null);let s=$n(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=rh(n,null,"F"),s=$n(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Te(...c);return this.Zi.getDocuments(e,f).next(g=>this.indexManager.getMinOffset(e,s).next(_=>{const E=this.rs(n,g);return this.ss(n,E,f,_.readTime)?this.Xi(e,rh(n,null,"F")):this.os(e,E,n,_)}))})))}es(e,n,s,a){return Pp(n)||a.isEqual(pe.min())?B.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const f=this.rs(n,c);return this.ss(n,f,s,a)?B.resolve(null):(As()<=ke.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Rs(n)),this.os(e,f,n,Rv(a,-1)).next(g=>g))})}rs(e,n){let s=new ft(Nm(e));return n.forEach((a,c)=>{Xl(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return As()<=ke.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Rs(n)),this.Zi.getDocumentsMatchingQuery(e,n,Qr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new Ge(Ae),this.cs=new Di(c=>Eh(c),wh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WE(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function sw(i,e,n,s){return new iw(i,e,n,s)}async function eg(i,e){const n=me(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],g=[];let _=Te();for(const E of a){f.push(E.batchId);for(const I of E.mutations)_=_.add(I.key)}for(const E of c){g.push(E.batchId);for(const I of E.mutations)_=_.add(I.key)}return n.localDocuments.getDocuments(s,_).next(E=>({Ts:E,removedBatchIds:f,addedBatchIds:g}))})})}function ow(i,e){const n=me(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.hs.newChangeBuffer({trackRemovals:!0});return function(g,_,E,I){const D=E.batch,U=D.keys();let b=B.resolve();return U.forEach(X=>{b=b.next(()=>I.getEntry(_,X)).next(Y=>{const Q=E.docVersions.get(X);Me(Q!==null),Y.version.compareTo(Q)<0&&(D.applyToRemoteDocument(Y,E),Y.isValidDocument()&&(Y.setReadTime(E.commitVersion),I.addEntry(Y)))})}),b.next(()=>g.mutationQueue.removeMutationBatch(_,D))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let _=Te();for(let E=0;E<g.mutationResults.length;++E)g.mutationResults[E].transformResults.length>0&&(_=_.add(g.batch.mutations[E].key));return _}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function tg(i){const e=me(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function aw(i,e){const n=me(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const g=[];e.targetChanges.forEach((I,D)=>{const U=a.get(D);if(!U)return;g.push(n.Gr.removeMatchingKeys(c,I.removedDocuments,D).next(()=>n.Gr.addMatchingKeys(c,I.addedDocuments,D)));let b=U.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(D)!==null?b=b.withResumeToken(At.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):I.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(I.resumeToken,s)),a=a.insert(D,b),function(Y,Q,ve){return Y.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=3e8?!0:ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0}(U,b,I)&&g.push(n.Gr.updateTargetData(c,b))});let _=dr(),E=Te();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,I))}),g.push(lw(c,f,e.documentUpdates).next(I=>{_=I.Is,E=I.ds})),!s.isEqual(pe.min())){const I=n.Gr.getLastRemoteSnapshotVersion(c).next(D=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(I)}return B.waitFor(g).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,_,E)).next(()=>_)}).then(c=>(n.us=a,c))}function lw(i,e,n){let s=Te(),a=Te();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=dr();return n.forEach((g,_)=>{const E=c.get(g);_.isFoundDocument()!==E.isFoundDocument()&&(a=a.add(g)),_.isNoDocument()&&_.version.isEqual(pe.min())?(e.removeEntry(g,_.readTime),f=f.insert(g,_)):!E.isValidDocument()||_.version.compareTo(E.version)>0||_.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(_),f=f.insert(g,_)):te("LocalStore","Ignoring outdated watch update for ",g,". Current version:",E.version," Watch version:",_.version)}),{Is:f,ds:a}})}function uw(i,e){const n=me(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function cw(i,e){const n=me(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,B.resolve(a)):n.Gr.allocateTargetId(s).next(f=>(a=new zr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function lh(i,e,n){const s=me(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!js(f))throw f;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function Bp(i,e,n){const s=me(i);let a=pe.min(),c=Te();return s.persistence.runTransaction("Execute query","readwrite",f=>function(_,E,I){const D=me(_),U=D.cs.get(I);return U!==void 0?B.resolve(D.us.get(U)):D.Gr.getTargetData(E,I)}(s,f,$n(e)).next(g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(f,g.targetId).next(_=>{c=_})}).next(()=>s._s.getDocumentsMatchingQuery(f,e,n?a:pe.min(),n?c:Te())).next(g=>(hw(s,Jv(e),g),{documents:g,Es:c})))}function hw(i,e,n){let s=i.ls.get(e)||pe.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class jp{constructor(){this.activeTargetIds=iE()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fw{constructor(){this._o=new jp,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new jp,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl=null;function $c(){return Sl===null?Sl=function(){return 268435456+Math.round(2147483648*Math.random())}():Sl++,"0x"+Sl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="WebChannelConnection";class gw extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,f){const g=$c(),_=this.No(n,s.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${g}:`,_,a);const E={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(E,c,f),this.Lo(n,_,E,a).then(I=>(te("RestConnection",`Received RPC '${n}' ${g}: `,I),I),I=>{throw Ds("RestConnection",`RPC '${n}' ${g} failed with error: `,I,"url: ",_,"request:",a),I})}ko(n,s,a,c,f,g){return this.Oo(n,s,a,c,f)}Bo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),a&&a.headers.forEach((c,f)=>n[f]=c)}No(n,s){const a=pw[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,s,a){const c=$c();return new Promise((f,g)=>{const _=new pm;_.setWithCredentials(!0),_.listenOnce(mm.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Rl.NO_ERROR:const I=_.getResponseJson();te(Nt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(I)),f(I);break;case Rl.TIMEOUT:te(Nt,`RPC '${e}' ${c} timed out`),g(new ae(H.DEADLINE_EXCEEDED,"Request time out"));break;case Rl.HTTP_ERROR:const D=_.getStatus();if(te(Nt,`RPC '${e}' ${c} failed with status:`,D,"response text:",_.getResponseText()),D>0){let U=_.getResponseJson();Array.isArray(U)&&(U=U[0]);const b=U==null?void 0:U.error;if(b&&b.status&&b.message){const X=function(Q){const ve=Q.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(ve)>=0?ve:H.UNKNOWN}(b.status);g(new ae(X,b.message))}else g(new ae(H.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ae(H.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{te(Nt,`RPC '${e}' ${c} completed.`)}});const E=JSON.stringify(a);te(Nt,`RPC '${e}' ${c} sending request:`,a),_.send(n,"POST",E,s,15)})}qo(e,n,s){const a=$c(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=_m(),g=ym(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(_.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Bo(_.initMessageHeaders,n,s),_.encodeInitMessageHeaders=!0;const I=c.join("");te(Nt,`Creating RPC '${e}' stream ${a}: ${I}`,_);const D=f.createWebChannel(I,_);let U=!1,b=!1;const X=new mw({Eo:Q=>{b?te(Nt,`Not sending because RPC '${e}' stream ${a} is closed:`,Q):(U||(te(Nt,`Opening RPC '${e}' stream ${a} transport.`),D.open(),U=!0),te(Nt,`RPC '${e}' stream ${a} sending:`,Q),D.send(Q))},Ao:()=>D.close()}),Y=(Q,ve,ge)=>{Q.listen(ve,ye=>{try{ge(ye)}catch(Ie){setTimeout(()=>{throw Ie},0)}})};return Y(D,zo.EventType.OPEN,()=>{b||(te(Nt,`RPC '${e}' stream ${a} transport opened.`),X.So())}),Y(D,zo.EventType.CLOSE,()=>{b||(b=!0,te(Nt,`RPC '${e}' stream ${a} transport closed`),X.Do())}),Y(D,zo.EventType.ERROR,Q=>{b||(b=!0,Ds(Nt,`RPC '${e}' stream ${a} transport errored:`,Q),X.Do(new ae(H.UNAVAILABLE,"The operation could not be completed")))}),Y(D,zo.EventType.MESSAGE,Q=>{var ve;if(!b){const ge=Q.data[0];Me(!!ge);const ye=ge,Ie=(ye==null?void 0:ye.error)||((ve=ye[0])===null||ve===void 0?void 0:ve.error);if(Ie){te(Nt,`RPC '${e}' stream ${a} received error:`,Ie);const Ye=Ie.status;let Ve=function(A){const P=it[A];if(P!==void 0)return $m(P)}(Ye),k=Ie.message;Ve===void 0&&(Ve=H.INTERNAL,k="Unknown error status: "+Ye+" with message "+Ie.message),b=!0,X.Do(new ae(Ve,k)),D.close()}else te(Nt,`RPC '${e}' stream ${a} received:`,ge),X.vo(ge)}}),Y(g,gm.STAT_EVENT,Q=>{Q.stat===Jc.PROXY?te(Nt,`RPC '${e}' stream ${a} detected buffering proxy`):Q.stat===Jc.NOPROXY&&te(Nt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{X.bo()},0),X}}function qc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(i){return new IE(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,s,a,c,f,g,_){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new ng(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new ae(H.UNKNOWN,"Fetching auth token failed: "+s.message);return this.d_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.d_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yw extends rg{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=RE(this.serializer,e),s=function(c){if(!("targetChange"in c))return pe.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?pe.min():f.readTime?qn(f.readTime):pe.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=ah(this.serializer),n.addTarget=function(c,f){let g;const _=f.target;if(g=nh(_)?{documents:kE(c,_)}:{query:VE(c,_).ct},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=Qm(c,f.resumeToken);const E=ih(c,f.expectedCount);E!==null&&(g.expectedCount=E)}else if(f.snapshotVersion.compareTo(pe.min())>0){g.readTime=Bl(c,f.snapshotVersion.toTimestamp());const E=ih(c,f.expectedCount);E!==null&&(g.expectedCount=E)}return g}(this.serializer,e);const s=NE(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=ah(this.serializer),n.removeTarget=e,this.c_(n)}}class _w extends rg{constructor(e,n,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=PE(e.writeResults,e.commitTime),s=qn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=ah(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>CE(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new ae(H.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Oo(e,sh(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(H.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.ko(e,sh(n,s),a,f,g,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ae(H.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Ew{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(fr(n),this.C_=!1):te("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(f=>{s.enqueueAndForget(async()=>{Ni(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(_){const E=me(_);E.k_.add(4),await ta(E),E.K_.set("Unknown"),E.k_.delete(4),await tu(E)}(this))})}),this.K_=new Ew(s,a)}}async function tu(i){if(Ni(i))for(const e of i.q_)await e(!0)}async function ta(i){for(const e of i.q_)await e(!1)}function ig(i,e){const n=me(i);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),xh(n)?Nh(n):bs(n).s_()&&Dh(n,e))}function Vh(i,e){const n=me(i),s=bs(n);n.L_.delete(e),s.s_()&&sg(n,e),n.L_.size===0&&(s.s_()?s.a_():Ni(n)&&n.K_.set("Unknown"))}function Dh(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bs(i).V_(e)}function sg(i,e){i.U_.xe(e),bs(i).m_(e)}function Nh(i){i.U_=new vE({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.L_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),bs(i).start(),i.K_.F_()}function xh(i){return Ni(i)&&!bs(i).i_()&&i.L_.size>0}function Ni(i){return me(i).k_.size===0}function og(i){i.U_=void 0}async function Tw(i){i.K_.set("Online")}async function Iw(i){i.L_.forEach((e,n)=>{Dh(i,e)})}async function Sw(i,e){og(i),xh(i)?(i.K_.O_(e),Nh(i)):i.K_.set("Unknown")}async function Aw(i,e,n){if(i.K_.set("Online"),e instanceof Hm&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const g of c.targetIds)a.L_.has(g)&&(await a.remoteSyncer.rejectListen(g,f),a.L_.delete(g),a.U_.removeTarget(g))}(i,e)}catch(s){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await bl(i,s)}else if(e instanceof Vl?i.U_.$e(e):e instanceof qm?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(pe.min()))try{const s=await tg(i.localStore);n.compareTo(s)>=0&&await function(c,f){const g=c.U_.it(f);return g.targetChanges.forEach((_,E)=>{if(_.resumeToken.approximateByteSize()>0){const I=c.L_.get(E);I&&c.L_.set(E,I.withResumeToken(_.resumeToken,f))}}),g.targetMismatches.forEach((_,E)=>{const I=c.L_.get(_);if(!I)return;c.L_.set(_,I.withResumeToken(At.EMPTY_BYTE_STRING,I.snapshotVersion)),sg(c,_);const D=new zr(I.target,_,E,I.sequenceNumber);Dh(c,D)}),c.remoteSyncer.applyRemoteEvent(g)}(i,n)}catch(s){te("RemoteStore","Failed to raise snapshot:",s),await bl(i,s)}}async function bl(i,e,n){if(!js(e))throw e;i.k_.add(1),await ta(i),i.K_.set("Offline"),n||(n=()=>tg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await tu(i)})}function ag(i,e){return e().catch(n=>bl(i,n,e))}async function nu(i){const e=me(i),n=Xr(e);let s=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;Rw(e);)try{const a=await uw(e.localStore,s);if(a===null){e.B_.length===0&&n.a_();break}s=a.batchId,Cw(e,a)}catch(a){await bl(e,a)}lg(e)&&ug(e)}function Rw(i){return Ni(i)&&i.B_.length<10}function Cw(i,e){i.B_.push(e);const n=Xr(i);n.s_()&&n.f_&&n.g_(e.mutations)}function lg(i){return Ni(i)&&!Xr(i).i_()&&i.B_.length>0}function ug(i){Xr(i).start()}async function Pw(i){Xr(i).w_()}async function kw(i){const e=Xr(i);for(const n of i.B_)e.g_(n.mutations)}async function Vw(i,e,n){const s=i.B_.shift(),a=Sh.from(s,e,n);await ag(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await nu(i)}async function Dw(i,e){e&&Xr(i).f_&&await async function(s,a){if(function(f){return gE(f)&&f!==H.ABORTED}(a.code)){const c=s.B_.shift();Xr(s).__(),await ag(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await nu(s)}}(i,e),lg(i)&&ug(i)}async function $p(i,e){const n=me(i);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const s=Ni(n);n.k_.add(3),await ta(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await tu(n)}async function Nw(i,e){const n=me(i);e?(n.k_.delete(2),await tu(n)):e||(n.k_.add(2),await ta(n),n.K_.set("Unknown"))}function bs(i){return i.W_||(i.W_=function(n,s,a){const c=me(n);return c.b_(),new yw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:Tw.bind(null,i),mo:Iw.bind(null,i),po:Sw.bind(null,i),R_:Aw.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),xh(i)?Nh(i):i.K_.set("Unknown")):(await i.W_.stop(),og(i))})),i.W_}function Xr(i){return i.G_||(i.G_=function(n,s,a){const c=me(n);return c.b_(),new _w(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:Pw.bind(null,i),po:Dw.bind(null,i),p_:kw.bind(null,i),y_:Vw.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await nu(i)):(await i.G_.stop(),i.B_.length>0&&(te("RemoteStore",`Stopping write stream with ${i.B_.length} pending writes`),i.B_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,g=new Lh(e,n,f,a,c);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mh(i,e){if(fr("AsyncQueue",`${e}: ${i}`),js(i))return new ae(H.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{static emptySet(e){return new Vs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||he.comparator(n.key,s.key):(n,s)=>he.comparator(n.key,s.key),this.keyedMap=Bo(),this.sortedSet=new Ge(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Vs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(){this.z_=new Ge(he.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):de():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Os{constructor(e,n,s,a,c,f,g,_,E){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=E}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new Os(e,n,Vs.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class Lw{constructor(){this.queries=Hp(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=me(n),c=a.queries;a.queries=Hp(),c.forEach((f,g)=>{for(const _ of g.J_)_.onError(s)})})(this,new ae(H.ABORTED,"Firestore shutting down"))}}function Hp(){return new Di(i=>Dm(i),Gl)}async function Mw(i,e){const n=me(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new xw,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const g=Mh(f,`Initialization of query '${Rs(e.query)}' failed`);return void e.onError(g)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&Oh(n)}async function Ow(i,e){const n=me(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.J_.indexOf(e);f>=0&&(c.J_.splice(f,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Fw(i,e){const n=me(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const g of f.J_)g.ta(a)&&(s=!0);f.H_=a}}s&&Oh(n)}function Uw(i,e,n){const s=me(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function Oh(i){i.X_.forEach(e=>{e.next()})}var uh,Qp;(Qp=uh||(uh={})).na="default",Qp.Cache="cache";class zw{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Os(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Os.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==uh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this.key=e}}class hg{constructor(e){this.key=e}}class Bw{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Te(),this.mutatedKeys=Te(),this.Va=Nm(e),this.ma=new Vs(this.Va)}get fa(){return this.Ea}ga(e,n){const s=n?n.pa:new qp,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,g=!1;const _=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,E=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((I,D)=>{const U=a.get(I),b=Xl(this.query,D)?D:null,X=!!U&&this.mutatedKeys.has(U.key),Y=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let Q=!1;U&&b?U.data.isEqual(b.data)?X!==Y&&(s.track({type:3,doc:b}),Q=!0):this.ya(U,b)||(s.track({type:2,doc:b}),Q=!0,(_&&this.Va(b,_)>0||E&&this.Va(b,E)<0)&&(g=!0)):!U&&b?(s.track({type:0,doc:b}),Q=!0):U&&!b&&(s.track({type:1,doc:U}),Q=!0,(_||E)&&(g=!0)),Q&&(b?(f=f.add(b),c=Y?c.add(I):c.delete(I)):(f=f.delete(I),c=c.delete(I)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const I=this.query.limitType==="F"?f.last():f.first();f=f.delete(I.key),c=c.delete(I.key),s.track({type:1,doc:I})}return{ma:f,pa:s,ss:g,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((I,D)=>function(b,X){const Y=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return Y(b)-Y(X)}(I.type,D.type)||this.Va(I.doc,D.doc)),this.wa(s),a=a!=null&&a;const g=n&&!a?this.Sa():[],_=this.Ra.size===0&&this.current&&!a?1:0,E=_!==this.Aa;return this.Aa=_,f.length!==0||E?{snapshot:new Os(this.query,e.ma,c,f,e.mutatedKeys,_===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:g}:{ba:g}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new qp,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Te(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new hg(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new cg(s))}),n}va(e){this.Ea=e.Es,this.Ra=Te();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Os.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class jw{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class bw{constructor(e){this.key=e,this.Fa=!1}}class $w{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new Di(g=>Dm(g),Gl),this.Oa=new Map,this.Na=new Set,this.Ba=new Ge(he.comparator),this.La=new Map,this.ka=new Ch,this.qa={},this.Qa=new Map,this.Ka=Ms.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function qw(i,e,n=!0){const s=yg(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await fg(s,e,n,!0),a}async function Hw(i,e){const n=yg(i);await fg(n,e,!0,!1)}async function fg(i,e,n,s){const a=await cw(i.localStore,$n(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await Qw(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&ig(i.remoteStore,a),g}async function Qw(i,e,n,s,a){i.Ua=(D,U,b)=>async function(Y,Q,ve,ge){let ye=Q.view.ga(ve);ye.ss&&(ye=await Bp(Y.localStore,Q.query,!1).then(({documents:k})=>Q.view.ga(k,ye)));const Ie=ge&&ge.targetChanges.get(Q.targetId),Ye=ge&&ge.targetMismatches.get(Q.targetId)!=null,Ve=Q.view.applyChanges(ye,Y.isPrimaryClient,Ie,Ye);return Kp(Y,Q.targetId,Ve.ba),Ve.snapshot}(i,D,U,b);const c=await Bp(i.localStore,e,!0),f=new Bw(e,c.Es),g=f.ga(c.documents),_=ea.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),E=f.applyChanges(g,i.isPrimaryClient,_);Kp(i,n,E.ba);const I=new jw(e,n,f);return i.xa.set(e,I),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),E.snapshot}async function Ww(i,e,n){const s=me(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(f=>!Gl(f,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await lh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Vh(s.remoteStore,a.targetId),ch(s,a.targetId)}).catch(Bs)):(ch(s,a.targetId),await lh(s.localStore,a.targetId,!0))}async function Kw(i,e){const n=me(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Vh(n.remoteStore,s.targetId))}async function Gw(i,e,n){const s=nT(i);try{const a=await function(f,g){const _=me(f),E=ht.now(),I=g.reduce((b,X)=>b.add(X.key),Te());let D,U;return _.persistence.runTransaction("Locally write mutations","readwrite",b=>{let X=dr(),Y=Te();return _.hs.getEntries(b,I).next(Q=>{X=Q,X.forEach((ve,ge)=>{ge.isValidDocument()||(Y=Y.add(ve))})}).next(()=>_.localDocuments.getOverlayedDocuments(b,X)).next(Q=>{D=Q;const ve=[];for(const ge of g){const ye=hE(ge,D.get(ge.key).overlayedDocument);ye!=null&&ve.push(new Jr(ge.key,ye,Im(ye.value.mapValue),Vn.exists(!0)))}return _.mutationQueue.addMutationBatch(b,E,ve,g)}).next(Q=>{U=Q;const ve=Q.applyToLocalDocumentSet(D,Y);return _.documentOverlayCache.saveOverlays(b,Q.batchId,ve)})}).then(()=>({batchId:U.batchId,changes:Lm(D)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(f,g,_){let E=f.qa[f.currentUser.toKey()];E||(E=new Ge(Ae)),E=E.insert(g,_),f.qa[f.currentUser.toKey()]=E}(s,a.batchId,n),await na(s,a.changes),await nu(s.remoteStore)}catch(a){const c=Mh(a,"Failed to persist write");n.reject(c)}}async function dg(i,e){const n=me(i);try{const s=await aw(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.La.get(c);f&&(Me(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Fa=!0:a.modifiedDocuments.size>0?Me(f.Fa):a.removedDocuments.size>0&&(Me(f.Fa),f.Fa=!1))}),await na(n,s,e)}catch(s){await Bs(s)}}function Wp(i,e,n){const s=me(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,f)=>{const g=f.view.ea(e);g.snapshot&&a.push(g.snapshot)}),function(f,g){const _=me(f);_.onlineState=g;let E=!1;_.queries.forEach((I,D)=>{for(const U of D.J_)U.ea(g)&&(E=!0)}),E&&Oh(_)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Xw(i,e,n){const s=me(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.La.get(e),c=a&&a.key;if(c){let f=new Ge(he.comparator);f=f.insert(c,Lt.newNoDocument(c,pe.min()));const g=Te().add(c),_=new Zl(pe.min(),new Map,new Ge(Ae),f,g);await dg(s,_),s.Ba=s.Ba.remove(c),s.La.delete(e),Fh(s)}else await lh(s.localStore,e,!1).then(()=>ch(s,e,n)).catch(Bs)}async function Yw(i,e){const n=me(i),s=e.batch.batchId;try{const a=await ow(n.localStore,e);mg(n,s,null),pg(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await na(n,a)}catch(a){await Bs(a)}}async function Jw(i,e,n){const s=me(i);try{const a=await function(f,g){const _=me(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let I;return _.mutationQueue.lookupMutationBatch(E,g).next(D=>(Me(D!==null),I=D.keys(),_.mutationQueue.removeMutationBatch(E,D))).next(()=>_.mutationQueue.performConsistencyCheck(E)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(E,I,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,I)).next(()=>_.localDocuments.getDocuments(E,I))})}(s.localStore,e);mg(s,e,n),pg(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await na(s,a)}catch(a){await Bs(a)}}function pg(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function mg(i,e,n){const s=me(i);let a=s.qa[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function ch(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||gg(i,s)})}function gg(i,e){i.Na.delete(e.path.canonicalString());const n=i.Ba.get(e);n!==null&&(Vh(i.remoteStore,n),i.Ba=i.Ba.remove(e),i.La.delete(n),Fh(i))}function Kp(i,e,n){for(const s of n)s instanceof cg?(i.ka.addReference(s.key,e),Zw(i,s)):s instanceof hg?(te("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||gg(i,s.key)):de()}function Zw(i,e){const n=e.key,s=n.path.canonicalString();i.Ba.get(n)||i.Na.has(s)||(te("SyncEngine","New document in limbo: "+n),i.Na.add(s),Fh(i))}function Fh(i){for(;i.Na.size>0&&i.Ba.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new he(Qe.fromString(e)),s=i.Ka.next();i.La.set(s,new bw(n)),i.Ba=i.Ba.insert(n,s),ig(i.remoteStore,new zr($n(Vm(n.path)),s,"TargetPurposeLimboResolution",Hl.oe))}}async function na(i,e,n){const s=me(i),a=[],c=[],f=[];s.xa.isEmpty()||(s.xa.forEach((g,_)=>{f.push(s.Ua(_,e,n).then(E=>{var I;if((E||n)&&s.isPrimaryClient){const D=E?!E.fromCache:(I=n==null?void 0:n.targetChanges.get(_.targetId))===null||I===void 0?void 0:I.current;s.sharedClientState.updateQueryState(_.targetId,D?"current":"not-current")}if(E){a.push(E);const D=kh.zi(_.targetId,E);c.push(D)}}))}),await Promise.all(f),s.Ma.R_(a),await async function(_,E){const I=me(_);try{await I.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>B.forEach(E,U=>B.forEach(U.Wi,b=>I.persistence.referenceDelegate.addReference(D,U.targetId,b)).next(()=>B.forEach(U.Gi,b=>I.persistence.referenceDelegate.removeReference(D,U.targetId,b)))))}catch(D){if(!js(D))throw D;te("LocalStore","Failed to update sequence numbers: "+D)}for(const D of E){const U=D.targetId;if(!D.fromCache){const b=I.us.get(U),X=b.snapshotVersion,Y=b.withLastLimboFreeSnapshotVersion(X);I.us=I.us.insert(U,Y)}}}(s.localStore,c))}async function eT(i,e){const n=me(i);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const s=await eg(n.localStore,e);n.currentUser=e,function(c,f){c.Qa.forEach(g=>{g.forEach(_=>{_.reject(new ae(H.CANCELLED,f))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await na(n,s.Ts)}}function tT(i,e){const n=me(i),s=n.La.get(e);if(s&&s.Fa)return Te().add(s.key);{let a=Te();const c=n.Oa.get(e);if(!c)return a;for(const f of c){const g=n.xa.get(f);a=a.unionWith(g.view.fa)}return a}}function yg(i){const e=me(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=dg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xw.bind(null,e),e.Ma.R_=Fw.bind(null,e.eventManager),e.Ma.Wa=Uw.bind(null,e.eventManager),e}function nT(i){const e=me(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jw.bind(null,e),e}class $l{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=eu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return sw(this.persistence,new rw,e.initialUser,this.serializer)}ja(e){return new Zm(Ph.ei,this.serializer)}za(e){return new fw}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$l.provider={build:()=>new $l};class rT extends $l{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Me(this.persistence.referenceDelegate instanceof jl);const s=this.persistence.referenceDelegate.garbageCollector;return new bE(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Wt.withCacheSize(this.cacheSizeBytes):Wt.DEFAULT;return new Zm(s=>jl.ei(s,n),this.serializer)}}class hh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Wp(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=eT.bind(null,this.syncEngine),await Nw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Lw}()}createDatastore(e){const n=eu(e.databaseInfo.databaseId),s=function(c){return new gw(c)}(e.databaseInfo);return function(c,f,g,_){return new vw(c,f,g,_)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,g){return new ww(s,a,c,f,g)}(this.localStore,this.datastore,e.asyncQueue,n=>Wp(this.syncEngine,n,0),function(){return bp.p()?new bp:new dw}())}createSyncEngine(e,n){return function(a,c,f,g,_,E,I){const D=new $w(a,c,f,g,_,E);return I&&(D.$a=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=me(a);te("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await ta(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}hh.provider={build:()=>new hh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=xt.UNAUTHENTICATED,this.clientId=Em.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{te("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(te("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Mh(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Hc(i,e){i.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await eg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Gp(i,e){i.asyncQueue.verifyOperationInProgress();const n=await oT(i);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>$p(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>$p(e.remoteStore,a)),i._onlineComponents=e}async function oT(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hc(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===H.FAILED_PRECONDITION||a.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Ds("Error using user provided cache. Falling back to memory cache: "+n),await Hc(i,new $l)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await Hc(i,new rT(void 0));return i._offlineComponents}async function _g(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await Gp(i,i._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await Gp(i,new hh))),i._onlineComponents}function aT(i){return _g(i).then(e=>e.syncEngine)}async function lT(i){const e=await _g(i),n=e.eventManager;return n.onListen=qw.bind(null,e.syncEngine),n.onUnlisten=Ww.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Hw.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Kw.bind(null,e.syncEngine),n}function uT(i,e,n={}){const s=new $r;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,g,_,E){const I=new iT({next:U=>{I.eu(),f.enqueueAndForget(()=>Ow(c,D)),U.fromCache&&_.source==="server"?E.reject(new ae(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(U)},error:U=>E.reject(U)}),D=new zw(g,I,{includeMetadataChanges:!0,ua:!0});return Mw(c,D)}(await lT(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(i,e,n){if(!n)throw new ae(H.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function cT(i,e,n,s){if(e===!0&&s===!0)throw new ae(H.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Yp(i){if(!he.isDocumentKey(i))throw new ae(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Jp(i){if(he.isDocumentKey(i))throw new ae(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Uh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":de()}function Vi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ae(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uh(i);throw new ae(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vg((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ae(H.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ae(H.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ae(H.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ru{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zp(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new yv;switch(s.type){case"firstParty":return new wv(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Xp.get(n);s&&(te("ComponentProvider","Removing Datastore"),Xp.delete(n),s.terminate())}(this),Promise.resolve()}}function hT(i,e,n,s={}){var a;const c=(i=Vi(i,ru))._getSettings(),f=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&Ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=xt.MOCK_USER;else{g=Xy(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new ae(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new xt(E)}i._authCredentials=new _v(new vm(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new iu(this.firestore,e,this._query)}}class pn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class qr extends iu{constructor(e,n,s){super(e,n,Vm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new he(e))}withConverter(e){return new qr(this.firestore,e,this._path)}}function fT(i,e,...n){if(i=Hr(i),Eg("collection","path",e),i instanceof ru){const s=Qe.fromString(e,...n);return Jp(s),new qr(i,null,s)}{if(!(i instanceof pn||i instanceof qr))throw new ae(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...n));return Jp(s),new qr(i.firestore,null,s)}}function fh(i,e,...n){if(i=Hr(i),arguments.length===1&&(e=Em.newId()),Eg("doc","path",e),i instanceof ru){const s=Qe.fromString(e,...n);return Yp(s),new pn(i,null,new he(s))}{if(!(i instanceof pn||i instanceof qr))throw new ae(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...n));return Yp(s),new pn(i.firestore,i instanceof qr?i.converter:null,new he(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new ng(this,"async_queue_retry"),this.fu=()=>{const s=qc();s&&te("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=qc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=qc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new $r;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!js(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(f){let g=f.message||"";return f.stack&&(g=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),g}(s);throw fr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=Lh.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.Eu.push(a),a}pu(){this.Au&&de()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}class ra extends ru{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new em,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new em(e),this._firestoreClient=void 0,await e}}}function dT(i,e){const n=typeof i=="object"?i:sv(),s=typeof i=="string"?i:"(default)",a=tv(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=Ky("firestore");c&&hT(a,...c)}return a}function wg(i){if(i._terminated)throw new ae(H.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||pT(i),i._firestoreClient}function pT(i){var e,n,s;const a=i._freezeSettings(),c=function(g,_,E,I){return new Ov(g,_,E,I.host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,vg(I.experimentalLongPollingOptions),I.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new sT(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fs(At.fromBase64String(e))}catch(n){throw new ae(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fs(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=/^__.*__$/;class gT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zo(e,this.data,n,this.fieldTransforms)}}class Tg{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ig(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class bh{constructor(e,n,s,a,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Fu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new bh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Bu(e),a}Lu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return ql(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Ig(this.Mu)&&mT.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class yT{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||eu(e)}$u(e,n,s,a=!1){return new bh({Mu:e,methodName:n,Ku:s,path:St.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sg(i){const e=i._freezeSettings(),n=eu(i._databaseId);return new yT(i._databaseId,!!e.ignoreUndefinedProperties,n)}function _T(i,e,n,s,a,c={}){const f=i.$u(c.merge||c.mergeFields?2:0,e,n,a);$h("Data must be an object, but it was:",f,s);const g=Ag(s,f);let _,E;if(c.merge)_=new nn(f.fieldMask),E=f.fieldTransforms;else if(c.mergeFields){const I=[];for(const D of c.mergeFields){const U=dh(e,D,n);if(!f.contains(U))throw new ae(H.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);Cg(I,U)||I.push(U)}_=new nn(I),E=f.fieldTransforms.filter(D=>_.covers(D.field))}else _=null,E=f.fieldTransforms;return new gT(new Kt(g),_,E)}class ou extends zh{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ou}}function vT(i,e,n,s){const a=i.$u(1,e,n);$h("Data must be an object, but it was:",a,s);const c=[],f=Kt.empty();Yr(s,(_,E)=>{const I=qh(e,_,n);E=Hr(E);const D=a.Lu(I);if(E instanceof ou)c.push(I);else{const U=au(E,D);U!=null&&(c.push(I),f.set(I,U))}});const g=new nn(c);return new Tg(f,g,a.fieldTransforms)}function ET(i,e,n,s,a,c){const f=i.$u(1,e,n),g=[dh(e,s,n)],_=[a];if(c.length%2!=0)throw new ae(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<c.length;U+=2)g.push(dh(e,c[U])),_.push(c[U+1]);const E=[],I=Kt.empty();for(let U=g.length-1;U>=0;--U)if(!Cg(E,g[U])){const b=g[U];let X=_[U];X=Hr(X);const Y=f.Lu(b);if(X instanceof ou)E.push(b);else{const Q=au(X,Y);Q!=null&&(E.push(b),I.set(b,Q))}}const D=new nn(E);return new Tg(I,D,f.fieldTransforms)}function au(i,e){if(Rg(i=Hr(i)))return $h("Unsupported field value:",e,i),Ag(i,e);if(i instanceof zh)return function(s,a){if(!Ig(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const c=[];let f=0;for(const g of s){let _=au(g,a.ku(f));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=Hr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return sE(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ht.fromDate(s);return{timestampValue:Bl(a.serializer,c)}}if(s instanceof ht){const c=new ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bl(a.serializer,c)}}if(s instanceof Bh)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fs)return{bytesValue:Qm(a.serializer,s._byteString)};if(s instanceof pn){const c=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw a.qu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Rh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof jh)return function(f,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw g.qu("VectorValues must only contain numeric values.");return Th(g.serializer,_)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${Uh(s)}`)}(i,e)}function Ag(i,e){const n={};return wm(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yr(i,(s,a)=>{const c=au(a,e.Ou(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function Rg(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ht||i instanceof Bh||i instanceof Fs||i instanceof pn||i instanceof zh||i instanceof jh)}function $h(i,e,n){if(!Rg(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=Uh(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function dh(i,e,n){if((e=Hr(e))instanceof su)return e._internalPath;if(typeof e=="string")return qh(i,e);throw ql("Field path arguments must be of type string or ",i,!1,void 0,n)}const wT=new RegExp("[~\\*/\\[\\]]");function qh(i,e,n){if(e.search(wT)>=0)throw ql(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new su(...e.split("."))._internalPath}catch{throw ql(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function ql(i,e,n,s,a){const c=s&&!s.isEmpty(),f=a!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||f)&&(_+=" (found",c&&(_+=` in field ${s}`),f&&(_+=` in document ${a}`),_+=")"),new ae(H.INVALID_ARGUMENT,g+i+_)}function Cg(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TT extends Pg{data(){return super.data()}}function kg(i,e){return typeof e=="string"?qh(i,e):e instanceof su?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ae(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ST{convertValue(e,n="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Yr(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>tt(f.doubleValue));return new jh(c)}convertGeoPoint(e){return new Bh(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Wl(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ko(e));default:return null}}convertTimestamp(e){const n=Wr(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Qe.fromString(e);Me(Jm(s));const a=new Go(s.get(1),s.get(3)),c=new he(s.popFirst(5));return a.isEqual(n)||fr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RT extends Pg{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(kg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Dl extends RT{data(e={}){return super.data(e)}}class CT{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Al(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Dl(this._firestore,this._userDataWriter,s.key,s,new Al(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(g=>{const _=new Dl(a._firestore,a._userDataWriter,g.doc.key,g.doc,new Al(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const _=new Dl(a._firestore,a._userDataWriter,g.doc.key,g.doc,new Al(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);let E=-1,I=-1;return g.type!==0&&(E=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),I=f.indexOf(g.doc.key)),{type:PT(g.type),doc:_,oldIndex:E,newIndex:I}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function PT(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}class kT extends ST{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function VT(i){i=Vi(i,iu);const e=Vi(i.firestore,ra),n=wg(e),s=new kT(e);return IT(i._query),uT(n,i._query).then(a=>new CT(e,s,i,a))}function DT(i,e,n,...s){i=Vi(i,pn);const a=Vi(i.firestore,ra),c=Sg(a);let f;return f=typeof(e=Hr(e))=="string"||e instanceof su?ET(c,"updateDoc",i._key,e,n,s):vT(c,"updateDoc",i._key,e),Hh(a,[f.toMutation(i._key,Vn.exists(!0))])}function NT(i){return Hh(Vi(i.firestore,ra),[new Ih(i._key,Vn.none())])}function xT(i,e){const n=Vi(i.firestore,ra),s=fh(i),a=AT(i.converter,e);return Hh(n,[_T(Sg(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,Vn.exists(!1))]).then(()=>s)}function Hh(i,e){return function(s,a){const c=new $r;return s.asyncQueue.enqueueAndForget(async()=>Gw(await aT(s),a,c)),c.promise}(wg(i),e)}(function(e,n=!0){(function(a){zs=a})(iv),Ll(new Qo("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new ra(new vv(s.getProvider("auth-internal")),new Iv(s.getProvider("app-check-internal")),function(E,I){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new ae(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Go(E.options.projectId,I)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),ks(yp,"4.7.6",e),ks(yp,"4.7.6","esm2017")})();const LT={apiKey:"AIzaSyA***********",authDomain:"your-app.firebaseapp.com",projectId:"your-app-id",storageBucket:"your-app.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:abcdefg"},MT=cm(LT),ph=dT(MT),tm=fT(ph,"tasks");function OT(){const[i,e]=Uo.useState([]),[n,s]=Uo.useState(""),[a,c]=Uo.useState(null);Uo.useEffect(()=>{(async()=>{const I=await VT(tm);e(I.docs.map(D=>({id:D.id,...D.data()})))})()},[]);const f=async()=>{if(n.trim()){if(a){const E=fh(ph,"tasks",a.id);await DT(E,{text:n}),e(i.map(I=>I.id===a.id?{...I,text:n}:I)),c(null)}else{const E={text:n},I=await xT(tm,E);e([...i,{id:I.id,...E}])}s("")}},g=async E=>{await NT(fh(ph,"tasks",E)),e(i.filter(I=>I.id!==E))},_=E=>{s(E.text),c(E)};return React.createElement("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center justify-center"},React.createElement("h1",{className:"text-3xl font-bold mb-6"},"   (Firebase)"),React.createElement("div",{className:"flex gap-2"},React.createElement("input",{type:"text",value:n,onChange:E=>s(E.target.value),className:"border border-gray-300 rounded px-4 py-2 w-64",placeholder:"   "}),React.createElement("button",{onClick:f,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},a?"":"")),React.createElement("ul",{className:"mt-6 space-y-2 w-72"},i.map(E=>React.createElement("li",{key:E.id,className:"flex justify-between items-center bg-white shadow p-3 rounded"},E.text,React.createElement("div",{className:"flex gap-2"},React.createElement("button",{onClick:()=>_(E),className:"text-yellow-500"},""),React.createElement("button",{onClick:()=>g(E.id),className:"text-red-500"},""))))))}Uy.createRoot(document.getElementById("root")).render(React.createElement(Uo.StrictMode,null,React.createElement(OT,null)));
